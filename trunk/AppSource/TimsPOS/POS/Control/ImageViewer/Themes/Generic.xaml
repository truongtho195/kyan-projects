<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:local="clr-namespace:CPC.Control">

    <SolidColorBrush x:Key="ButtonSystemBorder"
                     Color="White" />

    <SolidColorBrush x:Key="ButtonSystem_IsKeyboardFocused_Border"
                     Color="White" />

    <LinearGradientBrush x:Key="ButtonSystemBackground"
                         EndPoint="0.5,1"
                         MappingMode="RelativeToBoundingBox"
                         StartPoint="0.5,0">
        <GradientStop Color="#FFE1E1E1"
                      Offset="0" />
        <GradientStop Color="#FFD8D8D8"
                      Offset="1" />
    </LinearGradientBrush>

    <LinearGradientBrush x:Key="ButtonSystemLight"
                         EndPoint="0.5,1"
                         StartPoint="0.5,0">
        <GradientStop Color="White"
                      Offset="0" />
        <GradientStop Offset="1" />
    </LinearGradientBrush>

    <LinearGradientBrush x:Key="ButtonSystem_IsKeyboardFocused_Background"
                         EndPoint="0.5,1"
                         MappingMode="RelativeToBoundingBox"
                         StartPoint="0.5,0"
                         Opacity="0.4">
        <GradientStop Color="#FFE1E1E1"
                      Offset="0" />
        <GradientStop Color="#FFD8D8D8"
                      Offset="1" />
    </LinearGradientBrush>

    <LinearGradientBrush x:Key="ButtonSystem_IsMouseOver_Background"
                         EndPoint="0.5,1"
                         MappingMode="RelativeToBoundingBox"
                         StartPoint="0.5,0"
                         Opacity="0.6">
        <GradientStop Color="#FFE1E1E1"
                      Offset="0" />
        <GradientStop Color="#FFD8D8D8"
                      Offset="1" />
    </LinearGradientBrush>

    <LinearGradientBrush x:Key="ButtonSystem_IsPress_Background"
                         EndPoint="0.5,1"
                         MappingMode="RelativeToBoundingBox"
                         StartPoint="0.5,0"
                         Opacity="0.8">
        <GradientStop Color="#FFE1E1E1"
                      Offset="0" />
        <GradientStop Color="#FFD8D8D8"
                      Offset="1" />
    </LinearGradientBrush>

    <LinearGradientBrush x:Key="ButtonSystem_IsEnable_Background"
                         EndPoint="0.5,1"
                         MappingMode="RelativeToBoundingBox"
                         StartPoint="0.5,0">
        <GradientStop Color="#FFE1E1E1"
                      Offset="0" />
        <GradientStop Color="#FFD8D8D8"
                      Offset="1" />
    </LinearGradientBrush>

    <Style x:Key="ButtonImageViewerStyle"
           TargetType="{x:Type Button}">
        <Setter Property="Foreground"
                Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" />
        <Setter Property="HorizontalContentAlignment"
                Value="Center" />
        <Setter Property="VerticalContentAlignment"
                Value="Center" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Button}">
                    <Grid Width="Auto"
                          Height="Auto"
                          x:Name="grid"
                          Background="#02FFFFFF"
                          Cursor="Hand">
                        <Rectangle Stroke="{StaticResource ButtonSystemBorder}"
                                   RadiusY="3"
                                   RadiusX="3"
                                   StrokeThickness="1"
                                   x:Name="bg"
                                   Opacity="0"
                                   Fill="{StaticResource ButtonSystemBackground}" />
                        <Rectangle Stroke="{StaticResource ButtonSystem_IsKeyboardFocused_Border}"
                                   RadiusY="3"
                                   RadiusX="3"
                                   StrokeThickness="1"
                                   x:Name="Focused"
                                   Opacity="0"
                                   Margin="2"
                                   StrokeDashArray="2" />
                        <ContentPresenter x:Name="contentPresenter"
                                          HorizontalAlignment="Center"
                                          VerticalAlignment="Center"
                                          SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
                                          RecognizesAccessKey="True"
                                          RenderTransformOrigin="0.5,0.5">
                            <ContentPresenter.RenderTransform>
                                <TransformGroup>
                                    <ScaleTransform />
                                    <SkewTransform />
                                    <RotateTransform />
                                    <TranslateTransform />
                                </TransformGroup>
                            </ContentPresenter.RenderTransform>
                        </ContentPresenter>
                        <Rectangle RadiusY="3"
                                   RadiusX="3"
                                   StrokeThickness="1"
                                   x:Name="Light"
                                   Margin="1,1,1,24"
                                   Opacity="0"
                                   Fill="{StaticResource ButtonSystemLight}"
                                   Visibility="Visible" />
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsKeyboardFocused"
                                 Value="True">
                            <Setter Property="Opacity"
                                    TargetName="bg"
                                    Value="1" />
                            <Setter Property="Opacity"
                                    TargetName="Focused"
                                    Value="1" />
                            <Setter Property="Opacity"
                                    TargetName="Light"
                                    Value="1" />
                            <Setter Property="Fill"
                                    TargetName="bg"
                                    Value="{StaticResource ButtonSystem_IsKeyboardFocused_Background}" />
                        </Trigger>
                        <Trigger Property="IsMouseOver"
                                 Value="True">
                            <Setter Property="Opacity"
                                    TargetName="bg"
                                    Value="1" />
                            <Setter Property="Opacity"
                                    TargetName="Light"
                                    Value="1" />
                            <Setter Property="Fill"
                                    TargetName="bg"
                                    Value="{StaticResource ButtonSystem_IsMouseOver_Background}" />
                        </Trigger>
                        <Trigger Property="IsPressed"
                                 Value="True">
                            <Setter Property="Opacity"
                                    TargetName="bg"
                                    Value="1" />
                            <Setter Property="RenderTransform"
                                    TargetName="contentPresenter">
                                <Setter.Value>
                                    <TransformGroup>
                                        <ScaleTransform />
                                        <SkewTransform />
                                        <RotateTransform />
                                        <TranslateTransform X="0.5"
                                                            Y="0.5" />
                                    </TransformGroup>
                                </Setter.Value>
                            </Setter>
                            <Setter Property="Opacity"
                                    TargetName="Light"
                                    Value="1" />
                            <Setter Property="Fill"
                                    TargetName="bg"
                                    Value="{StaticResource ButtonSystem_IsPress_Background}" />
                        </Trigger>

                        <Trigger Property="IsEnabled"
                                 Value="False">
                            <Setter Property="Opacity"
                                    TargetName="Light"
                                    Value="1" />
                            <Setter Property="Fill"
                                    TargetName="bg"
                                    Value="{StaticResource ButtonSystem_IsEnable_Background}" />
                            <Setter Property="Visibility"
                                    TargetName="Light"
                                    Value="Collapsed" />
                            <Setter Property="Opacity"
                                    TargetName="bg"
                                    Value="0" />
                            <Setter Property="Opacity"
                                    TargetName="grid"
                                    Value="0.5" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type local:ImageViewer}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:ImageViewer}">
                    <Border BorderThickness="{TemplateBinding BorderThickness}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            Background="{x:Null}"
                            CornerRadius="2">
                        <Grid Background="{TemplateBinding Background}">
                            <Grid.RowDefinitions>
                                <RowDefinition />
                                <RowDefinition Height="25" />
                            </Grid.RowDefinitions>

                            <Canvas x:Name="PART_Canvas">
                                <Image x:Name="PART_Image" />
                            </Canvas>

                            <TextBlock x:Name="PART_TextBlock"
                                       Text="No preview available."
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"
                                       Foreground="{TemplateBinding Foreground}" />

                            <StackPanel x:Name="PART_StackPannel"
                                        Grid.Row="1"
                                        Orientation="Horizontal"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center">
                                <Button x:Name="PART_ButtonRotateLeft"
                                        ToolTip="Rotate CounterClockwise."
                                        Style="{StaticResource ButtonImageViewerStyle}">
                                    <Image Source="..\Images\RotateLeft.png" />
                                </Button>
                                <Button x:Name="PART_ButtonRotateRight"
                                        ToolTip="Rotate Clockwise."
                                        Style="{StaticResource ButtonImageViewerStyle}">
                                    <Image Source="..\Images\RotateRight.png" />
                                </Button>
                                <Button x:Name="PART_ButtonFlipX"
                                        ToolTip="Flip horizontal."
                                        Style="{StaticResource ButtonImageViewerStyle}">
                                    <Image Source="..\Images\FlipX.png" />
                                </Button>
                                <Button x:Name="PART_ButtonFlipY"
                                        ToolTip="Flip vertical."
                                        Style="{StaticResource ButtonImageViewerStyle}">
                                    <Image Source="..\Images\FlipY.png" />
                                </Button>
                                <Button x:Name="PART_ButtonZoomIn"
                                        ToolTip="Zoom In (+)."
                                        Style="{StaticResource ButtonImageViewerStyle}">
                                    <Image Source="..\Images\ZoomIn.png" />
                                </Button>
                                <Button x:Name="PART_ButtonZoomOut"
                                        ToolTip="Zoom Out (-)."
                                        Style="{StaticResource ButtonImageViewerStyle}">
                                    <Image Source="..\Images\ZoomOut.png" />
                                </Button>
                                <Button x:Name="PART_ButtonDrop"
                                        ToolTip="Drop image."
                                        Style="{StaticResource ButtonImageViewerStyle}">
                                    <Image Source="..\Images\Drop.png" />
                                </Button>
                                <Button x:Name="PART_ButtonReset"
                                        ToolTip="Best Fit."
                                        Style="{StaticResource ButtonImageViewerStyle}">
                                    <Image Source="..\Images\ResetImage.png" />
                                </Button>
                                <Button x:Name="PART_ButtonSave"
                                        Visibility="Collapsed"
                                        ToolTip="Save image cropped."
                                        Style="{StaticResource ButtonImageViewerStyle}">
                                    <Image Source="..\Images\SaveImageDropped.png" />
                                </Button>
                                <Button x:Name="PART_ButtonExit"
                                        Visibility="Collapsed"
                                        ToolTip="Exit drop mode."
                                        Style="{StaticResource ButtonImageViewerStyle}">
                                    <Image Source="..\Images\CancelImageDrop.png" />
                                </Button>
                            </StackPanel>

                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>