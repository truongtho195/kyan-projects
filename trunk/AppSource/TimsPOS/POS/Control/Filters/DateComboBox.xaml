<UserControl xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:Custom="http://schemas.microsoft.com/wpf/2008/toolkit"
             xmlns:Microsoft_Windows_Themes="clr-namespace:Microsoft.Windows.Themes;assembly=PresentationFramework.Luna"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:local="clr-namespace:CPC.Control"
             x:Class="CPC.Control.DateComboBox"
             x:Name="UserControl"
             Height="Auto"
             Width="Auto"
             mc:Ignorable="d">
    <UserControl.Resources>
        <Style x:Key="ButtonFocusVisual">
            <Setter Property="Control.Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Rectangle Stroke="Black"
                                   StrokeDashArray="1 2"
                                   StrokeThickness="1"
                                   Margin="3"
                                   SnapsToDevicePixels="true" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <LinearGradientBrush x:Key="ButtonNormalBackgroundFill"
                             EndPoint="0.5,1"
                             StartPoint="0.5,0">
            <GradientStop Color="#FFFFFFFF"
                          Offset="0" />
            <GradientStop Color="#FFF0F0EA"
                          Offset="0.9" />
        </LinearGradientBrush>
        <SolidColorBrush x:Key="ButtonBorder"
                         Color="#FF003C74" />
        <Style x:Key="btnCmbItemSearchStyle"
               TargetType="{x:Type Button}">
            <Setter Property="FocusVisualStyle"
                    Value="{StaticResource ButtonFocusVisual}" />
            <Setter Property="Background"
                    Value="{StaticResource ButtonNormalBackgroundFill}" />
            <Setter Property="BorderBrush"
                    Value="{StaticResource ButtonBorder}" />
            <Setter Property="Foreground"
                    Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" />
            <Setter Property="HorizontalContentAlignment"
                    Value="Center" />
            <Setter Property="VerticalContentAlignment"
                    Value="Center" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Grid x:Name="grid"
                              Height="Auto"
                              Background="White">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="24" />
                                <RowDefinition Height="24" />
                            </Grid.RowDefinitions>
                            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                              Margin="{TemplateBinding Padding}"
                                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                              SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
                                              RecognizesAccessKey="True"
                                              Grid.RowSpan="3" />
                            <TextBlock x:Name="txtblFrom"
                                       Text="From"
                                       Foreground="Black"
                                       TextWrapping="NoWrap"
                                       FontSize="12"
                                       VerticalAlignment="Center"
                                       Margin="3,0,0,0"
                                       HorizontalAlignment="Left" />
                            <TextBlock x:Name="txtblTo"
                                       Text="To"
                                       Foreground="Black"
                                       TextWrapping="NoWrap"
                                       FontSize="12"
                                       VerticalAlignment="Center"
                                       Margin="3,0,0,0"
                                       HorizontalAlignment="Left"
                                       Grid.Row="1" />
                        </Grid>
                        <!--<ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver"
                                     Value="True">
                                <Setter Property="Background"
                                        TargetName="grid"
                                        Value="#FF316AC5" />
                                <Setter Property="Foreground"
                                        TargetName="txtblFrom"
                                        Value="White" />
                                <Setter Property="Foreground"
                                        TargetName="txtblTo"
                                        Value="White" />
                            </Trigger>
                            <Trigger Property="IsKeyboardFocused"
                                     Value="true" />
                            <Trigger Property="ToggleButton.IsChecked"
                                     Value="true" />
                            <Trigger Property="IsEnabled"
                                     Value="false">
                                <Setter Property="Foreground"
                                        Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                            </Trigger>
                        </ControlTemplate.Triggers>-->
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="{x:Type DatePicker}"
               x:Key="DatePickerStyle1">
            <Setter Property="Validation.ErrorTemplate">
                <Setter.Value>
                    <ControlTemplate>
                        <DockPanel>
                            <TextBlock Foreground="Red"
                                       FontSize="16"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Right"
                                       Text="*"
                                       ToolTip="{Binding AdornedElement.(Validation.Errors)[0].ErrorContent, ElementName=errorAdorner}" />
                            <AdornedElementPlaceholder x:Name="errorAdorner" />
                        </DockPanel>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type DatePicker}">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <Grid HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                  x:Name="PART_Root"
                                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}">
                                <Grid.Resources>
                                    <ControlTemplate x:Key="DropDownButtonTemplate"
                                                     TargetType="{x:Type Button}">
                                        <Grid>
                                            <Grid FlowDirection="LeftToRight"
                                                  HorizontalAlignment="Center"
                                                  Margin="0,0,0,0"
                                                  VerticalAlignment="Center"
                                                  Width="19"
                                                  Height="18"
                                                  Background="#11FFFFFF">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="20*" />
                                                    <ColumnDefinition Width="20*" />
                                                    <ColumnDefinition Width="20*" />
                                                    <ColumnDefinition Width="20*" />
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="23*" />
                                                    <RowDefinition Height="19*" />
                                                    <RowDefinition Height="19*" />
                                                    <RowDefinition Height="19*" />
                                                </Grid.RowDefinitions>
                                                <Border Margin="-1,-1,-1,-1"
                                                        x:Name="Highlight"
                                                        Opacity="0"
                                                        Grid.ColumnSpan="4"
                                                        Grid.Row="0"
                                                        Grid.RowSpan="4"
                                                        BorderBrush="#FF45D6FA"
                                                        BorderThickness="1,1,1,1"
                                                        CornerRadius="0,0,1,1" />
                                                <Border Margin="0,-1,0,0"
                                                        x:Name="Background"
                                                        Opacity="1"
                                                        Grid.ColumnSpan="4"
                                                        Grid.Row="1"
                                                        Grid.RowSpan="3"
                                                        Background="#FF1F3B53"
                                                        BorderBrush="#FFFFFFFF"
                                                        BorderThickness="1,1,1,1"
                                                        CornerRadius="0.5,0.5,0.5,0.5" />
                                                <Border Margin="0,-1,0,0"
                                                        x:Name="BackgroundGradient"
                                                        Opacity="1"
                                                        Grid.ColumnSpan="4"
                                                        Grid.Row="1"
                                                        Grid.RowSpan="3"
                                                        BorderBrush="#BF000000"
                                                        BorderThickness="1,1,1,1"
                                                        CornerRadius="0.5,0.5,0.5,0.5">
                                                    <Border.Background>
                                                        <LinearGradientBrush EndPoint="0.7,1"
                                                                             StartPoint="0.7,0">
                                                            <GradientStop Color="#FFFFFFFF"
                                                                          Offset="0" />
                                                            <GradientStop Color="#F9FFFFFF"
                                                                          Offset="0.375" />
                                                            <GradientStop Color="#E5FFFFFF"
                                                                          Offset="0.625" />
                                                            <GradientStop Color="#C6FFFFFF"
                                                                          Offset="1" />
                                                        </LinearGradientBrush>
                                                    </Border.Background>
                                                </Border>
                                                <Rectangle StrokeThickness="1"
                                                           Grid.ColumnSpan="4"
                                                           Grid.RowSpan="1">
                                                    <Rectangle.Fill>
                                                        <LinearGradientBrush EndPoint="0.3,-1.1"
                                                                             StartPoint="0.46,1.6">
                                                            <GradientStop Color="#FF4084BD" />
                                                            <GradientStop Color="#FFAFCFEA"
                                                                          Offset="1" />
                                                        </LinearGradientBrush>
                                                    </Rectangle.Fill>
                                                    <Rectangle.Stroke>
                                                        <LinearGradientBrush EndPoint="0.48,-1"
                                                                             StartPoint="0.48,1.25">
                                                            <GradientStop Color="#FF494949" />
                                                            <GradientStop Color="#FF9F9F9F"
                                                                          Offset="1" />
                                                        </LinearGradientBrush>
                                                    </Rectangle.Stroke>
                                                </Rectangle>
                                                <Path Fill="#FF2F2F2F"
                                                      Stretch="Fill"
                                                      HorizontalAlignment="Center"
                                                      Margin="4,3,4,3"
                                                      VerticalAlignment="Center"
                                                      RenderTransformOrigin="0.5,0.5"
                                                      Grid.Column="0"
                                                      Grid.ColumnSpan="4"
                                                      Grid.Row="1"
                                                      Grid.RowSpan="3"
                                                      Data="M11.426758,8.4305077L11.749023,8.4305077 11.749023,16.331387 10.674805,16.331387 10.674805,10.299648 9.0742188,11.298672 9.0742188,10.294277C9.4788408,10.090176 9.9094238,9.8090878 10.365967,9.4510155 10.82251,9.0929432 11.176106,8.7527733 11.426758,8.4305077z M14.65086,8.4305077L18.566387,8.4305077 18.566387,9.3435936 15.671368,9.3435936 15.671368,11.255703C15.936341,11.058764 16.27293,10.960293 16.681133,10.960293 17.411602,10.960293 17.969301,11.178717 18.354229,11.615566 18.739157,12.052416 18.931622,12.673672 18.931622,13.479336 18.931622,15.452317 18.052553,16.438808 16.294415,16.438808 15.560365,16.438808 14.951641,16.234707 14.468243,15.826504L14.881817,14.929531C15.368796,15.326992 15.837872,15.525723 16.289043,15.525723 17.298809,15.525723 17.803692,14.895514 17.803692,13.635098 17.803692,12.460618 17.305971,11.873379 16.310528,11.873379 15.83071,11.873379 15.399232,12.079271 15.016094,12.491055L14.65086,12.238613z" />
                                                <Ellipse Fill="#FFFFFFFF"
                                                         StrokeThickness="0"
                                                         HorizontalAlignment="Center"
                                                         VerticalAlignment="Center"
                                                         Width="3"
                                                         Height="3"
                                                         Grid.ColumnSpan="4" />
                                                <Border x:Name="DisabledVisual"
                                                        Opacity="0"
                                                        Grid.ColumnSpan="4"
                                                        Grid.Row="0"
                                                        Grid.RowSpan="4"
                                                        BorderBrush="#B2FFFFFF"
                                                        BorderThickness="1,1,1,1"
                                                        CornerRadius="0,0,0.5,0.5" />
                                            </Grid>
                                        </Grid>
                                    </ControlTemplate>
                                    <SolidColorBrush x:Key="DisabledBrush"
                                                     Color="#A5FFFFFF" />
                                </Grid.Resources>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <Button HorizontalAlignment="Left"
                                        Margin="3,0,0,0"
                                        x:Name="PART_Button"
                                        VerticalAlignment="Top"
                                        Width="20"
                                        Foreground="{TemplateBinding Foreground}"
                                        Focusable="False"
                                        Grid.Column="1"
                                        Grid.Row="0">
                                    <Button.Template>
                                        <ControlTemplate TargetType="{x:Type Button}">
                                            <Grid>
                                                <Grid FlowDirection="LeftToRight"
                                                      HorizontalAlignment="Center"
                                                      Margin="0,0,0,0"
                                                      VerticalAlignment="Center"
                                                      Width="19"
                                                      Height="18"
                                                      Background="#11FFFFFF">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="20*" />
                                                        <ColumnDefinition Width="20*" />
                                                        <ColumnDefinition Width="20*" />
                                                        <ColumnDefinition Width="20*" />
                                                    </Grid.ColumnDefinitions>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="23*" />
                                                        <RowDefinition Height="19*" />
                                                        <RowDefinition Height="19*" />
                                                        <RowDefinition Height="19*" />
                                                    </Grid.RowDefinitions>
                                                    <Border Margin="-1,-1,-1,-1"
                                                            x:Name="Highlight"
                                                            Opacity="0"
                                                            Grid.ColumnSpan="4"
                                                            Grid.Row="0"
                                                            Grid.RowSpan="4"
                                                            BorderBrush="#FF45D6FA"
                                                            BorderThickness="1,1,1,1"
                                                            CornerRadius="0,0,1,1" />
                                                    <Border Margin="0,-1,0,0"
                                                            x:Name="Background"
                                                            Opacity="1"
                                                            Grid.ColumnSpan="4"
                                                            Grid.Row="1"
                                                            Grid.RowSpan="3"
                                                            Background="#FF1F3B53"
                                                            BorderBrush="#FFFFFFFF"
                                                            BorderThickness="1,1,1,1"
                                                            CornerRadius="0.5,0.5,0.5,0.5" />
                                                    <Border Margin="0,-1,0,0"
                                                            x:Name="BackgroundGradient"
                                                            Opacity="1"
                                                            Grid.ColumnSpan="4"
                                                            Grid.Row="1"
                                                            Grid.RowSpan="3"
                                                            BorderBrush="#BF000000"
                                                            BorderThickness="1,1,1,1"
                                                            CornerRadius="0.5,0.5,0.5,0.5">
                                                        <Border.Background>
                                                            <LinearGradientBrush EndPoint="0.7,1"
                                                                                 StartPoint="0.7,0">
                                                                <GradientStop Color="#FFFFFFFF"
                                                                              Offset="0" />
                                                                <GradientStop Color="#F9FFFFFF"
                                                                              Offset="0.375" />
                                                                <GradientStop Color="#E5FFFFFF"
                                                                              Offset="0.625" />
                                                                <GradientStop Color="#C6FFFFFF"
                                                                              Offset="1" />
                                                            </LinearGradientBrush>
                                                        </Border.Background>
                                                    </Border>
                                                    <Rectangle StrokeThickness="1"
                                                               Grid.ColumnSpan="4"
                                                               Grid.RowSpan="1">
                                                        <Rectangle.Fill>
                                                            <LinearGradientBrush EndPoint="0.3,-1.1"
                                                                                 StartPoint="0.46,1.6">
                                                                <GradientStop Color="#FF4084BD" />
                                                                <GradientStop Color="#FFAFCFEA"
                                                                              Offset="1" />
                                                            </LinearGradientBrush>
                                                        </Rectangle.Fill>
                                                        <Rectangle.Stroke>
                                                            <LinearGradientBrush EndPoint="0.48,-1"
                                                                                 StartPoint="0.48,1.25">
                                                                <GradientStop Color="#FF494949" />
                                                                <GradientStop Color="#FF9F9F9F"
                                                                              Offset="1" />
                                                            </LinearGradientBrush>
                                                        </Rectangle.Stroke>
                                                    </Rectangle>
                                                    <Path Fill="#FF2F2F2F"
                                                          Stretch="Fill"
                                                          HorizontalAlignment="Center"
                                                          Margin="4,3,4,3"
                                                          VerticalAlignment="Center"
                                                          RenderTransformOrigin="0.5,0.5"
                                                          Grid.Column="0"
                                                          Grid.ColumnSpan="4"
                                                          Grid.Row="1"
                                                          Grid.RowSpan="3"
                                                          Data="M11.426758,8.4305077L11.749023,8.4305077 11.749023,16.331387 10.674805,16.331387 10.674805,10.299648 9.0742188,11.298672 9.0742188,10.294277C9.4788408,10.090176 9.9094238,9.8090878 10.365967,9.4510155 10.82251,9.0929432 11.176106,8.7527733 11.426758,8.4305077z M14.65086,8.4305077L18.566387,8.4305077 18.566387,9.3435936 15.671368,9.3435936 15.671368,11.255703C15.936341,11.058764 16.27293,10.960293 16.681133,10.960293 17.411602,10.960293 17.969301,11.178717 18.354229,11.615566 18.739157,12.052416 18.931622,12.673672 18.931622,13.479336 18.931622,15.452317 18.052553,16.438808 16.294415,16.438808 15.560365,16.438808 14.951641,16.234707 14.468243,15.826504L14.881817,14.929531C15.368796,15.326992 15.837872,15.525723 16.289043,15.525723 17.298809,15.525723 17.803692,14.895514 17.803692,13.635098 17.803692,12.460618 17.305971,11.873379 16.310528,11.873379 15.83071,11.873379 15.399232,12.079271 15.016094,12.491055L14.65086,12.238613z" />
                                                    <Ellipse Fill="#FFFFFFFF"
                                                             StrokeThickness="0"
                                                             HorizontalAlignment="Center"
                                                             VerticalAlignment="Center"
                                                             Width="3"
                                                             Height="3"
                                                             Grid.ColumnSpan="4" />
                                                    <Border x:Name="DisabledVisual"
                                                            Opacity="0"
                                                            Grid.ColumnSpan="4"
                                                            Grid.Row="0"
                                                            Grid.RowSpan="4"
                                                            BorderBrush="#B2FFFFFF"
                                                            BorderThickness="1,1,1,1"
                                                            CornerRadius="0,0,0.5,0.5" />
                                                </Grid>
                                            </Grid>
                                        </ControlTemplate>
                                    </Button.Template>
                                </Button>
                                <DatePickerTextBox x:Name="PART_TextBox"
                                                   Foreground="{TemplateBinding Foreground}"
                                                   HorizontalContentAlignment="Stretch"
                                                   VerticalContentAlignment="Stretch"
                                                   Grid.Column="0"
                                                   Grid.Row="0" />
                                <Grid x:Name="PART_DisabledVisual"
                                      IsHitTestVisible="False"
                                      Opacity="0"
                                      Grid.Column="0"
                                      Grid.ColumnSpan="2"
                                      Grid.Row="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <Rectangle Fill="#A5FFFFFF"
                                               RadiusX="1"
                                               RadiusY="1"
                                               Grid.Column="0"
                                               Grid.Row="0" />
                                    <Rectangle Fill="#A5FFFFFF"
                                               RadiusX="1"
                                               RadiusY="1"
                                               Margin="3,0,3,0"
                                               Width="19"
                                               Height="18"
                                               Grid.Column="1"
                                               Grid.Row="0" />
                                    <Popup x:Name="PART_Popup"
                                           AllowsTransparency="True"
                                           Placement="Bottom"
                                           StaysOpen="False" />
                                </Grid>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="ComboBoxItemStyle1"
               TargetType="{x:Type ComboBoxItem}">
            <Setter Property="HorizontalContentAlignment"
                    Value="{Binding HorizontalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}" />
            <Setter Property="VerticalContentAlignment"
                    Value="{Binding VerticalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}" />
            <Setter Property="Padding"
                    Value="3,0,3,0" />
            <Setter Property="Background"
                    Value="Transparent" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ComboBoxItem}">
                        <Border x:Name="Bd"
                                SnapsToDevicePixels="true"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                              SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsHighlighted"
                                     Value="true">
                                <Setter Property="Background"
                                        TargetName="Bd"
                                        Value="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}" />
                                <Setter Property="Foreground"
                                        Value="{DynamicResource {x:Static SystemColors.HighlightTextBrushKey}}" />
                            </Trigger>
                            <Trigger Property="IsEnabled"
                                     Value="false">
                                <Setter Property="Foreground"
                                        Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="ComboBoxFocusVisual">
            <Setter Property="Control.Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Rectangle Stroke="Black"
                                   StrokeDashArray="1 2"
                                   StrokeThickness="1"
                                   Margin="4,4,21,4"
                                   SnapsToDevicePixels="true" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <SolidColorBrush x:Key="ListBorder"
                         Color="#FF7F9DB9" />
        <Style x:Key="ComboBoxTransparentButtonStyle"
               TargetType="{x:Type ToggleButton}">
            <Setter Property="MinWidth"
                    Value="0" />
            <Setter Property="MinHeight"
                    Value="0" />
            <Setter Property="Width"
                    Value="Auto" />
            <Setter Property="Height"
                    Value="Auto" />
            <Setter Property="Background"
                    Value="Transparent" />
            <Setter Property="Focusable"
                    Value="false" />
            <Setter Property="ClickMode"
                    Value="Press" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ToggleButton}">
                        <Grid SnapsToDevicePixels="true"
                              Background="#02FFFFFF">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition SharedSizeGroup="ComboBoxButton"
                                                  Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <Rectangle Grid.Column="1"
                                       Width="{DynamicResource {x:Static SystemParameters.VerticalScrollBarWidthKey}}" />
                            <Path x:Name="path"
                                  Fill="Black"
                                  Stretch="Fill"
                                  VerticalAlignment="Center"
                                  Grid.Column="1"
                                  Data="M236.41667,15.666667 L242.41634,15.666667 239.4165,18.672052 z"
                                  HorizontalAlignment="Center"
                                  RenderTransformOrigin="0.5,0.5"
                                  Width="8"
                                  Height="4.008">
                                <Path.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform />
                                        <SkewTransform />
                                        <RotateTransform />
                                        <TranslateTransform />
                                    </TransformGroup>
                                </Path.RenderTransform>
                            </Path>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked"
                                     Value="True">
                                <Setter Property="RenderTransform"
                                        TargetName="path">
                                    <Setter.Value>
                                        <TransformGroup>
                                            <ScaleTransform />
                                            <SkewTransform />
                                            <RotateTransform Angle="180" />
                                            <TranslateTransform />
                                        </TransformGroup>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <EventTrigger RoutedEvent="FrameworkElement.Loaded" />
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="ComboBoxEditableTextBox"
               TargetType="{x:Type TextBox}">
            <Setter Property="OverridesDefaultStyle"
                    Value="true" />
            <Setter Property="AllowDrop"
                    Value="true" />
            <Setter Property="MinWidth"
                    Value="0" />
            <Setter Property="MinHeight"
                    Value="0" />
            <Setter Property="FocusVisualStyle"
                    Value="{x:Null}" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TextBox}">
                        <ScrollViewer x:Name="PART_ContentHost"
                                      Background="Transparent"
                                      Focusable="false"
                                      HorizontalScrollBarVisibility="Hidden"
                                      VerticalScrollBarVisibility="Hidden" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="ComboBoxTransparentButtonStyle2"
               TargetType="{x:Type ToggleButton}">
            <Setter Property="MinWidth"
                    Value="0" />
            <Setter Property="MinHeight"
                    Value="0" />
            <Setter Property="Width"
                    Value="Auto" />
            <Setter Property="Height"
                    Value="Auto" />
            <Setter Property="Background"
                    Value="Transparent" />
            <Setter Property="Focusable"
                    Value="false" />
            <Setter Property="ClickMode"
                    Value="Press" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ToggleButton}">
                        <Grid SnapsToDevicePixels="true"
                              Background="{TemplateBinding Background}">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition SharedSizeGroup="ComboBoxButton"
                                                  Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <Microsoft_Windows_Themes:ScrollChrome x:Name="Chrome"
                                                                   Width="{DynamicResource {x:Static SystemParameters.VerticalScrollBarWidthKey}}"
                                                                   Grid.Column="1"
                                                                   HasOuterBorder="false"
                                                                   Padding="1,0,0,0"
                                                                   RenderMouseOver="{TemplateBinding IsMouseOver}"
                                                                   RenderPressed="{TemplateBinding IsChecked}"
                                                                   Microsoft_Windows_Themes:ScrollChrome.ScrollGlyph="DownArrow"
                                                                   ThemeColor="NormalColor" />
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <ControlTemplate x:Key="ComboBoxEditableTemplate"
                         TargetType="{x:Type ComboBox}">
            <Grid SnapsToDevicePixels="true">
                <Border x:Name="Bd"
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        Padding="1">
                    <Grid Grid.IsSharedSizeScope="true">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="1" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition SharedSizeGroup="ComboBoxButton"
                                              Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBox x:Name="PART_EditableTextBox"
                                 Margin="{TemplateBinding Padding}"
                                 Style="{StaticResource ComboBoxEditableTextBox}"
                                 HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                                 VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"
                                 Grid.Column="1"
                                 IsReadOnly="{Binding IsReadOnly, RelativeSource={RelativeSource TemplatedParent}}" />
                        <ToggleButton Style="{StaticResource ComboBoxTransparentButtonStyle2}"
                                      Background="{x:Null}"
                                      Grid.ColumnSpan="3"
                                      IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}" />
                    </Grid>
                </Border>
                <Popup x:Name="PART_Popup"
                       AllowsTransparency="true"
                       IsOpen="{Binding IsDropDownOpen, RelativeSource={RelativeSource TemplatedParent}}"
                       Placement="Bottom"
                       PopupAnimation="{DynamicResource {x:Static SystemParameters.ComboBoxPopupAnimationKey}}"
                       Focusable="false">
                    <Microsoft_Windows_Themes:SystemDropShadowChrome x:Name="Shdw"
                                                                     MaxHeight="{TemplateBinding MaxDropDownHeight}"
                                                                     MinWidth="{TemplateBinding ActualWidth}"
                                                                     Color="Transparent">
                        <Border x:Name="DropDownBorder"
                                Background="{DynamicResource {x:Static SystemColors.WindowBrushKey}}"
                                BorderBrush="{DynamicResource {x:Static SystemColors.WindowFrameBrushKey}}"
                                BorderThickness="1">
                            <ScrollViewer>
                                <ItemsPresenter SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
                                                KeyboardNavigation.DirectionalNavigation="Contained" />
                            </ScrollViewer>
                        </Border>
                    </Microsoft_Windows_Themes:SystemDropShadowChrome>
                </Popup>
            </Grid>
            <ControlTemplate.Triggers>
                <Trigger Property="HasItems"
                         Value="false">
                    <Setter Property="MinHeight"
                            TargetName="DropDownBorder"
                            Value="95" />
                </Trigger>
                <Trigger Property="IsEnabled"
                         Value="false">
                    <Setter Property="Foreground"
                            Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                    <Setter Property="Background"
                            TargetName="Bd"
                            Value="{DynamicResource {x:Static SystemColors.ControlBrushKey}}" />
                </Trigger>
                <Trigger Property="IsGrouping"
                         Value="true">
                    <Setter Property="ScrollViewer.CanContentScroll"
                            Value="false" />
                </Trigger>
                <Trigger Property="HasDropShadow"
                         SourceName="PART_Popup"
                         Value="true">
                    <Setter Property="Margin"
                            TargetName="Shdw"
                            Value="0,0,5,5" />
                    <Setter Property="Color"
                            TargetName="Shdw"
                            Value="#71000000" />
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
        <Style x:Key="ComboBoxStyle1"
               TargetType="{x:Type ComboBox}">
            <Setter Property="FocusVisualStyle"
                    Value="{StaticResource ComboBoxFocusVisual}" />
            <Setter Property="Foreground"
                    Value="{DynamicResource {x:Static SystemColors.WindowTextBrushKey}}" />
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush EndPoint="0.5,1"
                                         StartPoint="0.5,0">
                        <GradientStop Color="#FFF3F3F3"
                                      Offset="0" />
                        <GradientStop Color="#FFCDCDCD"
                                      Offset="1" />
                        <GradientStop Color="#FFDDDDDD"
                                      Offset="0.505" />
                        <GradientStop Color="#FFEBEBEB"
                                      Offset="0.5" />
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="BorderBrush"
                    Value="{DynamicResource {x:Static SystemColors.ControlDarkBrushKey}}" />
            <Setter Property="BorderThickness"
                    Value="1" />
            <Setter Property="Padding"
                    Value="1" />
            <Setter Property="ScrollViewer.HorizontalScrollBarVisibility"
                    Value="Auto" />
            <Setter Property="ScrollViewer.VerticalScrollBarVisibility"
                    Value="Auto" />
            <Setter Property="ScrollViewer.CanContentScroll"
                    Value="true" />
            <Setter Property="VerticalContentAlignment"
                    Value="Center" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ComboBox}">
                        <Grid SnapsToDevicePixels="true">
                            <Border x:Name="Bd"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    Padding="1"
                                    CornerRadius="2"
                                    Background="White">
                                <Grid Grid.IsSharedSizeScope="true">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="1" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition SharedSizeGroup="ComboBoxButton"
                                                          Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <Rectangle Fill="{TemplateBinding Background}"
                                               Stroke="Black"
                                               StrokeThickness="0"
                                               RadiusX="2"
                                               RadiusY="2"
                                               Grid.ColumnSpan="3" />
                                    <Border x:Name="SelectedItemBorder"
                                            Margin="{TemplateBinding Padding}"
                                            Grid.ColumnSpan="2" />
                                    <TextBlock x:Name="textBlock"
                                               Grid.Column="1"
                                               Text="{TemplateBinding Text}"
                                               TextWrapping="NoWrap"
                                               d:LayoutOverrides="Height"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Left" />
                                    <ToggleButton Style="{StaticResource ComboBoxTransparentButtonStyle}"
                                                  Grid.ColumnSpan="3"
                                                  IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}" />
                                </Grid>
                            </Border>
                            <Popup x:Name="PART_Popup"
                                   AllowsTransparency="true"
                                   IsOpen="{Binding IsDropDownOpen, RelativeSource={RelativeSource TemplatedParent}}"
                                   Placement="Bottom"
                                   PopupAnimation="{DynamicResource {x:Static SystemParameters.ComboBoxPopupAnimationKey}}"
                                   Focusable="false">
                                <Microsoft_Windows_Themes:SystemDropShadowChrome x:Name="Shdw"
                                                                                 MaxHeight="{TemplateBinding MaxDropDownHeight}"
                                                                                 MinWidth="{TemplateBinding ActualWidth}"
                                                                                 Color="Transparent">
                                    <Border x:Name="DropDownBorder"
                                            Background="{DynamicResource {x:Static SystemColors.WindowBrushKey}}"
                                            BorderBrush="{DynamicResource {x:Static SystemColors.WindowFrameBrushKey}}"
                                            BorderThickness="1">
                                        <ScrollViewer>
                                            <ItemsPresenter SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
                                                            KeyboardNavigation.DirectionalNavigation="Contained" />
                                        </ScrollViewer>
                                    </Border>
                                </Microsoft_Windows_Themes:SystemDropShadowChrome>
                            </Popup>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="HasDropShadow"
                                     SourceName="PART_Popup"
                                     Value="true">
                                <Setter Property="Margin"
                                        TargetName="Shdw"
                                        Value="0,0,5,5" />
                                <Setter Property="Color"
                                        TargetName="Shdw"
                                        Value="#71000000" />
                            </Trigger>
                            <Trigger Property="HasItems"
                                     Value="false">
                                <Setter Property="MinHeight"
                                        TargetName="DropDownBorder"
                                        Value="95" />
                            </Trigger>
                            <Trigger Property="IsEnabled"
                                     Value="false">
                                <Setter Property="Foreground"
                                        Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                                <Setter Property="Background"
                                        TargetName="Bd"
                                        Value="{DynamicResource {x:Static SystemColors.ControlBrushKey}}" />
                            </Trigger>
                            <Trigger Property="IsGrouping"
                                     Value="true">
                                <Setter Property="ScrollViewer.CanContentScroll"
                                        Value="false" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver"
                         Value="True">
                    <Setter Property="Background">
                        <Setter.Value>
                            <LinearGradientBrush EndPoint="0.5,1"
                                                 StartPoint="0.5,0">
                                <GradientStop Color="#FFE7F5F3"
                                              Offset="0.004" />
                                <GradientStop Color="#FFABDBF6"
                                              Offset="1" />
                                <GradientStop Color="#FFBAE4FC"
                                              Offset="0.505" />
                                <GradientStop Color="#FFDAF0FC"
                                              Offset="0.5" />
                            </LinearGradientBrush>
                        </Setter.Value>
                    </Setter>
                    <Setter Property="BorderBrush"
                            Value="#FF3C7FB1" />
                </Trigger>
                <Trigger Property="IsEditable"
                         Value="true">
                    <Setter Property="IsTabStop"
                            Value="false" />
                    <Setter Property="Padding"
                            Value="0,1" />
                    <Setter Property="Template"
                            Value="{StaticResource ComboBoxEditableTemplate}" />
                </Trigger>
            </Style.Triggers>
        </Style>

    </UserControl.Resources>
    <Grid>
        <ComboBox VerticalAlignment="Stretch"
                  x:Name="cmbSearchContentOrderDate"
                  FontSize="12"
                  MaxDropDownHeight="400"
                  Width="Auto"
                  Style="{DynamicResource ComboBoxStyle1}"
                  ItemContainerStyle="{DynamicResource ComboBoxItemStyle2}">
            <!-- All Days -->
            <ComboBoxItem Content="All"
                          Tag="{x:Static local:ValueDateSearch.All}" />
            <Separator Margin="0,2"
                       Background="#FF9C9C9C"
                       Tag="{x:Static local:ValueDateSearch.All}" />
            <!-- All Today and this period -->
            <ComboBoxItem Content="Today"
                          Tag="{x:Static local:ValueDateSearch.Today}" />
            <ComboBoxItem Content="This Week"
                          Tag="{x:Static local:ValueDateSearch.ThisWeek}" />
            <ComboBoxItem Content="This Month"
                          Tag="{x:Static local:ValueDateSearch.ThisMonth}" />
            <ComboBoxItem Content="This Quarter"
                          Tag="{x:Static local:ValueDateSearch.ThisQuarter}" />
            <ComboBoxItem Content="This Year"
                          Tag="{x:Static local:ValueDateSearch.ThisYear}" />
            <Separator Margin="0,2"
                       Background="#FF9C9C9C"
                       Tag="{x:Static local:ValueDateSearch.Today}" />
            <!-- Yesterday and last period -->
            <ComboBoxItem Content="Yesterday"
                          Tag="{x:Static local:ValueDateSearch.Yesterday}" />
            <ComboBoxItem Content="Last Week"
                          Tag="{x:Static local:ValueDateSearch.LastWeek}" />
            <ComboBoxItem Content="Last Month"
                          Tag="{x:Static local:ValueDateSearch.LastMonth}" />
            <ComboBoxItem Content="Last Quarter"
                          Tag="{x:Static local:ValueDateSearch.LastQuarter}" />
            <ComboBoxItem Content="Last Year"
                          Tag="{x:Static local:ValueDateSearch.LastYear}" />
            <Separator Margin="0,2"
                       Background="#FF9C9C9C"
                       Tag="{x:Static local:ValueDateSearch.Yesterday}" />
            <!-- Yesterday and last days -->
            <ComboBoxItem Content="Last 7 Days"
                          Tag="{x:Static local:ValueDateSearch.Last7Days}" />
            <ComboBoxItem Content="Last 30 Days"
                          Tag="{x:Static local:ValueDateSearch.Last30Days}" />
            <ComboBoxItem Content="Last 90 Days"
                          Tag="{x:Static local:ValueDateSearch.Last90Days}" />
            <ComboBoxItem Content="Last 365 Days"
                          Tag="{x:Static local:ValueDateSearch.Last365Days}" />
            <Separator Margin="0,2"
                       Background="#FF9C9C9C"
                       Tag="{x:Static local:ValueDateSearch.Yesterday}" />
            <!-- Tomorrow and next period -->
            <ComboBoxItem Content="Tomorrow"
                          Tag="{x:Static local:ValueDateSearch.Tomorrow}" />
            <ComboBoxItem Content="Next Week"
                          Tag="{x:Static local:ValueDateSearch.NextWeek}" />
            <ComboBoxItem Content="Next Month"
                          Tag="{x:Static local:ValueDateSearch.NextMonth}" />
            <ComboBoxItem Content="Next Quarter"
                          Tag="{x:Static local:ValueDateSearch.NextQuarter}" />
            <ComboBoxItem Content="Next Year"
                          Tag="{x:Static local:ValueDateSearch.NextYear}" />
            <Separator Margin="0,2"
                       Background="#FF9C9C9C"
                       Tag="{x:Static local:ValueDateSearch.Tomorrow}" />
            <!-- Custom date -->
            <ComboBoxItem IsEnabled="False"
                          Content="Custom Date Range" />
            <Separator Margin="0,2"
                       Background="#FF9C9C9C" />
            <ComboBoxItem x:Name="cmbItemDate"
                          MinWidth="157"
                          Style="{DynamicResource ComboBoxItemStyle1}">
                <Button x:Name="btnDate"
                        Margin="-3,0,-149,0"
                        Style="{DynamicResource btnCmbItemSearchStyle}"
                        Height="48"
                        HorizontalContentAlignment="Left">
                    <Grid x:Name="grdDate"
                          Margin="3,0,0,0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="24" />
                            <RowDefinition Height="24" />
                        </Grid.RowDefinitions>
                        <DatePicker BorderBrush="#FF9C9C9C"
                                    x:Name="dtpFrom"
                                    SelectedDate="{Binding FromDate, ElementName=UserControl, Mode=Twoway, UpdateSourceTrigger=PropertyChanged}"
                                    FontSize="12"
                                    Margin="38,2,0,2"
                                    Width="110"
                                    Style="{DynamicResource DatePickerStyle1}" />
                        <DatePicker BorderBrush="#FF9C9C9C"
                                    x:Name="dtpTo"
                                    SelectedDate="{Binding ToDate, ElementName=UserControl, Mode=Twoway, UpdateSourceTrigger=PropertyChanged}"
                                    FontSize="12"
                                    Margin="38,2,0,2"
                                    Width="110"
                                    Style="{DynamicResource DatePickerStyle1}"
                                    Grid.Row="1" />
                    </Grid>
                </Button>
            </ComboBoxItem>
        </ComboBox>
    </Grid>
</UserControl>
