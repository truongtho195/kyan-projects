<UserControl x:Class="CPC.POS.View.LockSalesOrderView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:Anno="http://schemas.microsoft.com/expression/blend/extensions/annotations/2008"
             xmlns:converter="clr-namespace:CPC.Converter"
             xmlns:CPC_Helper="clr-namespace:CPC.Helper"
             xmlns:CPC_Toolkit_Behavior="clr-namespace:CPC.Toolkit.Behavior"
             xmlns:CPC_Toolkit_Command="clr-namespace:CPC.Toolkit.Command"
             xmlns:cpcBehavior="clr-namespace:CPC.Toolkit.Behavior"
             xmlns:cpcDataGrid="clr-namespace:CPCToolkitExt.DataGridControl;assembly=CPCToolkitExt"
             xmlns:CPCToolkitExt_AutoCompleteControl="clr-namespace:CPCToolkitExt.AutoCompleteControl;assembly=CPCToolkitExt"
             xmlns:CPCToolkitExt_ComboBoxControl="clr-namespace:CPCToolkitExt.ComboBoxControl;assembly=CPCToolkitExt"
             xmlns:CPCToolkitExt_OtherControl="clr-namespace:CPCToolkitExt.OtherControl;assembly=CPCToolkitExt"
             xmlns:CPCToolkitExt_TextBoxControl="clr-namespace:CPCToolkitExt.TextBoxControl;assembly=CPCToolkitExt"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:ed="http://schemas.microsoft.com/expression/2010/drawing"
             xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
             xmlns:local="clr-namespace:CPC.POS"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:Microsoft_Windows_Themes="clr-namespace:Microsoft.Windows.Themes;assembly=PresentationFramework.Luna"
             xmlns:System="clr-namespace:System;assembly=mscorlib"
             xmlns:wpfToolkit="clr-namespace:Xceed.Wpf.Toolkit;assembly=WPFToolkit.Extended"
             xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
             x:Name="UserControl"
             Background="{DynamicResource UserControlBackground}"
             mc:Ignorable="d Anno">

    <UserControl.Resources>

        <converter:ComboxItemToTextConverter x:Key="comboxItemToTextConverter" />

        <converter:EnumToBoolConverter x:Key="enumToBoolConverter" />
        <converter:ReserseBoolConverter x:Key="reserseBoolConverter" />
        <converter:NullToDefaultValueConverter x:Key="NullToDefaultValueConverter" />

        <!--  DataGridCell  -->
        <Style TargetType="{x:Type DataGridCell}">
            <Setter Property="BorderThickness" Value="0,0,0,1" />
            <Setter Property="FocusVisualStyle" Value="{x:Null}" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type DataGridCell}">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                SnapsToDevicePixels="True">
                            <ContentPresenter x:Name="contentPresenter"
                                              Margin="2,0"
                                              VerticalAlignment="Center"
                                              Content="{TemplateBinding Content}"
                                              ContentStringFormat="{TemplateBinding ContentStringFormat}"
                                              ContentTemplate="{TemplateBinding ContentTemplate}"
                                              OverridesDefaultStyle="False"
                                              SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Background" Value="#03FFFFFF" />
            <Setter Property="BorderBrush" Value="{x:Null}" />
            <Style.Triggers>
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="BorderThickness" Value="0" />
                    <Setter Property="Foreground" Value="{DynamicResource DatagridCell_IsSelected_Foreground}" />
                    <Setter Property="Background" Value="{DynamicResource DatagridCell_IsSelected_Background}" />
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="DataGridPriceCellStyle"
               BasedOn="{StaticResource {x:Type DataGridCell}}"
               TargetType="{x:Type DataGridCell}">

            <Setter Property="CPC_Toolkit_Behavior:DataGridCellFocusHelper.CellFocus" Value="{Binding ProductModel.IsOpenItem}" />

            <Setter Property="CPC_Toolkit_Behavior:DataGridCellFocusHelper.ItemSource" Value="{Binding ., RelativeSource={RelativeSource Self}}" />

            <Setter Property="BorderThickness" Value="0,0,0,1" />
            <Setter Property="FocusVisualStyle" Value="{x:Null}" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type DataGridCell}">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                SnapsToDevicePixels="True">
                            <ContentPresenter x:Name="contentPresenter"
                                              Margin="2,0"
                                              VerticalAlignment="Center"
                                              Content="{TemplateBinding Content}"
                                              ContentStringFormat="{TemplateBinding ContentStringFormat}"
                                              ContentTemplate="{TemplateBinding ContentTemplate}"
                                              OverridesDefaultStyle="False"
                                              SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Background" Value="#03FFFFFF" />
            <Setter Property="BorderBrush" Value="{x:Null}" />
            <Style.Triggers>
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="BorderThickness" Value="0" />
                    <Setter Property="Foreground" Value="{DynamicResource DatagridCell_IsSelected_Foreground}" />
                    <Setter Property="Background" Value="{DynamicResource DatagridCell_IsSelected_Background}" />
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="ComboBoxTextStyle" TargetType="{x:Type ComboBox}">
            <Setter Property="Focusable" Value="False" />
            <!--
                <Setter Property="FocusVisualStyle"
                Value="{StaticResource ComboBoxFocusVisual}" />
            -->
            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.WindowTextBrushKey}}" />
            <Setter Property="Background" Value="{DynamicResource {x:Static SystemColors.WindowBrushKey}}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="1" />
            <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Auto" />
            <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto" />
            <Setter Property="ScrollViewer.CanContentScroll" Value="true" />
            <Setter Property="ScrollViewer.PanningMode" Value="Both" />
            <Setter Property="Stylus.IsFlicksEnabled" Value="False" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
            <Setter Property="Validation.ErrorTemplate" Value="{x:Null}" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ComboBox}">
                        <Grid SnapsToDevicePixels="true">
                            <Border x:Name="Bd"
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}">
                                <Grid Grid.IsSharedSizeScope="true">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="1" />
                                        <ColumnDefinition />
                                        <ColumnDefinition Width="0" SharedSizeGroup="ComboBoxButton" />
                                    </Grid.ColumnDefinitions>
                                    <Border x:Name="SelectedItemBorder"
                                            Grid.ColumnSpan="2"
                                            Margin="{TemplateBinding Padding}" />
                                    <ContentPresenter Grid.Column="1"
                                                      Margin="{TemplateBinding Padding}"
                                                      HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                      VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                      Content="{TemplateBinding SelectionBoxItem}"
                                                      ContentStringFormat="{TemplateBinding SelectionBoxItemStringFormat}"
                                                      ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                                      ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                                                      SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                    <ToggleButton Grid.ColumnSpan="3"
                                                  IsChecked="{Binding IsDropDownOpen,
                                                                      Mode=TwoWay,
                                                                      RelativeSource={RelativeSource TemplatedParent}}"
                                                  Style="{StaticResource ComboBoxTransparentButtonStyle}" />
                                </Grid>
                            </Border>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="HasItems" Value="false" />
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                                <Setter TargetName="Bd" Property="Background" Value="{DynamicResource {x:Static SystemColors.ControlBrushKey}}" />
                            </Trigger>
                            <Trigger Property="IsGrouping" Value="true">
                                <Setter Property="ScrollViewer.CanContentScroll" Value="false" />
                            </Trigger>
                            <Trigger Property="Validation.HasError" Value="True">
                                <Setter TargetName="Bd" Property="BorderBrush" Value="#FFFF0000" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="FontSize" Value="11" />
            <Setter Property="BorderBrush" Value="{DynamicResource TextBoxCanlendarComboboxBorderBrush}" />
            <Style.Triggers>
                <Trigger Property="IsEditable" Value="true">
                    <Setter Property="IsTabStop" Value="false" />
                    <Setter Property="Padding" Value="0,1" />
                    <Setter Property="Template" Value="{StaticResource ComboBoxEditableTemplate}" />
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="DataGridDetailRowStyle"
               BasedOn="{StaticResource {x:Type DataGridRow}}"
               TargetType="{x:Type DataGridRow}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type DataGridRow}">
                        <Border x:Name="DGR_Border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <SelectiveScrollingGrid>
                                <SelectiveScrollingGrid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </SelectiveScrollingGrid.ColumnDefinitions>
                                <SelectiveScrollingGrid.RowDefinitions>
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="Auto" />
                                </SelectiveScrollingGrid.RowDefinitions>
                                <DataGridCellsPresenter Grid.Column="1"
                                                        ItemsPanel="{TemplateBinding ItemsPanel}"
                                                        SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                <!--  Visibility="{TemplateBinding DetailsVisibility}">  -->
                                <DataGridDetailsPresenter Grid.Row="1"
                                                          Grid.Column="1"
                                                          SelectiveScrollingGrid.SelectiveScrollingOrientation="{Binding AreRowDetailsFrozen,
                                                                                                                         ConverterParameter={x:Static SelectiveScrollingOrientation.Vertical},
                                                                                                                         Converter={x:Static DataGrid.RowDetailsScrollingConverter},
                                                                                                                         RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}">
                                    <DataGridDetailsPresenter.Visibility>
                                        <Binding Mode="OneWay" Path="IsVisibleRowDetail">
                                            <Binding.Converter>
                                                <converter:BoolToVisibilityConverter FalseToVisibility="Collapsed" />
                                            </Binding.Converter>
                                        </Binding>
                                    </DataGridDetailsPresenter.Visibility>
                                </DataGridDetailsPresenter>
                                <DataGridRowHeader Grid.RowSpan="2"
                                                   SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical"
                                                   Style="{DynamicResource DataGridRowHeaderStyle}" />
                            </SelectiveScrollingGrid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!--  #Region Style  -->
        <Style x:Key="ButtonRowDetailDataTemplateOrder" TargetType="{x:Type Button}">
            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" />
            <Setter Property="HorizontalContentAlignment" Value="Center" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Grid x:Name="grid"
                              Width="Auto"
                              Height="Auto"
                              Background="#02FFFFFF">
                            <ContentPresenter HorizontalAlignment="Left"
                                              VerticalAlignment="Center"
                                              RecognizesAccessKey="True"
                                              SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsKeyboardFocused" Value="true" />
                            <Trigger Property="IsMouseOver" Value="True" />
                            <Trigger Property="IsPressed" Value="True" />
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                                <Setter TargetName="grid" Property="Opacity" Value="0.4" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!--  #Region DataTemplate  -->
        <DataTemplate x:Key="RowDetailDataTemplateOrderInvoice">
            <Grid x:Name="grdTemplateCustomer"
                  Height="Auto"
                  Margin="0"
                  Background="#FFFFF2F2">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="50" />
                    <ColumnDefinition Width="400" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="25" />
                </Grid.RowDefinitions>
                <StackPanel x:Name="stkpDiscount"
                            Grid.Row="1"
                            Grid.Column="1"
                            HorizontalAlignment="Left"
                            Orientation="Horizontal">
                    <TextBlock x:Name="txtblTemplatePrice"
                               Margin="0"
                               HorizontalAlignment="Left"
                               VerticalAlignment="Center"
                               FontStyle="Italic"
                               Foreground="Red"
                               Text="Regular Price:"
                               TextWrapping="NoWrap" />
                    <TextBlock x:Name="txtblBindingRegularPrice"
                               Margin="5,0,0,0"
                               HorizontalAlignment="Left"
                               VerticalAlignment="Center"
                               FontStyle="Italic"
                               Foreground="Red"
                               Text="{Binding RegularPrice,
                                              Mode=OneWay,
                        ConverterCulture={x:Static local:Define.ConverterCulture},
                                              StringFormat={x:Static local:Define.CurrencyFormat}}"
                               TextWrapping="NoWrap" />
                    <TextBlock x:Name="txtblUnitDiscount"
                               Margin="20,0,0,0"
                               HorizontalAlignment="Left"
                               VerticalAlignment="Center"
                               FontStyle="Italic"
                               Foreground="Red"
                               Text="Unit Discount:"
                               TextWrapping="NoWrap" />
                    <TextBlock x:Name="txtblBindingUnitDiscount"
                               Margin="5,0,0,0"
                               HorizontalAlignment="Left"
                               VerticalAlignment="Center"
                               FontStyle="Italic"
                               Foreground="Red"
                               Text="{Binding UnitDiscount,
                        ConverterCulture={x:Static local:Define.ConverterCulture},
                                              StringFormat={x:Static local:Define.CurrencyFormat}}"
                               TextWrapping="NoWrap" />
                    <TextBlock x:Name="txtblTotalDiscount"
                               Margin="20,0,0,0"
                               HorizontalAlignment="Left"
                               VerticalAlignment="Center"
                               FontStyle="Italic"
                               Foreground="Red"
                               Text="Total Discount:"
                               TextWrapping="NoWrap" />
                    <TextBlock x:Name="txtblBindingTotalDiscount"
                               Margin="5,0,0,0"
                               HorizontalAlignment="Left"
                               VerticalAlignment="Center"
                               FontStyle="Italic"
                               Foreground="Red"
                               Text="{Binding TotalDiscount,
                        ConverterCulture={x:Static local:Define.ConverterCulture},
                                              StringFormat={x:Static local:Define.CurrencyFormat}}"
                               TextWrapping="NoWrap" />
                </StackPanel>
                <Button x:Name="btnSerial"
                        Grid.Row="1"
                        Grid.Column="2"
                        Height="25"
                        Margin="0,0,0,0"
                        HorizontalAlignment="Left"
                        HorizontalContentAlignment="Left"
                        Background="{x:Null}"
                        BorderBrush="{x:Null}"
                        BorderThickness="0"
                        Cursor="Hand"
                        FontStyle="Italic"
                        Foreground="#FF0010FF"
                        Style="{DynamicResource ButtonRowDetailDataTemplateOrder}">
                    <Button.Visibility>
                        <Binding Mode="OneWay"
                                 Path="ProductModel.IsSerialTracking"
                                 UpdateSourceTrigger="PropertyChanged">
                            <Binding.Converter>
                                <converter:BoolToVisibilityConverter FalseToVisibility="Collapsed" />
                            </Binding.Converter>
                        </Binding>
                    </Button.Visibility>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock x:Name="txtblTemplateSerialNo"
                                   Margin="0"
                                   HorizontalAlignment="Left"
                                   VerticalAlignment="Center"
                                   FontStyle="Italic"
                                   Foreground="#FF0010FF"
                                   Text="S/N: "
                                   TextDecorations="Underline"
                                   TextWrapping="NoWrap" />
                        <TextBlock x:Name="txSerial"
                                   Margin="0"
                                   HorizontalAlignment="Left"
                                   VerticalAlignment="Center"
                                   FontStyle="Italic"
                                   Foreground="#FF0010FF"
                                   Text="{Binding SerialTracking,
                                                  Mode=OneWay}"
                                   TextDecorations="Underline"
                                   TextWrapping="NoWrap" />
                    </StackPanel>
                </Button>
            </Grid>
            <DataTemplate.Triggers>
                <DataTrigger Binding="{Binding SerialTracking}" Value="{x:Static System:String.Empty}">
                    <Setter TargetName="btnSerial" Property="Visibility" Value="Collapsed" />
                </DataTrigger>
                <DataTrigger Binding="{Binding DiscountPercent}" Value="0">
                    <Setter TargetName="stkpDiscount" Property="Visibility" Value="Collapsed" />
                </DataTrigger>
            </DataTemplate.Triggers>
        </DataTemplate>



        <!--  Resource dictionary entries should be defined here.  -->

        <Style x:Key="NumberTextBlock" TargetType="{x:Type TextBlock}">
            <Setter Property="HorizontalAlignment" Value="Right" />
        </Style>

        <Style x:Key="DataGridPaymentRowStyle"
               BasedOn="{StaticResource {x:Type DataGridRow}}"
               TargetType="{x:Type DataGridRow}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type DataGridRow}">
                        <Border x:Name="DGR_Border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                SnapsToDevicePixels="True">
                            <SelectiveScrollingGrid>
                                <SelectiveScrollingGrid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </SelectiveScrollingGrid.ColumnDefinitions>
                                <SelectiveScrollingGrid.RowDefinitions>
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="Auto" />
                                </SelectiveScrollingGrid.RowDefinitions>
                                <DataGridCellsPresenter Grid.Column="1"
                                                        ItemsPanel="{TemplateBinding ItemsPanel}"
                                                        SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                <DataGridDetailsPresenter Grid.Row="1"
                                                          Grid.Column="1"
                                                          Visibility="{TemplateBinding DetailsVisibility}" />
                                <DataGridRowHeader Grid.RowSpan="2"
                                                   SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical"
                                                   Style="{DynamicResource DataGridRowHeaderStyle}" />
                            </SelectiveScrollingGrid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <DataTrigger Binding="{Binding IsDeposit, Mode=OneWay}" Value="True">
                    <Setter Property="Foreground" Value="Red" />
                    <Setter Property="TextElement.FontStyle" Value="Italic" />
                </DataTrigger>
            </Style.Triggers>
        </Style>


        <Style x:Key="ReturnedTextBlockStyle"
               BasedOn="{StaticResource TextBlockNormal}"
               TargetType="{x:Type TextBlock}">
            <Setter Property="Foreground" Value="Green" />
            <Setter Property="HorizontalAlignment" Value="Center" />
            <Setter Property="FontWeight" Value="Bold" />
            <Style.Triggers>
                <DataTrigger Binding="{Binding IsReturned, Mode=OneWay}" Value="True">
                    <Setter Property="Foreground" Value="Red" />
                </DataTrigger>
            </Style.Triggers>
        </Style>



        <System:Int32 x:Key="SubTotalMaxLength">10</System:Int32>
        <System:Int32 x:Key="TotalMaxLength">10</System:Int32>

    </UserControl.Resources>

    <xctk:BusyIndicator IsBusy="{Binding IsBusy, Mode=OneWay}">

        <Grid x:Name="GridLayout">
            <Rectangle x:Name="UserControl_Background_Image" Fill="{DynamicResource UserControl_Background_Image}" />
            <Grid x:Name="grdLockSalesOrderList">
                <Grid x:Name="grdContentSearch" d:IsHidden="True">
                    <Grid.Visibility>
                        <Binding Mode="OneWay"
                                 Path="IsSearchMode"
                                 UpdateSourceTrigger="PropertyChanged">
                            <Binding.Converter>
                                <converter:BoolToVisibilityConverter FalseToVisibility="Collapsed" />
                            </Binding.Converter>
                        </Binding>
                    </Grid.Visibility>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="87" />
                        <RowDefinition />
                    </Grid.RowDefinitions>
                    <GroupBox x:Name="gbSearch" Margin="10,10,10,0">
                        <GroupBox.Header>
                            <TextBlock x:Name="txtblSearch"
                                       Style="{DynamicResource GroupboxTextBlock}"
                                       Text="Search"
                                       TextWrapping="NoWrap" />
                        </GroupBox.Header>
                        <Grid x:Name="grdgbContentSearch"
                              Margin="0,4,0,0"
                              VerticalAlignment="Top">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="25" />
                                <RowDefinition Height="25" />
                            </Grid.RowDefinitions>
                            <xctk:WatermarkTextBox x:Name="txtKeyword"
                                                   Margin="10,2,0,2"
                                                   VerticalContentAlignment="Center"
                                                   FontStyle="Italic"
                                                   Padding="24,0,5,0"
                                                   Text="{Binding FilterText,
                                                                  Mode=TwoWay,
                                                                  UpdateSourceTrigger=PropertyChanged}"
                                                   TextWrapping="NoWrap"
                                                   Watermark="Keyword">
                                <xctk:WatermarkTextBox.InputBindings>
                                    <KeyBinding Key="Enter"
                                                Command="{Binding SearchCommand}"
                                                CommandParameter="{Binding Text,
                                                                           ElementName=txtKeyword}" />
                                </xctk:WatermarkTextBox.InputBindings>
                            </xctk:WatermarkTextBox>
                            <Rectangle x:Name="imgFind1"
                                       Width="20"
                                       Margin="13,3,0,3"
                                       HorizontalAlignment="Left"
                                       Fill="{DynamicResource Find}" />
                            <StackPanel x:Name="stkpCheckbox"
                                        Grid.Row="1"
                                        Margin="10,0,0,0"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center"
                                        Orientation="Horizontal">
                                <CheckBox x:Name="cbSalesOrderNo"
                                          HorizontalAlignment="Left"
                                          VerticalAlignment="Center"
                                          Content="SO No."
                                          IsChecked="{Binding SearchOption,
                                                              ConverterParameter={x:Static local:SearchOptions.SoNum},
                                                              Converter={StaticResource enumToBoolConverter},
                                                              UpdateSourceTrigger=PropertyChanged}" />
                                <CheckBox x:Name="cbCustomer"
                                          Margin="10,0,0,0"
                                          HorizontalAlignment="Left"
                                          VerticalAlignment="Center"
                                          Content="Customer"
                                          IsChecked="{Binding SearchOption,
                                                              ConverterParameter={x:Static local:SearchOptions.Customer},
                                                              Converter={StaticResource enumToBoolConverter},
                                                              UpdateSourceTrigger=PropertyChanged}" />
                                <TextBlock Margin="10,0,0,0"
                                           Foreground="#FFFDFF00"
                                           Text="{Binding SearchAlert}"
                                           TextWrapping="Wrap" />
                            </StackPanel>

                        </Grid>
                    </GroupBox>
                    <cpcDataGrid:DataGridControl x:Name="dtgrdSearch"
                                                 Grid.Row="3"
                                                 Margin="10,10.1,10,10"
                                                 VerticalAlignment="Stretch"
                                                 AutoGenerateColumns="False"
                                                 CanUserAddRows="False"
                                                 CanUserDeleteRows="False"
                                                 Command="{Binding LoadStepCommand}"
                                                 cpcBehavior:DoubleClickCommandBehavior.CanDoubleClickOnChild="False"
                                                 cpcBehavior:DoubleClickCommandBehavior.DoubleClickCommand="{Binding DoubleClickViewCommand}"
                                                 cpcBehavior:DoubleClickCommandBehavior.DoubleClickCommandParameter="{Binding SelectedItem,
                                                                                                                              ElementName=dtgrdSearch}"
                                                 IsPaging="True"
                                                 IsReadOnly="True"
                                                 IsRollBackData="False"
                                                 IsSynchronizedWithCurrentItem="False"
                                                 ItemsSource="{Binding SaleOrderCollection}"
                                                 NumberOfItems="{Binding TotalSaleOrder}"
                                                 SelectionMode="Single"
                                                 Style="{DynamicResource DatagridWithoutRowHeader}">
                        <cpcDataGrid:DataGridControl.ContextMenu>
                            <ContextMenu Tag="{Binding PlacementTarget, RelativeSource={RelativeSource Mode=Self}}">
                                <MenuItem Command="{Binding UnLockSaleOrderCommand}"
                                          CommandParameter="{Binding Tag,
                                                                     RelativeSource={RelativeSource AncestorType={x:Type ContextMenu},
                                                                                                    Mode=FindAncestor}}"
                                          Header="UnLocked Sale Order">
                                    <MenuItem.Icon>
                                        <Rectangle Width="16"
                                                   Height="16"
                                                   Fill="{DynamicResource SOUnlock}"
                                                   Stretch="Fill" />
                                    </MenuItem.Icon>
                                </MenuItem>

                            </ContextMenu>
                        </cpcDataGrid:DataGridControl.ContextMenu>
                        <cpcDataGrid:DataGridControl.Columns>
                            <DataGridTextColumn Width="85"
                                                Binding="{Binding SONumber,
                                                                  Mode=OneWay}"
                                                Header="Sale Order #" />
                            <DataGridTextColumn Width="70"
                                                Binding="{Binding OrderDate,
                                                                  Mode=OneWay,
                                                                  StringFormat={x:Static local:Define.DateFormat}}"
                                                Header="SO Date" />
                            <DataGridTextColumn Width="100"
                                                Binding="{Binding OrderStatus,
                                                                  ConverterParameter=StatusSO,
                                                                  Converter={StaticResource comboxItemToTextConverter},
                                                                  Mode=OneWay}"
                                                Header="Status" />
                            <DataGridTextColumn Width="*"
                                                Binding="{Binding GuestModel.LegalName,
                                                                  Mode=OneWay}"
                                                Header="Customer" />
                            <DataGridTemplateColumn Width="80"
                                                    MinWidth="100"
                                                    Header="Total"
                                                    IsReadOnly="True">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock HorizontalAlignment="Right"
                                                   Text="{Binding Total, Mode=OneWay,ConverterCulture={x:Static local:Define.ConverterCulture}, StringFormat={x:Static local:Define.CurrencyFormat}}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                            <DataGridTemplateColumn Width="100"
                                                    MinWidth="100"
                                                    Header="Store">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <ComboBox x:Name="cmbStoreCode"
                                                  Grid.Row="2"
                                                  Grid.Column="5"
                                                  Width="110"
                                                  Margin="0,2"
                                                  HorizontalAlignment="Left"
                                                  VerticalAlignment="Stretch"
                                                  Background="Transparent"
                                                  BorderBrush="Transparent"
                                                  DisplayMemberPath="Code"
                                                  ItemsSource="{Binding DataContext.StoreCollection,
                                                                        RelativeSource={RelativeSource AncestorType={x:Type UserControl},
                                                                                                       Mode=FindAncestor}}"
                                                  SelectedIndex="{Binding StoreCode,
                                                                          Mode=OneWay}"
                                                  SelectedValuePath="Id"
                                                  Style="{DynamicResource ComboBoxTextStyle}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </cpcDataGrid:DataGridControl.Columns>
                    </cpcDataGrid:DataGridControl>
                </Grid>
                <Grid x:Name="grdContentSalesOrder1"
                      Grid.Column="0"
                      d:LayoutOverrides="GridBox">
                    <Grid.Visibility>
                        <Binding Mode="OneWay"
                                 Path="IsSearchMode"
                                 UpdateSourceTrigger="PropertyChanged">
                            <Binding.Converter>
                                <converter:BoolToVisibilityConverter FalseToVisibility="Visible" />
                            </Binding.Converter>
                        </Binding>
                    </Grid.Visibility>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="22" />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <Button x:Name="btnBarSearch"
                            BorderThickness="1"
                            Command="{Binding DoubleClickViewCommand}"
                            Style="{DynamicResource ButtonBarSearch}">
                        <TextBlock x:Name="txtblShowSearchSalesOrder"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"
                                   Style="{DynamicResource ButtonBarSearchTextBlock}"
                                   Text="Search"
                                   TextWrapping="NoWrap">
                            <TextBlock.LayoutTransform>
                                <TransformGroup>
                                    <ScaleTransform />
                                    <SkewTransform />
                                    <RotateTransform Angle="-90" />
                                    <TranslateTransform />
                                </TransformGroup>
                            </TextBlock.LayoutTransform>
                        </TextBlock>
                    </Button>
                    <Rectangle x:Name="grdSpliter"
                               Grid.Column="1"
                               Width="1"
                               HorizontalAlignment="Left"
                               Fill="{DynamicResource Spilter_Line_Background}" />
                    <Grid x:Name="grdSubSalesOrder" Grid.Column="2">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="60" />
                            <RowDefinition Height="90" />
                            <RowDefinition />
                        </Grid.RowDefinitions>
                        <StackPanel x:Name="stkpBtn"
                                    Height="Auto"
                                    Margin="20,0,0,5"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Bottom"
                                    Orientation="Horizontal">
                            <Button x:Name="btnSOLock"
                                    Width="40"
                                    Height="40"
                                    VerticalAlignment="Center"
                                    Command="{Binding UnLockSaleOrderCommand}"
                                    Style="{DynamicResource ButtonSystem}"
                                    Visibility="Visible">
                                <StackPanel x:Name="stkpBtnSOLock"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Orientation="Horizontal">
                                    <Rectangle x:Name="imgSOLock"
                                               Width="30"
                                               Height="30"
                                               Fill="{DynamicResource SOUnlock}" />
                                    <TextBlock x:Name="txtblSOLock"
                                               Margin="5,0,0,0"
                                               VerticalAlignment="Center"
                                               Style="{DynamicResource ButtonSystemTextBlock}"
                                               Text="SOLock"
                                               TextWrapping="NoWrap"
                                               Visibility="Collapsed" />
                                </StackPanel>
                            </Button>
                        </StackPanel>
                        <TextBlock x:Name="txtblBindingWorkOrder"
                                   Margin="0,0,20,7"
                                   HorizontalAlignment="Right"
                                   VerticalAlignment="Bottom"
                                   FontFamily="Times New Roman"
                                   Style="{DynamicResource TextBlockTitleFormView}"
                                   Text="Sales Order"
                                   TextWrapping="NoWrap" />
                        <Rectangle x:Name="Line"
                                   Grid.Row="1"
                                   Height="1"
                                   Margin="2,0"
                                   HorizontalAlignment="Stretch"
                                   VerticalAlignment="Top"
                                   Fill="White" />
                        <Grid x:Name="grdSalesOrderInformation"
                              Grid.Row="1"
                              Width="747"
                              Height="80"
                              Margin="0,10,0,0"
                              HorizontalAlignment="Left"
                              VerticalAlignment="Top"
                              IsEnabled="{Binding SelectedSaleOrder.IsLocked,
                                                  Converter={StaticResource reserseBoolConverter},
                                                  Mode=OneWay}">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="25" />
                                <RowDefinition Height="25" />
                                <RowDefinition Height="25" />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="80" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="115" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="85" />
                                <ColumnDefinition Width="120" />
                            </Grid.ColumnDefinitions>
                            <TextBlock x:Name="txtblCustomer"
                                       Margin="10,0,0,0"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Center"
                                       Style="{DynamicResource TextBlockNormal}"
                                       Text="Customer:"
                                       TextWrapping="NoWrap" />
                            <CPCToolkitExt_ComboBoxControl:ComboBoxControl Grid.Column="1"
                                                                           Margin="0,2"
                                                                           AutoHiddenItem="False"
                                                                           DisplayMemberPath="LegalName"
                                                                           ItemsSource="{Binding CustomerCollection}"
                                                                           SelectedItem="{Binding SelectedSaleOrder.GuestModel,
                                                                                                  Mode=OneWay,
                                                                                                  UpdateSourceTrigger=PropertyChanged}"
                                                                           />
                            <TextBlock x:Name="txtblBookingChanal"
                                       Grid.Column="2"
                                       Margin="25,0,0,0"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Center"
                                       Style="{DynamicResource TextBlockNormal}"
                                       Text="Booking Chanel:"
                                       TextWrapping="NoWrap" />
                            <ComboBox x:Name="cmbTransType"
                                      Grid.Column="3"
                                      Width="173"
                                      Margin="0,2"
                                      VerticalAlignment="Stretch"
                                      DisplayMemberPath="Text"
                                      ItemsSource="{x:Static CPC_Helper:Common.BookingChannel}"
                                      SelectedValue="{Binding SelectedSaleOrder.BookingChanel,
                                                              Mode=TwoWay,
                                                              UpdateSourceTrigger=PropertyChanged}"
                                      SelectedValuePath="ObjValue" />
                            <TextBlock x:Name="txtblSONo"
                                       Grid.Column="4"
                                       Margin="25,0,0,0"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Center"
                                       Style="{DynamicResource TextBlockNormal}"
                                       Text="SO #:"
                                       TextWrapping="NoWrap" />
                            <TextBlock x:Name="txtblBindingSONo"
                                       Grid.Column="5"
                                       Margin="0"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Center"
                                       Style="{DynamicResource TextBlockBasic}"
                                       Text="{Binding SelectedSaleOrder.SONumber,
                                                      Mode=TwoWay,
                                                      UpdateSourceTrigger=PropertyChanged}"
                                       TextWrapping="NoWrap" />
                            <TextBlock x:Name="txtblBillAddress"
                                       Grid.Row="1"
                                       Margin="10,0,0,0"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Center"
                                       Style="{DynamicResource TextBlockNormal}"
                                       Text="Bill Address:"
                                       TextWrapping="NoWrap" />
                            <TextBox x:Name="txtBillAddress"
                                     Grid.Row="1"
                                     Grid.RowSpan="2"
                                     Grid.Column="1"
                                     Margin="0,2"
                                     IsReadOnly="True"
                                     Padding="2,0,2,0"
                                     Text="{Binding SelectedSaleOrder.BillAddress,
                                                    Mode=OneWay,
                                                    NotifyOnValidationError=True,
                                                    UpdateSourceTrigger=PropertyChanged,
                                                    ValidatesOnDataErrors=True}"
                                     TextWrapping="Wrap"
                                     ToolTip="Click to view detail"
                                     VerticalScrollBarVisibility="Auto" />
                            <TextBlock x:Name="txtblShipAddress"
                                       Grid.Row="1"
                                       Grid.Column="2"
                                       Margin="25,0,0,0"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Center"
                                       Style="{DynamicResource TextBlockNormal}"
                                       Text="Ship Address:"
                                       TextWrapping="NoWrap" />
                            <TextBox x:Name="txtShipAddress"
                                     Grid.Row="1"
                                     Grid.RowSpan="2"
                                     Grid.Column="3"
                                     Margin="0,2"
                                     IsReadOnly="True"
                                     Padding="2,0,2,0"
                                     Text="{Binding SelectedSaleOrder.ShipAddress,
                                                    Mode=OneWay,
                                                    NotifyOnValidationError=True,
                                                    UpdateSourceTrigger=PropertyChanged,
                                                    ValidatesOnDataErrors=True}"
                                     TextWrapping="Wrap"
                                     ToolTip="Click to view detail"
                                     VerticalScrollBarVisibility="Auto" />
                            <TextBlock x:Name="txtblSODate"
                                       Grid.Row="1"
                                       Grid.Column="4"
                                       Margin="25,0,0,0"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Center"
                                       Style="{DynamicResource TextBlockNormal}"
                                       Text="SO Date:"
                                       TextWrapping="NoWrap" />
                            <DatePicker x:Name="dtpOrderDate"
                                        Grid.Row="1"
                                        Grid.Column="7"
                                        Width="90"
                                        Margin="0,2"
                                        HorizontalAlignment="Left"
                                        Background="White"
                                        SelectedDate="{Binding SelectedSaleOrder.OrderDate,
                                                               Mode=TwoWay,
                                                               UpdateSourceTrigger=PropertyChanged}" />
                            <TextBlock x:Name="txtblStatus"
                                       Grid.Row="2"
                                       Grid.Column="4"
                                       Margin="25,0,0,0"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Center"
                                       Style="{DynamicResource TextBlockNormal}"
                                       Text="Status:"
                                       TextWrapping="NoWrap" />
                            <ComboBox x:Name="cmbStatus"
                                      Grid.Row="2"
                                      Grid.Column="5"
                                      Width="90"
                                      Margin="0,2"
                                      HorizontalAlignment="Left"
                                      VerticalAlignment="Stretch"
                                      DisplayMemberPath="Text"
                                      IsEnabled="False"
                                      ItemsSource="{x:Static CPC_Helper:Common.StatusSalesOrders}"
                                      SelectedIndex="0"
                                      SelectedValue="{Binding SelectedSaleOrder.OrderStatus,
                                                              Mode=TwoWay,
                                                              UpdateSourceTrigger=PropertyChanged}"
                                      SelectedValuePath="ObjValue" />
                        </Grid>
                        <Grid x:Name="grdContentSalesOrder"
                              Grid.Row="2"
                              Margin="0,0,0,10">
                            <!--  TabControlChangedCommand  -->
                            <CPCToolkitExt_OtherControl:CPCTabControl x:Name="TabSalesOrder"
                                                                      Grid.Row="3"
                                                                      Margin="10,10,10,0">
                                <CPCToolkitExt_OtherControl:CPCTabItemControl x:Name="tabitemOrder" Header="Order">
                                    <Grid x:Name="grdOrder">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="30" />
                                            <RowDefinition Height="Auto" MinHeight="5" />
                                            <RowDefinition />
                                            <RowDefinition Height="150.003" />
                                        </Grid.RowDefinitions>
                                        <TextBlock x:Name="txtblSelectItem"
                                                   Margin="10,0,0,0"
                                                   HorizontalAlignment="Left"
                                                   VerticalAlignment="Center"
                                                   Style="{DynamicResource TextBlockNormal}"
                                                   Text="Select Item:"
                                                   TextWrapping="NoWrap" />
                                        <CPCToolkitExt_AutoCompleteControl:AutoCompleteTextBox Grid.Column="1"
                                                                                               Width="350"
                                                                                               Height="21"
                                                                                               Margin="75,0,0,0"
                                                                                               HorizontalAlignment="Left"
                                                                                               VerticalAlignment="Center"
                                                                                               AutoChangeSelectedItem="False"
                                                                                               FieldShow="ProductName"
                                                                                               FilterMode="Contains"
                                                                                               IsEnabled="false"
                                                                                               IsTextCompletionEnabled="False">
                                            <CPCToolkitExt_AutoCompleteControl:AutoCompleteTextBox.Columns>
                                                <GridViewColumn Width="120"
                                                                DisplayMemberBinding="{Binding Code}"
                                                                Header="Code" />
                                                <GridViewColumn Width="150"
                                                                DisplayMemberBinding="{Binding ProductName}"
                                                                Header="ProductName" />
                                                <GridViewColumn Width="80"
                                                                DisplayMemberBinding="{Binding Attribute}"
                                                                Header="Attribute" />
                                                <GridViewColumn Width="80"
                                                                DisplayMemberBinding="{Binding Size}"
                                                                Header="Size" />
                                            </CPCToolkitExt_AutoCompleteControl:AutoCompleteTextBox.Columns>
                                        </CPCToolkitExt_AutoCompleteControl:AutoCompleteTextBox>
                                        <Rectangle x:Name="imgIssueNewReward"
                                                   Grid.Column="1"
                                                   Width="30"
                                                   Height="30"
                                                   Margin="550,0,0,0"
                                                   HorizontalAlignment="Left">
                                            <Rectangle.ToolTip>
                                                <ToolTip Background="Transparent" BorderBrush="Transparent">
                                                    <Border x:Name="brdRewardTooltip"
                                                            Grid.Row="2"
                                                            Width="250"
                                                            HorizontalAlignment="Stretch"
                                                            Background="{DynamicResource UserControlBackground}"
                                                            BorderBrush="{DynamicResource TitleBarBorder}"
                                                            BorderThickness="1,1,1,1"
                                                            CornerRadius="5,5,5,5">
                                                        <Grid x:Name="grdReward" Margin="5">
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="25" />
                                                                <RowDefinition Height="30" />
                                                                <RowDefinition Height="30" />
                                                            </Grid.RowDefinitions>
                                                            <TextBlock x:Name="txtblRewardMember"
                                                                       HorizontalAlignment="Left"
                                                                       VerticalAlignment="Center"
                                                                       Style="{DynamicResource TextBlockNormal}"
                                                                       Text="Reward Member"
                                                                       TextWrapping="NoWrap" />
                                                            <TextBlock x:Name="txtblRewardHas"
                                                                       Grid.Row="1"
                                                                       HorizontalAlignment="Left"
                                                                       VerticalAlignment="Center"
                                                                       Style="{DynamicResource TextBlockNormal}"
                                                                       Text="{Binding SelectedSaleOrder.GuestModel.GuestRewardCollection.Count,
                                                                                      Mode=OneWay,
                                                                                      StringFormat=Reward has \{0\} rewards available for redemption}"
                                                                       TextWrapping="Wrap" />

                                                            <Rectangle x:Name="imgReward"
                                                                       Grid.Row="2"
                                                                       Width="15"
                                                                       Height="15"
                                                                       Margin="0,7.5,0,0"
                                                                       HorizontalAlignment="Left"
                                                                       VerticalAlignment="Top"
                                                                       Fill="{DynamicResource RewardGold}" />
                                                            <TextBlock x:Name="txtblRewardHas1"
                                                                       Grid.Row="5"
                                                                       Margin="22,0,0,0"
                                                                       HorizontalAlignment="Left"
                                                                       VerticalAlignment="Center"
                                                                       Style="{DynamicResource TextBlockNormal}"
                                                                       Text="{Binding SelectedSaleOrder.GuestModel.RequirePurchaseNextReward,
                                                                                      Mode=OneWay,
                                                                                      StringFormat=' \{0:C\} until the next reward is earned'}"
                                                                       TextWrapping="Wrap" />
                                                        </Grid>
                                                    </Border>
                                                </ToolTip>
                                            </Rectangle.ToolTip>
                                            <Rectangle.Style>
                                                <Style TargetType="{x:Type Rectangle}">
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding SelectedSaleOrder.GuestModel.IsRewardMember, Mode=OneWay}" Value="True">
                                                            <Setter Property="Fill" Value="{DynamicResource IssueReward}" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Rectangle.Style>
                                        </Rectangle>

                                        <Button x:Name="btnAdvanceSearch1"
                                                Width="90"
                                                Height="21"
                                                Margin="429,0,0,0"
                                                HorizontalAlignment="Left"
                                                VerticalAlignment="Center"
                                                IsEnabled="False">
                                            <TextBlock x:Name="txtblAdvanceSearch"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource ButtonTextBlock}"
                                                       Text="Advance Search"
                                                       TextWrapping="NoWrap" />
                                        </Button>
                                        <cpcDataGrid:DataGridControl x:Name="dtgrdOrderDetail"
                                                                     Grid.Row="2"
                                                                     Margin="5,0,5,5"
                                                                     AutoGenerateColumns="False"
                                                                     CanUserAddRows="False"
                                                                     CanUserDeleteRows="False"
                                                                     HorizontalScrollBarVisibility="Hidden"
                                                                     IsReadOnly="True"
                                                                     IsRollBackData="False"
                                                                     ItemsSource="{Binding SelectedSaleOrder.SaleOrderDetailCollection,
                                                                                           Mode=TwoWay,
                                                                                           UpdateSourceTrigger=PropertyChanged}"
                                                                     RowDetailsTemplate="{DynamicResource RowDetailDataTemplateOrderInvoice}"
                                                                     RowDetailsVisibilityMode="Visible"
                                                                     RowStyle="{DynamicResource DataGridDetailRowStyle}"
                                                                     Style="{DynamicResource DatagridWithRowHeader}"
                                                                     VisibilityNavigationBar="Collapsed">
                                            <cpcDataGrid:DataGridControl.Columns>
                                                <DataGridTextColumn Width="100"
                                                                    Binding="{Binding ItemCode}"
                                                                    Header="Item Code"
                                                                    IsReadOnly="True" />
                                                <DataGridTextColumn Width="*"
                                                                    Binding="{Binding ItemName}"
                                                                    Header="Item Name"
                                                                    IsReadOnly="True" />
                                                <DataGridTextColumn Width="80"
                                                                    Binding="{Binding ItemAtribute,
                                                                                      Mode=OneWay}"
                                                                    Header="Attribute"
                                                                    IsReadOnly="True" />
                                                <DataGridTextColumn Width="80"
                                                                    Binding="{Binding ItemSize,
                                                                                      Mode=OneWay}"
                                                                    Header="Size"
                                                                    IsReadOnly="True" />
                                                <DataGridTemplateColumn Width="75" Header="Quantity">
                                                    <DataGridTemplateColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock HorizontalAlignment="Right" Text="{Binding Qty, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}" />
                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellTemplate>
                                                    <DataGridTemplateColumn.CellEditingTemplate>
                                                        <DataTemplate>
                                                            <Grid>
                                                                <CPCToolkitExt_TextBoxControl:TextBoxNumeric x:Name="txtQuantity"
                                                                                                             HorizontalAlignment="Right"
                                                                                                             Style="{DynamicResource TextBoxNumericInsideDataGridStyle}"
                                                                                                             Value="{Binding Qty,
                                                                                                                             Mode=TwoWay,
                                                                                                                             UpdateSourceTrigger=PropertyChanged}">
                                                                    <i:Interaction.Triggers>
                                                                        <i:EventTrigger EventName="LostFocus">
                                                                            <CPC_Toolkit_Command:EventToCommand Command="{Binding DataContext.QtyChangedCommand, RelativeSource={RelativeSource AncestorType={x:Type UserControl}, Mode=FindAncestor}}" CommandParameter="{Binding Qty}" />
                                                                        </i:EventTrigger>
                                                                    </i:Interaction.Triggers>
                                                                </CPCToolkitExt_TextBoxControl:TextBoxNumeric>
                                                            </Grid>
                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellEditingTemplate>
                                                </DataGridTemplateColumn>
                                                <DataGridTemplateColumn Width="80"
                                                                        CellStyle="{StaticResource DataGridPriceCellStyle}"
                                                                        Header="Price">
                                                    <DataGridTemplateColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock HorizontalAlignment="Right"
                                                                       Text="{Binding SalePrice, Mode=OneWay,ConverterCulture={x:Static local:Define.ConverterCulture}, StringFormat={x:Static local:Define.CurrencyFormat}}" />
                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellTemplate>
                                                    <DataGridTemplateColumn.CellEditingTemplate>
                                                        <DataTemplate>
                                                            <Grid>
                                                                <CPCToolkitExt_TextBoxControl:TextBoxMoney x:Name="txtSalePrice"
                                                                                                           HorizontalAlignment="Right"
                                                                                                           Style="{DynamicResource TextBoxMoneyInsideDataGridStyle}"
                                                                                                           Value="{Binding SalePrice,
                                                                                                                           Mode=TwoWay,
                                                                                                                           UpdateSourceTrigger=PropertyChanged}" />

                                                            </Grid>

                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellEditingTemplate>
                                                </DataGridTemplateColumn>
                                                <DataGridTemplateColumn Width="75" Header="UOM">
                                                    <DataGridTemplateColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding UnitName, Mode=OneWay}" />
                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellTemplate>
                                                    <DataGridTemplateColumn.CellEditingTemplate>
                                                        <DataTemplate>
                                                            <Grid>

                                                                <ComboBox x:Name="cmbUnit"
                                                                          DisplayMemberPath="Name"
                                                                          ItemsSource="{Binding ProductUOMCollection,
                                                                                                Mode=OneWay}"
                                                                          SelectedValue="{Binding UOMId,
                                                                                                  Mode=TwoWay,
                                                                                                  UpdateSourceTrigger=PropertyChanged}"
                                                                          SelectedValuePath="UOMId"
                                                                          Style="{DynamicResource ComboBoxInsideDataGridStyle}" />
                                                            </Grid>

                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellEditingTemplate>
                                                </DataGridTemplateColumn>
                                                <DataGridTemplateColumn Width="80"
                                                                        Header="Amount"
                                                                        IsReadOnly="True">
                                                    <DataGridTemplateColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock x:Name="tblSubTotal"
                                                                       HorizontalAlignment="Right"
                                                                       Text="{Binding SubTotal,
                                                                                      Mode=OneWay,
                                                                ConverterCulture={x:Static local:Define.ConverterCulture},
                                                                                      StringFormat={x:Static local:Define.CurrencyFormat}}" />
                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellTemplate>
                                                </DataGridTemplateColumn>
                                                <DataGridTemplateColumn Width="75" Header="On-Hand Qty">
                                                    <DataGridTemplateColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock HorizontalAlignment="Right" Text="{Binding OnHandQty, Mode=OneWay}" />
                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellTemplate>
                                                </DataGridTemplateColumn>
                                            </cpcDataGrid:DataGridControl.Columns>
                                        </cpcDataGrid:DataGridControl>
                                        <Grid x:Name="grdOrderSubTotal"
                                              Grid.Row="3"
                                              Margin="5,0"
                                              VerticalAlignment="Top"
                                              IsEnabled="{Binding SelectedSaleOrder.IsLocked,
                                                                  Converter={StaticResource reserseBoolConverter},
                                                                  Mode=OneWay}">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="220" />
                                                <ColumnDefinition />
                                                <ColumnDefinition Width="61" />
                                                <ColumnDefinition Width="115" />
                                                <ColumnDefinition Width="70" />
                                                <ColumnDefinition Width="80" />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="25" />
                                                <RowDefinition Height="25" />
                                                <RowDefinition Height="25" />
                                                <RowDefinition Height="25" />
                                                <RowDefinition Height="9" />
                                                <RowDefinition Height="40" />
                                            </Grid.RowDefinitions>
                                            <TextBlock x:Name="txtblOrderTabPaymentTerms"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="Payment Terms:"
                                                       TextWrapping="NoWrap" />
                                            <CPCToolkitExt_TextBoxControl:TextBox x:Name="txtTerm"
                                                                                  Margin="100,2,23,2"
                                                                                  HorizontalContentAlignment="Right"
                                                                                  IsReadOnly="True"
                                                                                  Padding="2,0,2,0"
                                                                                  Text="{Binding SelectedSaleOrder.PaymentTermDescription,
                                                                                                 Mode=OneWay,
                                                                                                 UpdateSourceTrigger=PropertyChanged}"
                                                                                  TextWrapping="NoWrap" />
                                            <Button x:Name="btnAdd"
                                                    Width="21"
                                                    Margin="24,2,0,2"
                                                    HorizontalAlignment="Right"
                                                    IsEnabled="False">
                                                <StackPanel x:Name="stkpBtnAdd"
                                                            HorizontalAlignment="Center"
                                                            VerticalAlignment="Center"
                                                            Orientation="Horizontal">
                                                    <Rectangle x:Name="imgAdd"
                                                               Width="13"
                                                               Height="13"
                                                               Fill="{DynamicResource EditTerm}" />
                                                    <TextBlock x:Name="txtblOK"
                                                               Margin="5,0,0,0"
                                                               VerticalAlignment="Center"
                                                               Style="{DynamicResource ButtonTextBlock}"
                                                               Text="Add"
                                                               TextWrapping="NoWrap"
                                                               Visibility="Collapsed" />
                                                </StackPanel>
                                            </Button>
                                            <TextBlock x:Name="txtblOrderTabRequestShipDate"
                                                       Grid.Row="1"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="Request Ship Date:"
                                                       TextWrapping="NoWrap" />
                                            <DatePicker x:Name="dtpOrderTabRequestShipDate"
                                                        Grid.Row="1"
                                                        Margin="100,2,0,2"
                                                        SelectedDate="{Binding SelectedSaleOrder.RequestShipDate,
                                                                               Mode=TwoWay,
                                                                               UpdateSourceTrigger=PropertyChanged}" />
                                            <TextBlock x:Name="txtblStoreCode"
                                                       Grid.Row="2"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="Store Code:"
                                                       TextWrapping="NoWrap" />
                                            <ComboBox x:Name="cmbStoreCode"
                                                      Grid.Row="2"
                                                      Margin="100,2,0,2"
                                                      DisplayMemberPath="Code"
                                                      IsEnabled="{Binding SelectedSaleOrder.AnyShipped,
                                                                          Converter={StaticResource reserseBoolConverter},
                                                                          Mode=OneWay}"
                                                      ItemsSource="{Binding StoreCollection}"
                                                      SelectedIndex="{Binding SelectedSaleOrder.StoreCode,
                                                                              Mode=TwoWay,
                                                                              UpdateSourceTrigger=PropertyChanged}" />
                                            <TextBlock x:Name="txtblOrderTabSaleRep"
                                                       Grid.Row="3"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="Sales Rep:"
                                                       TextWrapping="NoWrap">
                                                <!--  when user choise booking channel is website, Sales rep will be collapsed  -->
                                                <TextBlock.Visibility>
                                                    <Binding ElementName="cmbTransType"
                                                             Mode="OneWay"
                                                             Path="SelectedItem.Flag"
                                                             UpdateSourceTrigger="PropertyChanged">
                                                        <Binding.Converter>
                                                            <converter:BoolToVisibilityConverter FalseToVisibility="Visible" />
                                                        </Binding.Converter>
                                                    </Binding>
                                                </TextBlock.Visibility>
                                            </TextBlock>
                                            <TextBox x:Name="txtblSaleRep"
                                                     Grid.Row="3"
                                                     Width="120"
                                                     Height="21"
                                                     Margin="100,0,0,0"
                                                     HorizontalAlignment="Left"
                                                     VerticalAlignment="Center"
                                                     IsReadOnly="True"
                                                     Text="{Binding SelectedSaleOrder.SaleRep,
                                                                    Mode=OneWay}"
                                                     TextWrapping="NoWrap"
                                                     Visibility="{Binding Visibility,
                                                                          ElementName=txtblOrderTabSaleRep}" />
                                            <TextBlock x:Name="txtblRemark1"
                                                       Grid.Column="1"
                                                       Margin="20,0,0,0"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="Remark:"
                                                       TextWrapping="NoWrap" />
                                            <TextBox x:Name="txtRemark1"
                                                     Grid.Row="1"
                                                     Grid.RowSpan="3"
                                                     Grid.Column="1"
                                                     Margin="20,2"
                                                     VerticalContentAlignment="Top"
                                                     AcceptsReturn="True"
                                                     HorizontalScrollBarVisibility="Auto"
                                                     Padding="2,0,2,0"
                                                     Text="{Binding SelectedSaleOrder.Remark,
                                                                    Mode=TwoWay,
                                                                    UpdateSourceTrigger=PropertyChanged}"
                                                     TextWrapping="Wrap"
                                                     VerticalScrollBarVisibility="Auto" />
                                            <StackPanel x:Name="stkpTaxLocationCode"
                                                        Grid.Row="5"
                                                        Grid.ColumnSpan="2"
                                                        Margin="0,0,0,7"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Bottom"
                                                        Orientation="Horizontal">
                                                <StackPanel.Visibility>
                                                    <Binding Mode="OneWay"
                                                             Path="SelectedSaleOrder.IsTaxExemption"
                                                             UpdateSourceTrigger="PropertyChanged">
                                                        <Binding.Converter>
                                                            <converter:BoolToVisibilityConverter FalseToVisibility="Visible" />
                                                        </Binding.Converter>
                                                    </Binding>
                                                </StackPanel.Visibility>
                                                <TextBlock x:Name="txtblTaxLocation2"
                                                           HorizontalAlignment="Left"
                                                           FontWeight="Bold"
                                                           Foreground="#FFFEFF00"
                                                           Style="{DynamicResource TextBlockNormal}"
                                                           Text="Tax Location:"
                                                           TextWrapping="NoWrap" />
                                                <TextBlock x:Name="txtblBindingTaxLocation"
                                                           Margin="10,0,0,0"
                                                           HorizontalAlignment="Left"
                                                           FontWeight="Bold"
                                                           Foreground="#FFFEFF00"
                                                           Style="{DynamicResource TextBlockNormal}"
                                                           Text="{Binding SelectedSaleOrder.TaxLocationModel.Name,
                                                                          Mode=OneWay}"
                                                           TextWrapping="NoWrap" />
                                                <TextBlock x:Name="txtblTaxCode"
                                                           Margin="10,0,0,0"
                                                           HorizontalAlignment="Left"
                                                           FontWeight="Bold"
                                                           Foreground="#FFFEFF00"
                                                           Style="{DynamicResource TextBlockNormal}"
                                                           Text="Tax Code:"
                                                           TextWrapping="NoWrap" />
                                                <TextBlock x:Name="txtblBindingTaxCode"
                                                           Margin="10,0,0,0"
                                                           HorizontalAlignment="Left"
                                                           FontWeight="Bold"
                                                           Foreground="#FFFEFF00"
                                                           Style="{DynamicResource TextBlockNormal}"
                                                           Text="{Binding SelectedSaleOrder.TaxCode,
                                                                          Mode=OneWay}"
                                                           TextWrapping="NoWrap" />
                                            </StackPanel>
                                            <StackPanel x:Name="stkpTaxExcemption"
                                                        Grid.Row="5"
                                                        Grid.ColumnSpan="2"
                                                        Margin="0,0,0,7"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Bottom"
                                                        Orientation="Horizontal">
                                                <StackPanel.Visibility>
                                                    <Binding Mode="OneWay" Path="SelectedSaleOrder.IsTaxExemption">
                                                        <Binding.Converter>
                                                            <converter:BoolToVisibilityConverter FalseToVisibility="Collapsed" />
                                                        </Binding.Converter>
                                                    </Binding>
                                                </StackPanel.Visibility>
                                                <TextBlock x:Name="txtblTaxExcemption"
                                                           HorizontalAlignment="Left"
                                                           FontWeight="Bold"
                                                           Foreground="#FFFEFF00"
                                                           Style="{DynamicResource TextBlockNormal}"
                                                           Text="Tax Excemption"
                                                           TextWrapping="NoWrap" />
                                                <TextBlock x:Name="txtblTaxExcemptionNo"
                                                           Margin="10,0,0,0"
                                                           HorizontalAlignment="Left"
                                                           FontWeight="Bold"
                                                           Foreground="#FFFEFF00"
                                                           Style="{DynamicResource TextBlockNormal}"
                                                           Text="Tax Code:"
                                                           TextWrapping="NoWrap" />
                                                <TextBlock x:Name="txtblBindingTaxExcemptionNo"
                                                           Margin="10,0,0,0"
                                                           HorizontalAlignment="Left"
                                                           FontWeight="Bold"
                                                           Foreground="#FFFEFF00"
                                                           Style="{DynamicResource TextBlockNormal}"
                                                           Text="{Binding SelectedSaleOrder.TaxExemption,
                                                                          Mode=OneWay}"
                                                           TextWrapping="NoWrap" />
                                            </StackPanel>
                                            <TextBlock x:Name="txtblPriceLevel2"
                                                       Grid.Column="2"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="Price Level:"
                                                       TextWrapping="NoWrap" />
                                            <ComboBox x:Name="cmbPriceLevel2"
                                                      Grid.Column="3"
                                                      Margin="0,2"
                                                      VerticalAlignment="Stretch"
                                                      DisplayMemberPath="Text"
                                                      ItemsSource="{x:Static CPC_Helper:Common.MarkdownPriceLevels}"
                                                      SelectedValue="{Binding SelectedSaleOrder.PriceSchemaId,
                                                                              Mode=TwoWay,
                                                                              UpdateSourceTrigger=PropertyChanged}"
                                                      SelectedValuePath="ObjValue" />
                                            <TextBlock x:Name="txtblOrderTabSubTotal"
                                                       Grid.Column="4"
                                                       Margin="10,0,0,0"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="Sub-Total:"
                                                       TextWrapping="NoWrap" />
                                            <TextBox x:Name="txtOrderTabSubTotal"
                                                     Grid.RowSpan="1"
                                                     Grid.Column="5"
                                                     Height="21"
                                                     Margin="0,0,0,2"
                                                     VerticalAlignment="Bottom"
                                                     HorizontalContentAlignment="Right"
                                                     FontWeight="Bold"
                                                     IsReadOnly="True"
                                                     Padding="2,0,2,0"
                                                     Text="{Binding SelectedSaleOrder.SubTotal,
                                                                    Mode=OneWay,
                                                ConverterCulture={x:Static local:Define.ConverterCulture},
                                                                    StringFormat={x:Static local:Define.CurrencyFormat}}"
                                                     TextWrapping="NoWrap" />
                                            <TextBlock x:Name="txtblOrderTabDiscountleft"
                                                       Grid.Column="2"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Text="Discount:"
                                                       TextWrapping="NoWrap">
                                                <TextBlock.Style>
                                                    <Style BasedOn="{StaticResource TextBlockNormal}" TargetType="{x:Type TextBlock}">
                                                        <Setter Property="Grid.Row" Value="1" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding SelectedSaleOrder.TaxCodeModel.IsTaxAfterDiscount}" Value="False">
                                                                <Setter Property="Grid.Row" Value="2" />
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding SelectedSaleOrder.TaxCodeModel.IsTaxAfterDiscount}" Value="True">
                                                                <Setter Property="Grid.Row" Value="1" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </TextBlock.Style>
                                            </TextBlock>
                                            <CPCToolkitExt_TextBoxControl:TextBoxNumeric x:Name="txtOrderDiscount"
                                                                                         Grid.RowSpan="1"
                                                                                         Grid.Column="3"
                                                                                         Width="35"
                                                                                         Height="21"
                                                                                         Margin="0,2"
                                                                                         HorizontalAlignment="Left"
                                                                                         HorizontalContentAlignment="Right"
                                                                                         DecimalPlaces="2"
                                                                                         IntegerLength="3"
                                                                                         Padding="2,0,2,0"
                                                                                         TextWrapping="NoWrap"
                                                                                         Value="{Binding SelectedSaleOrder.DiscountPercent,
                                                                                                         Mode=TwoWay,
                                                                                                         UpdateSourceTrigger=PropertyChanged}">
                                                <CPCToolkitExt_TextBoxControl:TextBoxNumeric.Style>
                                                    <Style BasedOn="{StaticResource {x:Type CPCToolkitExt_TextBoxControl:TextBoxNumeric}}" TargetType="{x:Type CPCToolkitExt_TextBoxControl:TextBoxNumeric}">
                                                        <Setter Property="Grid.Row" Value="1" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding SelectedSaleOrder.TaxCodeModel.IsTaxAfterDiscount}" Value="False">
                                                                <Setter Property="Grid.Row" Value="2" />
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding SelectedSaleOrder.TaxCodeModel.IsTaxAfterDiscount}" Value="True">
                                                                <Setter Property="Grid.Row" Value="1" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </CPCToolkitExt_TextBoxControl:TextBoxNumeric.Style>
                                            </CPCToolkitExt_TextBoxControl:TextBoxNumeric>
                                            <TextBlock x:Name="txtblOrderDiscountPercent"
                                                       Grid.Row="1"
                                                       Grid.Column="3"
                                                       Margin="40,0,0,0"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="%"
                                                       TextWrapping="NoWrap" />
                                            <TextBlock x:Name="txtblOrderTabDiscountAmount"
                                                       Grid.Column="4"
                                                       Margin="10,0,0,0"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Text="Discount:"
                                                       TextWrapping="NoWrap">
                                                <TextBlock.Style>
                                                    <Style BasedOn="{StaticResource TextBlockNormal}" TargetType="{x:Type TextBlock}">
                                                        <Setter Property="Grid.Row" Value="1" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding SelectedSaleOrder.TaxCodeModel.IsTaxAfterDiscount}" Value="False">
                                                                <Setter Property="Grid.Row" Value="2" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </TextBlock.Style>
                                            </TextBlock>
                                            <!--  Style="{DynamicResource TextBlockNormal}"  -->
                                            <CPCToolkitExt_TextBoxControl:TextBoxMoney x:Name="txtShowDiscount"
                                                                                       Grid.RowSpan="1"
                                                                                       Grid.Column="5"
                                                                                       Margin="0,2"
                                                                                       HorizontalContentAlignment="Right"
                                                                                       Padding="2,0,2,0"
                                                                                       SymbolAlignment="Left"
                                                                                       
                                                                                       TextWrapping="NoWrap"
                                                                                       Value="{Binding SelectedSaleOrder.DiscountAmount,
                                                                                                       Mode=TwoWay,
                                                                                                       UpdateSourceTrigger=PropertyChanged}">
                                                <CPCToolkitExt_TextBoxControl:TextBoxMoney.Style>
                                                    <Style BasedOn="{StaticResource {x:Type CPCToolkitExt_TextBoxControl:TextBoxMoney}}" TargetType="{x:Type CPCToolkitExt_TextBoxControl:TextBoxMoney}">
                                                        <Setter Property="Grid.Row" Value="1" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding SelectedSaleOrder.TaxCodeModel.IsTaxAfterDiscount}" Value="False">
                                                                <Setter Property="Grid.Row" Value="2" />
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding SelectedSaleOrder.TaxCodeModel.IsTaxAfterDiscount}" Value="True">
                                                                <Setter Property="Grid.Row" Value="1" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </CPCToolkitExt_TextBoxControl:TextBoxMoney.Style>
                                            </CPCToolkitExt_TextBoxControl:TextBoxMoney>
                                            <TextBlock x:Name="txtblOrderTabTaxleft"
                                                       Grid.Column="2"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Text="Tax:"
                                                       TextWrapping="NoWrap">
                                                <TextBlock.Style>
                                                    <Style BasedOn="{StaticResource TextBlockNormal}" TargetType="{x:Type TextBlock}">
                                                        <Setter Property="Grid.Row" Value="2" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding SelectedSaleOrder.TaxCodeModel.IsTaxAfterDiscount}" Value="False">
                                                                <Setter Property="Grid.Row" Value="1" />
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding SelectedSaleOrder.TaxCodeModel.IsTaxAfterDiscount}" Value="True">
                                                                <Setter Property="Grid.Row" Value="2" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </TextBlock.Style>
                                            </TextBlock>
                                            <!--  Style="{DynamicResource TextBlockNormal}"  -->
                                            <CPCToolkitExt_TextBoxControl:TextBoxNumeric x:Name="txtOrderTabTaxPercent"
                                                                                         Grid.RowSpan="1"
                                                                                         Grid.Column="3"
                                                                                         Width="35"
                                                                                         Margin="0,2"
                                                                                         HorizontalAlignment="Left"
                                                                                         HorizontalContentAlignment="Right"
                                                                                         DecimalPlaces="2"
                                                                                         IntegerLength="3"
                                                                                         IsReadOnly="True"
                                                                                         Padding="2,0,2,0"
                                                                                         TextWrapping="NoWrap"
                                                                                         Value="{Binding SelectedSaleOrder.TaxPercent,
                                                                                                         Mode=OneWay}">
                                                <CPCToolkitExt_TextBoxControl:TextBoxNumeric.Style>
                                                    <Style BasedOn="{StaticResource {x:Type CPCToolkitExt_TextBoxControl:TextBoxNumeric}}" TargetType="{x:Type CPCToolkitExt_TextBoxControl:TextBoxNumeric}">
                                                        <Setter Property="Grid.Row" Value="2" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding SelectedSaleOrder.TaxCodeModel.IsTaxAfterDiscount}" Value="False">
                                                                <Setter Property="Grid.Row" Value="1" />
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding SelectedSaleOrder.TaxCodeModel.IsTaxAfterDiscount}" Value="True">
                                                                <Setter Property="Grid.Row" Value="2" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </CPCToolkitExt_TextBoxControl:TextBoxNumeric.Style>
                                            </CPCToolkitExt_TextBoxControl:TextBoxNumeric>
                                            <TextBlock x:Name="txtblOrderTabTaxPercent"
                                                       Grid.Row="2"
                                                       Grid.Column="3"
                                                       Margin="40,0,0,0"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="%"
                                                       TextWrapping="NoWrap" />
                                            <TextBlock x:Name="txtblOrderTabTaxAmount"
                                                       Grid.Column="4"
                                                       Margin="10,0,0,0"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Text="Tax:"
                                                       TextWrapping="NoWrap">
                                                <TextBlock.Style>
                                                    <Style BasedOn="{StaticResource TextBlockNormal}" TargetType="{x:Type TextBlock}">
                                                        <Setter Property="Grid.Row" Value="2" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding SelectedSaleOrder.TaxCodeModel.IsTaxAfterDiscount}" Value="False">
                                                                <Setter Property="Grid.Row" Value="1" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </TextBlock.Style>
                                            </TextBlock>
                                            <TextBox x:Name="txtOrderTabTax"
                                                     Grid.RowSpan="1"
                                                     Grid.Column="5"
                                                     Margin="0,2"
                                                     HorizontalContentAlignment="Right"
                                                     IsReadOnly="True"
                                                     Padding="2,0,2,0"
                                                     Text="{Binding SelectedSaleOrder.TaxAmount,
                                                                    Mode=OneWay,
                                                ConverterCulture={x:Static local:Define.ConverterCulture},
                                                                    StringFormat={x:Static local:Define.CurrencyFormat}}"
                                                     TextWrapping="NoWrap">
                                                <TextBox.Style>
                                                    <Style BasedOn="{StaticResource {x:Type TextBox}}" TargetType="{x:Type TextBox}">
                                                        <Setter Property="Grid.Row" Value="2" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding SelectedSaleOrder.TaxCodeModel.IsTaxAfterDiscount}" Value="False">
                                                                <Setter Property="Grid.Row" Value="1" />
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding SelectedSaleOrder.TaxCodeModel.IsTaxAfterDiscount}" Value="True">
                                                                <Setter Property="Grid.Row" Value="2" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </TextBox.Style>
                                            </TextBox>
                                            <TextBlock x:Name="txtblOrderTabShippingHandling"
                                                       Grid.Row="3"
                                                       Grid.Column="4"
                                                       Margin="10,0,0,0"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="Shipping:"
                                                       TextWrapping="NoWrap" />
                                            <CPCToolkitExt_TextBoxControl:TextBoxMoney x:Name="txtOrderTabShippingHandling"
                                                                                       Grid.Row="3"
                                                                                       Grid.RowSpan="1"
                                                                                       Grid.Column="5"
                                                                                       Margin="0,2"
                                                                                       HorizontalContentAlignment="Right"
                                                                                       Padding="2,0,2,0"
                                                                                       SymbolAlignment="Left"
                                                                                       
                                                                                       TextWrapping="NoWrap"
                                                                                       Value="{Binding SelectedSaleOrder.Shipping,
                                                                                                       Mode=TwoWay,
                                                                                                       UpdateSourceTrigger=PropertyChanged}" />
                                            <Rectangle x:Name="LineOrderTotal"
                                                       Grid.Row="4"
                                                       Grid.Column="2"
                                                       Grid.ColumnSpan="4"
                                                       Height="1"
                                                       Margin="2,0,0,0"
                                                       HorizontalAlignment="Stretch"
                                                       VerticalAlignment="Center"
                                                       Fill="White" />
                                            <TextBlock x:Name="txtblOrderTotal"
                                                       Grid.Row="5"
                                                       Grid.Column="3"
                                                       HorizontalAlignment="Right"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="Total:"
                                                       TextWrapping="NoWrap" />
                                            <TextBox x:Name="txtOrderTotal"
                                                     Grid.Row="6"
                                                     Grid.Column="4"
                                                     Grid.ColumnSpan="2"
                                                     Margin="10,2,0,7"
                                                     HorizontalContentAlignment="Right"
                                                     VerticalContentAlignment="Center"
                                                     IsReadOnly="True"
                                                     Padding="2,0,2,0"
                                                     Style="{DynamicResource TextBoxTotal}"
                                                     Text="{Binding SelectedSaleOrder.Total,
                                                                    Mode=OneWay,
                                                ConverterCulture={x:Static local:Define.ConverterCulture},
                                                                    StringFormat={x:Static local:Define.CurrencyFormat}}"
                                                     TextWrapping="NoWrap" />
                                        </Grid>
                                    </Grid>
                                </CPCToolkitExt_OtherControl:CPCTabItemControl>
                                <CPCToolkitExt_OtherControl:CPCTabItemControl x:Name="tabitemShip" Header="Ship">
                                    <CPCToolkitExt_OtherControl:CPCTabItemControl.Visibility>
                                        <Binding Mode="OneWay" Path="SelectedSaleOrder.ShipProcess">
                                            <Binding.Converter>
                                                <converter:BoolToVisibilityConverter FalseToVisibility="Collapsed" />
                                            </Binding.Converter>
                                        </Binding>
                                    </CPCToolkitExt_OtherControl:CPCTabItemControl.Visibility>
                                    <Grid x:Name="grdShip">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="30" />
                                            <RowDefinition Height="Auto" MinHeight="5" />
                                            <RowDefinition />
                                            <RowDefinition Height="80" />
                                        </Grid.RowDefinitions>
                                        <Button x:Name="btnPickandPack"
                                                Width="100"
                                                Height="21"
                                                Margin="5,0,0,0"
                                                HorizontalAlignment="Left"
                                                VerticalAlignment="Center"
                                                IsEnabled="False">
                                            <StackPanel x:Name="stkpBtnPickandPack"
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Orientation="Horizontal">
                                                <Rectangle x:Name="imgPickandPack"
                                                           Width="20"
                                                           Height="20"
                                                           Fill="{DynamicResource PickPack}" />
                                                <TextBlock x:Name="txtblPickandPack"
                                                           Margin="5,0,0,0"
                                                           VerticalAlignment="Center"
                                                           Style="{DynamicResource ButtonTextBlock}"
                                                           Text="Pick &amp; Pack"
                                                           TextWrapping="NoWrap" />
                                            </StackPanel>
                                        </Button>
                                        <cpcDataGrid:DataGridControl x:Name="dtgrdShip"
                                                                     Grid.Row="2"
                                                                     Margin="5,0,5,9.633"
                                                                     AutoGenerateColumns="False"
                                                                     CanUserAddRows="False"
                                                                     CanUserDeleteRows="False"
                                                                     CanUserSortColumns="False"
                                                                     IsReadOnly="{Binding SelectedSaleOrder.IsLocked,
                                                                                          Mode=OneWay}"
                                                                     IsRollBackData="True"
                                                                     ItemsSource="{Binding SelectedSaleOrder.SaleOrderShipCollection}"
                                                                     RowDetailsVisibilityMode="Collapsed"
                                                                     Style="{DynamicResource DatagridWithRowHeader}"
                                                                     VisibilityNavigationBar="Collapsed">
                                            <cpcDataGrid:DataGridControl.Columns>
                                                <DataGridTextColumn Width="70"
                                                                    Binding="{Binding ShipDate,
                                                                                      StringFormat={x:Static local:Define.DateFormat}}"
                                                                    Header="Ship Date"
                                                                    IsReadOnly="True" />
                                                <DataGridTextColumn Width="*"
                                                                    Binding="{Binding SaleOrderShipDetailCollection.Count}"
                                                                    Header="Packed Quantity"
                                                                    IsReadOnly="True" />
                                                <DataGridTemplateColumn Width="*" Header="Box #">
                                                    <DataGridTemplateColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock x:Name="tbBox"
                                                                       HorizontalAlignment="Center"
                                                                       Text="{Binding BoxNo}" />
                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellTemplate>
                                                    <DataGridTemplateColumn.CellEditingTemplate>
                                                        <DataTemplate>
                                                            <CPCToolkitExt_TextBoxControl:TextBoxNumeric x:Name="txtBox"
                                                                                                         HorizontalAlignment="Center"
                                                                                                         HorizontalContentAlignment="Center"
                                                                                                         Style="{DynamicResource TextBoxNumericInsideDataGridStyle}"
                                                                                                         Value="{Binding BoxNo,
                                                                                                                         Mode=TwoWay,
                                                                                                                         UpdateSourceTrigger=PropertyChanged}" />
                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellEditingTemplate>
                                                </DataGridTemplateColumn>
                                                <DataGridTemplateColumn Width="*" Header="Weights">
                                                    <DataGridTemplateColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock x:Name="tbWeights"
                                                                       HorizontalAlignment="Right"
                                                                       Text="{Binding Weight,
                                                                                      Mode=OneWay,
                                                                                      StringFormat=\{0:00.00\}}" />
                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellTemplate>
                                                    <DataGridTemplateColumn.CellEditingTemplate>
                                                        <DataTemplate>
                                                            <CPCToolkitExt_TextBoxControl:TextBoxNumeric x:Name="txtWeights"
                                                                                                         HorizontalContentAlignment="Right"
                                                                                                         DecimalPlaces="2"
                                                                                                         IntegerLength="26"
                                                                                                         MaxLength="30"
                                                                                                         Style="{DynamicResource TextBoxNumericInsideDataGridStyle}"
                                                                                                         Value="{Binding Weight,
                                                                                                                         Mode=TwoWay,
                                                                                                                         UpdateSourceTrigger=PropertyChanged}" />

                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellEditingTemplate>
                                                </DataGridTemplateColumn>
                                                <DataGridTemplateColumn Width="*" Header="Carrier">
                                                    <DataGridTemplateColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock x:Name="tbCarrier"
                                                                       HorizontalAlignment="Center"
                                                                       Text="{Binding Carrier}" />
                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellTemplate>
                                                    <DataGridTemplateColumn.CellEditingTemplate>
                                                        <DataTemplate>
                                                            <CPCToolkitExt_TextBoxControl:TextBox x:Name="txtCarrier"
                                                                                                  HorizontalAlignment="Stretch"
                                                                                                  MaxLength="100"
                                                                                                  Style="{DynamicResource TextBoxInsideDataGridStyle}"
                                                                                                  Text="{Binding Carrier,
                                                                                                                 Mode=TwoWay,
                                                                                                                 UpdateSourceTrigger=PropertyChanged}" />
                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellEditingTemplate>
                                                </DataGridTemplateColumn>
                                                <DataGridTemplateColumn Width="*" Header="Tracking #">
                                                    <DataGridTemplateColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock x:Name="tbTracking"
                                                                       HorizontalAlignment="Center"
                                                                       Text="{Binding TrackingNo}" />
                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellTemplate>
                                                    <DataGridTemplateColumn.CellEditingTemplate>
                                                        <DataTemplate>
                                                            <CPCToolkitExt_TextBoxControl:TextBox x:Name="txtTracking"
                                                                                                  HorizontalAlignment="Stretch"
                                                                                                  MaxLength="30"
                                                                                                  Style="{DynamicResource TextBoxInsideDataGridStyle}"
                                                                                                  Text="{Binding TrackingNo,
                                                                                                                 Mode=TwoWay,
                                                                                                                 UpdateSourceTrigger=PropertyChanged}" />

                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellEditingTemplate>
                                                </DataGridTemplateColumn>
                                                <DataGridTemplateColumn Width="20" MinWidth="20">
                                                    <DataGridTemplateColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <CheckBox HorizontalAlignment="Center"
                                                                      VerticalAlignment="Center"
                                                                      IsChecked="{Binding IsChecked,
                                                                                          Mode=OneWay,
                                                                                          UpdateSourceTrigger=PropertyChanged}"
                                                                      IsEnabled="False" />
                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellTemplate>
                                                    <DataGridTemplateColumn.CellEditingTemplate>
                                                        <DataTemplate>
                                                            <CheckBox HorizontalAlignment="Center"
                                                                      VerticalAlignment="Center"
                                                                      IsChecked="{Binding IsChecked,
                                                                                          Mode=TwoWay,
                                                                                          UpdateSourceTrigger=PropertyChanged}"
                                                                      IsEnabled="{Binding IsShipped,
                                                                                          Converter={StaticResource reserseBoolConverter},
                                                                                          Mode=OneWay,
                                                                                          UpdateSourceTrigger=PropertyChanged}">
                                                                <i:Interaction.Triggers>
                                                                    <i:EventTrigger EventName="Click">
                                                                        <CPC_Toolkit_Command:EventToCommand Command="{Binding DataContext.ShippedCommand, RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}" CommandParameter="{Binding .}" />
                                                                    </i:EventTrigger>
                                                                </i:Interaction.Triggers>
                                                            </CheckBox>
                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellEditingTemplate>
                                                </DataGridTemplateColumn>
                                            </cpcDataGrid:DataGridControl.Columns>
                                        </cpcDataGrid:DataGridControl>
                                        <Grid x:Name="grdShipRemark"
                                              Grid.Row="3"
                                              Margin="5,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="110" />
                                                <ColumnDefinition Width="132" />
                                                <ColumnDefinition />
                                                <ColumnDefinition Width="200" />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="25" />
                                                <RowDefinition Height="25" />
                                                <RowDefinition Height="25" />
                                            </Grid.RowDefinitions>
                                            <TextBlock x:Name="txtblShipPackedBoxes"
                                                       Grid.Column="3"
                                                       Margin="0"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="Packed Boxes:"
                                                       TextWrapping="NoWrap" />
                                            <TextBlock x:Name="txtblBindingShipPackedBoxes"
                                                       Grid.Column="3"
                                                       Margin="0,0,65,0"
                                                       HorizontalAlignment="Right"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="{Binding SelectedSaleOrder.PackedQty,
                                                                      Mode=OneWay}"
                                                       TextWrapping="NoWrap" />
                                            <TextBlock x:Name="txtblShippedBoxes"
                                                       Grid.Row="1"
                                                       Grid.Column="3"
                                                       Margin="0"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="Shipped Boxes:"
                                                       TextWrapping="NoWrap" />
                                            <TextBlock x:Name="txtblBindingShippedBoxes"
                                                       Grid.Row="1"
                                                       Grid.Column="3"
                                                       Margin="0,0,65,0"
                                                       HorizontalAlignment="Right"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="{Binding SelectedSaleOrder.ShippedBox,
                                                                      Mode=OneWay}"
                                                       TextWrapping="NoWrap" />
                                            <TextBlock x:Name="txtblTotalWeight"
                                                       Grid.Row="2"
                                                       Grid.Column="3"
                                                       Margin="0"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="Total Weight:"
                                                       TextWrapping="NoWrap" />
                                            <TextBlock x:Name="txtblBindingTotalWeight"
                                                       Grid.Row="2"
                                                       Grid.Column="3"
                                                       Margin="0,0,65,0"
                                                       HorizontalAlignment="Right"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="{Binding SelectedSaleOrder.TotalWeight,
                                                                      Mode=OneWay,
                                                                      StringFormat=\{0:00.00\}}"
                                                       TextWrapping="NoWrap" />
                                            <ComboBox x:Name="cmbTotalWeight"
                                                      Grid.Row="2"
                                                      Grid.Column="3"
                                                      Width="50"
                                                      Margin="0,2,10,2"
                                                      HorizontalAlignment="Right"
                                                      VerticalAlignment="Stretch"
                                                      DisplayMemberPath="Text"
                                                      IsEnabled="{Binding SelectedSaleOrder.IsLocked,
                                                                          Converter={StaticResource reserseBoolConverter},
                                                                          Mode=OneWay}"
                                                      ItemsSource="{x:Static CPC_Helper:Common.ShipUnits}"
                                                      SelectedValue="{Binding SelectedSaleOrder.WeightUnit,
                                                                              Mode=TwoWay,
                                                                              UpdateSourceTrigger=PropertyChanged}"
                                                      SelectedValuePath="ObjValue" />
                                        </Grid>
                                    </Grid>
                                </CPCToolkitExt_OtherControl:CPCTabItemControl>
                                <CPCToolkitExt_OtherControl:CPCTabItemControl x:Name="tabitemPaymentHistory" Header="Payment History">
                                    <CPCToolkitExt_OtherControl:CPCTabItemControl.Visibility>
                                        <Binding Mode="OneWay" Path="SelectedSaleOrder.PaymentProcess">
                                            <Binding.Converter>
                                                <converter:BoolToVisibilityConverter FalseToVisibility="Collapsed" />
                                            </Binding.Converter>
                                        </Binding>
                                    </CPCToolkitExt_OtherControl:CPCTabItemControl.Visibility>
                                    <Grid x:Name="grdItemPayment">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" MinHeight="5" />
                                            <RowDefinition />
                                            <RowDefinition Height="85.139" />
                                        </Grid.RowDefinitions>
                                        <cpcDataGrid:DataGridControl x:Name="dtgrdPaymentHistory"
                                                                     Grid.Row="1"
                                                                     Margin="5,0,5,5"
                                                                     AutoGenerateColumns="False"
                                                                     CanUserAddRows="False"
                                                                     CanUserDeleteRows="False"
                                                                     IsPaging="False"
                                                                     IsReadOnly="True"
                                                                     IsRollBackData="False"
                                                                     ItemsSource="{Binding SelectedSaleOrder.PaymentCollection,
                                                                                           Mode=OneWay}"
                                                                     RowStyle="{DynamicResource DataGridPaymentRowStyle}"
                                                                     Style="{DynamicResource DatagridWithRowHeader}"
                                                                     VisibilityNavigationBar="Collapsed">
                                            <cpcDataGrid:DataGridControl.Columns>
                                                <DataGridTextColumn Width="70"
                                                                    Binding="{Binding DateCreated,
                                                                                      Mode=OneWay,
                                                                                      StringFormat={x:Static local:Define.DateFormat}}"
                                                                    Header="Date Paid"
                                                                    IsReadOnly="True" />
                                                <DataGridTextColumn Width="*"
                                                                    Binding="{Binding TotalAmount,
                                                                                      Mode=OneWay,
                                                    ConverterCulture={x:Static local:Define.ConverterCulture},
                                                                                      StringFormat={x:Static local:Define.CurrencyFormat}}"
                                                                    ElementStyle="{StaticResource NumberTextBlock}"
                                                                    Header="Total Amount"
                                                                    IsReadOnly="True" />
                                                <DataGridTextColumn Width="*"
                                                                    Binding="{Binding TotalPaid,
                                                                                      Mode=OneWay,
                                                    ConverterCulture={x:Static local:Define.ConverterCulture},
                                                                                      StringFormat={x:Static local:Define.CurrencyFormat}}"
                                                                    ElementStyle="{StaticResource NumberTextBlock}"
                                                                    Header="Total Paid"
                                                                    IsReadOnly="True" />
                                                <DataGridTextColumn Width="*"
                                                                    Binding="{Binding Balance,
                                                                                      Mode=OneWay,
                                                    ConverterCulture={x:Static local:Define.ConverterCulture},
                                                                                      StringFormat={x:Static local:Define.CurrencyFormat}}"
                                                                    ElementStyle="{StaticResource NumberTextBlock}"
                                                                    Header="Balance"
                                                                    IsReadOnly="True" />
                                                <DataGridTextColumn Width="*"
                                                                    Binding="{Binding Change,
                                                                                      Mode=OneWay,
                                                    ConverterCulture={x:Static local:Define.ConverterCulture},
                                                                                      StringFormat={x:Static local:Define.CurrencyFormat}}"
                                                                    ElementStyle="{StaticResource NumberTextBlock}"
                                                                    Header="Change"
                                                                    IsReadOnly="True" />
                                            </cpcDataGrid:DataGridControl.Columns>
                                        </cpcDataGrid:DataGridControl>
                                        <Grid x:Name="grdSubTotal"
                                              Grid.Row="2"
                                              Margin="5,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="110" />
                                                <ColumnDefinition />
                                                <ColumnDefinition Width="50" />
                                                <ColumnDefinition Width="126" />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="25" />
                                                <RowDefinition Height="25" />
                                                <RowDefinition Height="35" />
                                                <RowDefinition Height="0" />
                                                <RowDefinition Height="0" />
                                            </Grid.RowDefinitions>
                                            <TextBlock x:Name="txtblTotal"
                                                       Grid.Column="2"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="Total:"
                                                       TextWrapping="NoWrap" />
                                            <TextBox x:Name="txtTotal"
                                                     Grid.RowSpan="1"
                                                     Grid.Column="3"
                                                     Height="21"
                                                     Margin="0,0,0,2"
                                                     VerticalAlignment="Bottom"
                                                     HorizontalContentAlignment="Right"
                                                     FontWeight="Bold"
                                                     IsReadOnly="True"
                                                     Padding="2,0,2,0"
                                                     Text="{Binding SelectedSaleOrder.RewardAmount,
ConverterCulture={x:Static local:Define.ConverterCulture},
                                                                    Mode=OneWay,
                                                                    StringFormat={x:Static local:Define.CurrencyFormat}}"
                                                     TextWrapping="NoWrap" />
                                            <TextBlock x:Name="txtblPaid"
                                                       Grid.Row="1"
                                                       Grid.Column="2"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="Paid:"
                                                       TextWrapping="NoWrap" />
                                            <TextBox x:Name="txtPaid"
                                                     Grid.Row="1"
                                                     Grid.RowSpan="1"
                                                     Grid.Column="3"
                                                     Height="21"
                                                     Margin="0,2,0,0"
                                                     VerticalAlignment="Top"
                                                     HorizontalContentAlignment="Right"
                                                     IsReadOnly="True"
                                                     Padding="2,0,2,0"
                                                     Text="{Binding SelectedSaleOrder.Paid,
                                                                    Mode=OneWay,
                                                ConverterCulture={x:Static local:Define.ConverterCulture},
                                                                    StringFormat={x:Static local:Define.CurrencyFormat}}"
                                                     TextWrapping="NoWrap">
                                                <TextBox.Style>
                                                    <Style BasedOn="{StaticResource {x:Type TextBox}}" TargetType="{x:Type TextBox}">
                                                        <Setter Property="Grid.Row" Value="2" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding SelectedSaleOrder.TaxCodeModel.IsTaxAfterDiscount}" Value="False">
                                                                <Setter Property="Grid.Row" Value="1" />
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding SelectedSaleOrder.TaxCodeModel.IsTaxAfterDiscount}" Value="True">
                                                                <Setter Property="Grid.Row" Value="2" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </TextBox.Style>
                                            </TextBox>
                                            <TextBlock x:Name="txtblBalance"
                                                       Grid.Row="2"
                                                       Grid.Column="2"
                                                       Margin="0"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="Balance:"
                                                       TextWrapping="NoWrap" />
                                            <TextBox x:Name="txtBalance"
                                                     Grid.Row="2"
                                                     Grid.Column="3"
                                                     Margin="0,2"
                                                     HorizontalContentAlignment="Right"
                                                     VerticalContentAlignment="Center"
                                                     IsReadOnly="True"
                                                     Padding="2,0,2,0"
                                                     Style="{DynamicResource TextBoxTotal}"
                                                     Text="{Binding SelectedSaleOrder.Balance,
                                                                    Mode=OneWay,
                                                ConverterCulture={x:Static local:Define.ConverterCulture},
                                                                    StringFormat={x:Static local:Define.CurrencyFormat}}"
                                                     TextWrapping="NoWrap" />
                                        </Grid>
                                    </Grid>
                                </CPCToolkitExt_OtherControl:CPCTabItemControl>
                                <CPCToolkitExt_OtherControl:CPCTabItemControl x:Name="tabitemReturn"
                                                                              Width="Auto"
                                                                              HorizontalAlignment="Stretch"
                                                                              Header="Return">
                                    <CPCToolkitExt_OtherControl:CPCTabItemControl.Visibility>
                                        <Binding Mode="OneWay" Path="SelectedSaleOrder.ShipProcess">
                                            <Binding.Converter>
                                                <converter:BoolToVisibilityConverter FalseToVisibility="Collapsed" />
                                            </Binding.Converter>
                                        </Binding>
                                    </CPCToolkitExt_OtherControl:CPCTabItemControl.Visibility>
                                    <AdornerDecorator>
                                        <Grid x:Name="grdContentReturn">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="30" />
                                                <RowDefinition Height="Auto" MinHeight="5" />
                                                <RowDefinition />
                                                <RowDefinition Height="110.146" />
                                            </Grid.RowDefinitions>
                                            <Button x:Name="btnReturnAll"
                                                    Width="100"
                                                    Height="21"
                                                    Margin="5,0,0,0"
                                                    HorizontalAlignment="Left"
                                                    VerticalAlignment="Center"
                                                    IsEnabled="False">
                                                <StackPanel x:Name="stkpBtnReturnAll"
                                                            HorizontalAlignment="Center"
                                                            VerticalAlignment="Center"
                                                            Orientation="Horizontal">
                                                    <Rectangle x:Name="imgReturnAll"
                                                               Width="20"
                                                               Height="20"
                                                               Fill="{DynamicResource POReturn}" />
                                                    <TextBlock x:Name="txtblReturnAll"
                                                               Margin="5,0,0,0"
                                                               VerticalAlignment="Center"
                                                               Style="{DynamicResource ButtonTextBlock}"
                                                               Text="Return All"
                                                               TextWrapping="NoWrap" />
                                                </StackPanel>
                                            </Button>
                                            <cpcDataGrid:DataGridControl x:Name="dtgrdReturn"
                                                                         Grid.Row="2"
                                                                         Margin="5,0,5,5"
                                                                         AutoGenerateColumns="False"
                                                                         CanUserDeleteRows="False"
                                                                         IsReadOnly="{Binding SelectedSaleOrder.IsLocked,
                                                                                              Mode=OneWay}"
                                                                         IsRollBackData="False"
                                                                         ItemsSource="{Binding SelectedSaleOrder.ReturnModel.ReturnDetailCollection,
                                                                                               Mode=OneWay}"
                                                                         SelectionMode="Single"
                                                                         SelectionUnit="FullRow"
                                                                         Style="{DynamicResource DatagridWithRowHeader}"
                                                                         VisibilityNavigationBar="Collapsed">
                                                <!--
                                                    <cpcDataGrid:DataGridControl.RowValidationRules>
                                                    <helper:RowDataInfoValidationRule ValidationStep="UpdatedValue" />
                                                    </cpcDataGrid:DataGridControl.RowValidationRules>
                                                -->
                                                <cpcDataGrid:DataGridControl.Columns>
                                                    <DataGridTemplateColumn Width="70" Header="Return Date">
                                                        <DataGridTemplateColumn.CellTemplate>
                                                            <DataTemplate>
                                                                <TextBlock HorizontalAlignment="Right" Text="{Binding ReturnedDate, Mode=OneWay, StringFormat={x:Static local:Define.DateFormat}}" />
                                                            </DataTemplate>
                                                        </DataGridTemplateColumn.CellTemplate>
                                                        <DataGridTemplateColumn.CellEditingTemplate>
                                                            <DataTemplate>
                                                                <DatePicker x:Name="dtpReturnedDate" SelectedDate="{Binding ReturnedDate, Converter={StaticResource NullToDefaultValueConverter}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />


                                                            </DataTemplate>
                                                        </DataGridTemplateColumn.CellEditingTemplate>
                                                    </DataGridTemplateColumn>
                                                    <DataGridTemplateColumn Width="100" Header="Item Code">
                                                        <DataGridTemplateColumn.CellTemplate>
                                                            <DataTemplate>
                                                                <TextBlock HorizontalAlignment="Right" Text="{Binding ItemCode, Mode=OneWay}" />
                                                            </DataTemplate>
                                                        </DataGridTemplateColumn.CellTemplate>
                                                        <DataGridTemplateColumn.CellEditingTemplate>
                                                            <DataTemplate>
                                                                <CPCToolkitExt_AutoCompleteControl:AutoCompleteTextBox x:Name="atCompleteTextBoxItemCode"
                                                                                                                       AutoChangeSelectedItem="False"
                                                                                                                       FieldShow="ItemName"
                                                                                                                       FieldSource="{Binding DataContext.SaleOrderShipDetailFieldCollection,
                                                                                                                                             RelativeSource={RelativeSource AncestorType={x:Type UserControl},
                                                                                                                                                                            Mode=FindAncestor}}"
                                                                                                                       FilterMode="Contains"
                                                                                                                       Foreground="Black"
                                                                                                                       IsTextCompletionEnabled="True"
                                                                                                                       ItemsSource="{Binding DataContext.SelectedSaleOrder.SaleOrderShippedCollection,
                                                                                                                                             RelativeSource={RelativeSource AncestorType={x:Type UserControl},
                                                                                                                                                                            Mode=FindAncestor}}"
                                                                                                                       SelectedItemResult="{Binding SaleOrderDetailModel,
                                                                                                                                                    Mode=TwoWay,
                                                                                                                                                    UpdateSourceTrigger=PropertyChanged}"
                                                                                                                       Style="{DynamicResource AutoCompleteInsideDataGridStyle}">
                                                                    <CPCToolkitExt_AutoCompleteControl:AutoCompleteTextBox.Columns>
                                                                        <GridViewColumn Width="120"
                                                                                        DisplayMemberBinding="{Binding ItemCode}"
                                                                                        Header="Code" />
                                                                        <GridViewColumn Width="130"
                                                                                        DisplayMemberBinding="{Binding ItemName}"
                                                                                        Header="ProductName" />
                                                                        <GridViewColumn Width="90"
                                                                                        DisplayMemberBinding="{Binding ItemAtribute}"
                                                                                        Header="Attribute" />
                                                                        <GridViewColumn Width="90"
                                                                                        DisplayMemberBinding="{Binding ItemSize}"
                                                                                        Header="Size" />
                                                                    </CPCToolkitExt_AutoCompleteControl:AutoCompleteTextBox.Columns>
                                                                </CPCToolkitExt_AutoCompleteControl:AutoCompleteTextBox>
                                                            </DataTemplate>
                                                        </DataGridTemplateColumn.CellEditingTemplate>
                                                    </DataGridTemplateColumn>
                                                    <DataGridTextColumn Width="*"
                                                                        Binding="{Binding ItemName,
                                                                                          Mode=OneWay}"
                                                                        Header="Item Name"
                                                                        IsReadOnly="True" />
                                                    <DataGridTextColumn Width="80"
                                                                        Binding="{Binding ItemAtribute,
                                                                                          Mode=OneWay}"
                                                                        Header="Attribute"
                                                                        IsReadOnly="True" />
                                                    <DataGridTextColumn Width="80"
                                                                        Binding="{Binding ItemSize,
                                                                                          Mode=OneWay}"
                                                                        Header="Size"
                                                                        IsReadOnly="True" />
                                                    <DataGridTextColumn Width="80"
                                                                        Binding="{Binding UnitName,
                                                                                          Mode=OneWay}"
                                                                        Header="UOM"
                                                                        IsReadOnly="True" />
                                                    <DataGridTextColumn Width="80"
                                                                        Binding="{Binding Price,
                                                                                          Mode=OneWay,
                                                        ConverterCulture={x:Static local:Define.ConverterCulture},
                                                                                          StringFormat={x:Static local:Define.CurrencyFormat}}"
                                                                        ElementStyle="{StaticResource NumberTextBlock}"
                                                                        Header="Price" />
                                                    <DataGridTemplateColumn Width="75" Header="Returned Qty">
                                                        <DataGridTemplateColumn.CellTemplate>
                                                            <DataTemplate>
                                                                <TextBlock HorizontalAlignment="Right" Text="{Binding ReturnQty, Mode=OneWay, StringFormat={x:Static local:Define.IntegerFormat}}" />
                                                            </DataTemplate>
                                                        </DataGridTemplateColumn.CellTemplate>
                                                        <DataGridTemplateColumn.CellEditingTemplate>
                                                            <DataTemplate>

                                                                <CPCToolkitExt_TextBoxControl:TextBoxNumeric x:Name="txtReturnQty"
                                                                                                             Style="{DynamicResource TextBoxNumericInsideDataGridStyle}"
                                                                                                             Value="{Binding ReturnQty,
                                                                                                                             Mode=TwoWay,
                                                                                                                             UpdateSourceTrigger=PropertyChanged}" />

                                                            </DataTemplate>
                                                        </DataGridTemplateColumn.CellEditingTemplate>
                                                    </DataGridTemplateColumn>
                                                    <DataGridTextColumn Width="80"
                                                                        Binding="{Binding Amount,
                                                                                          Mode=OneWay,
                                                        ConverterCulture={x:Static local:Define.ConverterCulture},
                                                                                          StringFormat={x:Static local:Define.CurrencyFormat}}"
                                                                        ElementStyle="{StaticResource NumberTextBlock}"
                                                                        Header="Amount" />
                                                    <DataGridTemplateColumn Width="75" Header="Returned">
                                                        <DataGridTemplateColumn.CellTemplate>
                                                            <DataTemplate>
                                                                <TextBlock Style="{StaticResource ReturnedTextBlockStyle}" Text="{Binding IsReturned, Mode=OneWay}" />
                                                            </DataTemplate>
                                                        </DataGridTemplateColumn.CellTemplate>
                                                        <DataGridTemplateColumn.CellEditingTemplate>
                                                            <DataTemplate>
                                                                <CheckBox x:Name="chkIsReturned"
                                                                          HorizontalAlignment="Center"
                                                                          IsChecked="{Binding IsReturned,
                                                                                              Mode=TwoWay,
                                                                                              UpdateSourceTrigger=PropertyChanged}"
                                                                          IsThreeState="False" />


                                                            </DataTemplate>
                                                        </DataGridTemplateColumn.CellEditingTemplate>
                                                    </DataGridTemplateColumn>
                                                </cpcDataGrid:DataGridControl.Columns>
                                            </cpcDataGrid:DataGridControl>
                                            <Grid x:Name="grdReturnSubTotal"
                                                  Grid.Row="3"
                                                  Margin="5,0"
                                                  VerticalAlignment="Top">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="100" />
                                                    <ColumnDefinition Width="125" />
                                                    <ColumnDefinition />
                                                    <ColumnDefinition Width="101" />
                                                    <ColumnDefinition Width="75" />
                                                    <ColumnDefinition Width="117" />
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="25" />
                                                    <RowDefinition Height="25" />
                                                    <RowDefinition Height="25" />
                                                    <RowDefinition Height="35" />
                                                </Grid.RowDefinitions>
                                                <TextBlock x:Name="txtblReturnSubTotal1"
                                                           Grid.Column="4"
                                                           Margin="10,0,0,0"
                                                           HorizontalAlignment="Left"
                                                           VerticalAlignment="Center"
                                                           Style="{DynamicResource TextBlockNormal}"
                                                           Text="Sub-Total:"
                                                           TextWrapping="NoWrap" />
                                                <!--  SubTotal  -->
                                                <TextBox x:Name="txtReturnSubTotal1"
                                                         Grid.RowSpan="1"
                                                         Grid.Column="5"
                                                         Margin="0,2"
                                                         HorizontalContentAlignment="Right"
                                                         IsReadOnly="True"
                                                         MaxLength="{StaticResource SubTotalMaxLength}"
                                                         Padding="2,0,2,0"
                                                         Text="{Binding SelectedSaleOrder.ReturnModel.SubTotal,
                                                                        Mode=TwoWay,
                                                                        StringFormat=\{0:c2\},
                                                                        UpdateSourceTrigger=PropertyChanged}"
                                                         TextWrapping="NoWrap" />
                                                <TextBlock x:Name="txtblReturnFee"
                                                           Grid.Row="1"
                                                           Grid.Column="4"
                                                           Margin="8,0,0,0"
                                                           HorizontalAlignment="Left"
                                                           VerticalAlignment="Center"
                                                           Style="{DynamicResource TextBlockNormal}"
                                                           Text="Return Fee:"
                                                           TextWrapping="NoWrap" />
                                                <CPCToolkitExt_TextBoxControl:TextBoxMoney x:Name="txtReturnReturnFee"
                                                                                           Grid.Row="1"
                                                                                           Grid.RowSpan="1"
                                                                                           Grid.Column="5"
                                                                                           Margin="0,2"
                                                                                           HorizontalContentAlignment="Right"
                                                                                           IsEnabled="{Binding IsIncludeReturnFee,
                                                                                                               Mode=OneWay}"
                                                                                           IsReadOnly="{Binding SelectedSaleOrder.IsLocked,
                                                                                                                Mode=OneWay}"
                                                                                           Padding="2,0,2,0"
                                                                                           TextWrapping="NoWrap"
                                                                                           Value="{Binding SelectedSaleOrder.ReturnModel.ReturnFee,
                                                                                                           Mode=TwoWay,
                                                                                                           UpdateSourceTrigger=PropertyChanged}" />
                                                <TextBox x:Name="txtReturnTax"
                                                         Grid.Row="2"
                                                         Grid.RowSpan="1"
                                                         Grid.Column="5"
                                                         Margin="0,2"
                                                         HorizontalContentAlignment="Right"
                                                         Padding="2,0,2,0"
                                                         Text="$10.00"
                                                         TextWrapping="NoWrap"
                                                         Visibility="Collapsed" />
                                                <TextBlock x:Name="txtblRefund"
                                                           Grid.Row="2"
                                                           Grid.Column="4"
                                                           Margin="8,0,0,0"
                                                           HorizontalAlignment="Left"
                                                           VerticalAlignment="Center"
                                                           Style="{DynamicResource TextBlockNormal}"
                                                           Text="Refunded:"
                                                           TextWrapping="NoWrap" />
                                                <CPCToolkitExt_TextBoxControl:TextBoxMoney x:Name="txtRefunded"
                                                                                           Grid.Row="2"
                                                                                           Grid.RowSpan="1"
                                                                                           Grid.Column="5"
                                                                                           Margin="0,2"
                                                                                           HorizontalContentAlignment="Right"
                                                                                           IsEnabled="{Binding SelectedSaleOrder.ReturnModel.RefundAccepted,
                                                                                                               Mode=OneWay}"
                                                                                           IsReadOnly="{Binding SelectedSaleOrder.IsLocked,
                                                                                                                Mode=OneWay}"
                                                                                           Padding="2,0,2,0"
                                                                                           TextWrapping="NoWrap"
                                                                                           Value="{Binding SelectedSaleOrder.ReturnModel.TotalRefund,
                                                                                                           Mode=TwoWay,
                                                                                                           UpdateSourceTrigger=PropertyChanged}" />
                                                <TextBlock x:Name="txtblReturnTotal"
                                                           Grid.Row="3"
                                                           Grid.Column="4"
                                                           Margin="8,0,0,0"
                                                           HorizontalAlignment="Left"
                                                           VerticalAlignment="Center"
                                                           Style="{DynamicResource TextBlockNormal}"
                                                           Text="Total:"
                                                           TextWrapping="NoWrap" />
                                                <!--  Total  -->
                                                <TextBox x:Name="txtReturnTotal"
                                                         Grid.Row="3"
                                                         Grid.Column="5"
                                                         Margin="0,2"
                                                         HorizontalContentAlignment="Right"
                                                         VerticalContentAlignment="Center"
                                                         IsReadOnly="True"
                                                         MaxLength="{StaticResource TotalMaxLength}"
                                                         Padding="2,0,2,0"
                                                         Style="{DynamicResource TextBoxTotal}"
                                                         Text="{Binding SelectedSaleOrder.ReturnModel.Balance,
                                                                        Mode=OneWay,
                                                                        StringFormat=\{0:c2\},
                                                                        UpdateSourceTrigger=PropertyChanged}"
                                                         TextWrapping="NoWrap" />
                                                <TextBlock x:Name="txtblReturnFee_Copy"
                                                           Grid.Row="1"
                                                           Grid.Column="2"
                                                           Margin="0,0,10,0"
                                                           HorizontalAlignment="Right"
                                                           VerticalAlignment="Center"
                                                           Style="{DynamicResource TextBlockNormal}"
                                                           Text="Return Fee:"
                                                           TextWrapping="NoWrap" />
                                                <CPCToolkitExt_TextBoxControl:TextBoxNumeric x:Name="txtReturnReturnFeePercent"
                                                                                             Grid.Row="1"
                                                                                             Grid.RowSpan="1"
                                                                                             Grid.Column="3"
                                                                                             Width="50"
                                                                                             Margin="0,2"
                                                                                             HorizontalAlignment="Left"
                                                                                             HorizontalContentAlignment="Right"
                                                                                             IsEnabled="{Binding IsIncludeReturnFee,
                                                                                                                 Mode=OneWay}"
                                                                                             IsReadOnly="{Binding SelectedSaleOrder.IsLocked,
                                                                                                                  Mode=OneWay}"
                                                                                             Padding="2,0,2,0"
                                                                                             TextWrapping="NoWrap"
                                                                                             Value="{Binding SelectedSaleOrder.ReturnModel.ReturnFeePercent,
                                                                                                             Mode=TwoWay,
                                                                                                             UpdateSourceTrigger=PropertyChanged}" />
                                                <TextBlock x:Name="txtblReturnFee_Copy1"
                                                           Grid.Row="1"
                                                           Grid.Column="2"
                                                           Margin="0,0,10,0"
                                                           HorizontalAlignment="Right"
                                                           VerticalAlignment="Center"
                                                           Style="{DynamicResource TextBlockNormal}"
                                                           Text="Return Fee:"
                                                           TextWrapping="NoWrap" />
                                                <TextBlock x:Name="txtblReturnFee_Copy2"
                                                           Grid.Row="1"
                                                           Grid.Column="3"
                                                           Margin="53,0,0,0"
                                                           HorizontalAlignment="Left"
                                                           VerticalAlignment="Center"
                                                           Style="{DynamicResource TextBlockNormal}"
                                                           Text="%"
                                                           TextWrapping="NoWrap" />
                                            </Grid>
                                        </Grid>
                                    </AdornerDecorator>
                                </CPCToolkitExt_OtherControl:CPCTabItemControl>
                            </CPCToolkitExt_OtherControl:CPCTabControl>
                        </Grid>
                    </Grid>
                </Grid>
            </Grid>
        </Grid>
    </xctk:BusyIndicator>
</UserControl>