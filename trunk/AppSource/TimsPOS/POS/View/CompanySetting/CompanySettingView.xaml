<UserControl xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:Microsoft_Windows_Controls_Ribbon="clr-namespace:Microsoft.Windows.Controls.Ribbon;assembly=RibbonControlsLibrary"
             xmlns:Microsoft_Windows_Themes="clr-namespace:Microsoft.Windows.Themes;assembly=PresentationFramework.Luna"
             xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
             xmlns:cpcDataGridToolkit="clr-namespace:CPCToolkitExt.DataGridControl;assembly=CPCToolkitExt"
             xmlns:cpcAddressToolkit="clr-namespace:CPCToolkitExt.AddressControl;assembly=CPCToolkitExt"
             xmlns:textBoxToolkit="clr-namespace:CPCToolkitExt.TextBoxControl;assembly=CPCToolkitExt"
             xmlns:xceedWpfToolkit="clr-namespace:Xceed.Wpf.Toolkit;assembly=WPFToolkit.Extended"
             xmlns:primitives="clr-namespace:Xceed.Wpf.Toolkit.Primitives;assembly=WPFToolkit.Extended"
             xmlns:cpcControl="clr-namespace:CPC.Control"
             xmlns:sys="clr-namespace:System;assembly=mscorlib"
             xmlns:behavior="clr-namespace:CPC.Toolkit.Behavior"
             xmlns:helper="clr-namespace:CPC.Helper"
             xmlns:model="clr-namespace:CPC.POS.Model"
             xmlns:cmd="clr-namespace:CPC.Toolkit.Command"
             xmlns:c="clr-namespace:CPC.Converter"
             x:Class="CPC.POS.View.CompanySettingView"
             Background="{DynamicResource UserControlBackground}"
             x:Name="UserControl"
             mc:Ignorable="d">

    <UserControl.Resources>

        <sys:Int32 x:Key="DefaultPaymentMethodValue">1
        </sys:Int32>

        <!--base_Configuration-->
        <sys:Int32 x:Key="CompanyNameMaxLength">200
        </sys:Int32>
        <sys:Int32 x:Key="AddressMaxLength">150
        </sys:Int32>
        <sys:Int32 x:Key="CityMaxLength">30
        </sys:Int32>
        <sys:Int32 x:Key="EmailMaxLength">30
        </sys:Int32>
        <sys:Int32 x:Key="WebsiteMaxLength">150
        </sys:Int32>
        <sys:Int32 x:Key="EmailPop3ServerMaxLength">30
        </sys:Int32>
        <sys:Int32 x:Key="EmailAccountMaxLength">30
        </sys:Int32>
        <sys:Int32 x:Key="EmailPasswordMaxLength">20
        </sys:Int32>

        <!--base_UOM-->
        <sys:Int32 x:Key="CodeUOMMaxLength">10
        </sys:Int32>
        <sys:Int32 x:Key="NameUOMMaxLength">30
        </sys:Int32>

        <!--base_Store-->
        <sys:Int32 x:Key="CodeStoreMaxLength">3
        </sys:Int32>
        <sys:Int32 x:Key="NameStoreMaxLength">30
        </sys:Int32>

        <!--Price Model-->
        <sys:Int32 x:Key="NamePriceMaxLength">200
        </sys:Int32>

        <!--Converters-->
        <c:ByteArrayToBitmapImageConverter x:Key="ByteArrayToBitmapImageConverter" />
        <c:BinaryTotalToBooleanConverter x:Key="BinaryTotalToBooleanConverter" />

        <!--HierarchicalDataTemplate-->
        <HierarchicalDataTemplate DataType="{x:Type model:ItemSettingModel}"
                                  ItemsSource="{Binding Childs, Mode=OneWay}">
            <TextBlock Text="{Binding Name, Mode=OneWay}" />
        </HierarchicalDataTemplate>

        <!--ItemSettingTreeviewItemStyle-->
        <Style x:Key="ItemSettingTreeviewItemStyle"
               TargetType="{x:Type TreeViewItem}">
            <Setter Property="Background"
                    Value="Transparent" />
            <Setter Property="HorizontalContentAlignment"
                    Value="Left" />
            <Setter Property="VerticalContentAlignment"
                    Value="Center" />
            <Setter Property="Padding"
                    Value="1,0,0,0" />
            <Setter Property="Foreground"
                    Value="White" />
            <Setter Property="FocusVisualStyle"
                    Value="{StaticResource TreeViewItemFocusVisual}" />
            <Setter Property="IsExpanded"
                    Value="{Binding IsExpanded, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
            <Setter Property="IsSelected"
                    Value="{Binding IsSelected, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TreeViewItem}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition MinWidth="19"
                                                  Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <ToggleButton x:Name="Expander"
                                          ClickMode="Press"
                                          IsChecked="{Binding IsExpanded, RelativeSource={RelativeSource TemplatedParent}}"
                                          Style="{StaticResource ExpandCollapseToggleStyle}"
                                          HorizontalAlignment="Left"
                                          Width="Auto"
                                          Height="Auto" />
                            <Border x:Name="Bd"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    Background="{TemplateBinding Background}"
                                    Grid.Column="1"
                                    Padding="{TemplateBinding Padding}"
                                    SnapsToDevicePixels="true">
                                <ContentPresenter x:Name="PART_Header"
                                                  ContentSource="Header"
                                                  HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                  SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                            </Border>
                            <ItemsPresenter x:Name="ItemsHost"
                                            Grid.ColumnSpan="2"
                                            Grid.Column="1"
                                            Grid.Row="1" />
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsExpanded"
                                     Value="false">
                                <Setter Property="Visibility"
                                        TargetName="ItemsHost"
                                        Value="Collapsed" />
                            </Trigger>
                            <Trigger Property="HasItems"
                                     Value="false">
                                <Setter Property="Visibility"
                                        TargetName="Expander"
                                        Value="Hidden" />
                            </Trigger>
                            <Trigger Property="IsSelected"
                                     Value="true">
                                <Setter Property="Background"
                                        TargetName="Bd"
                                        Value="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}" />
                                <Setter Property="Foreground"
                                        Value="{DynamicResource {x:Static SystemColors.HighlightTextBrushKey}}" />
                                <Setter Property="FontStyle"
                                        Value="Italic" />
                            </Trigger>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsSelected"
                                               Value="true" />
                                    <Condition Property="IsSelectionActive"
                                               Value="false" />
                                </MultiTrigger.Conditions>
                                <Setter Property="Background"
                                        TargetName="Bd"
                                        Value="{DynamicResource {x:Static SystemColors.ControlBrushKey}}" />
                                <Setter Property="Foreground"
                                        Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" />
                            </MultiTrigger>
                            <Trigger Property="IsEnabled"
                                     Value="false">
                                <Setter Property="Foreground"
                                        Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="VirtualizingStackPanel.IsVirtualizing"
                         Value="true">
                    <Setter Property="ItemsPanel">
                        <Setter.Value>
                            <ItemsPanelTemplate>
                                <VirtualizingStackPanel />
                            </ItemsPanelTemplate>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!--PaymentMethodNonVisualCheckListBoxItemStyle-->
        <Style x:Key="PaymentMethodNonVisualCheckListBoxItemStyle"
               TargetType="{x:Type primitives:SelectorItem}">
            <Setter Property="Background"
                    Value="{x:Null}" />
            <Setter Property="IsTabStop"
                    Value="False" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type primitives:SelectorItem}">
                        <Border>
                            <CheckBox Margin="0,0,0,10"
                                      Foreground="{TemplateBinding Foreground}"
                                      Content="{TemplateBinding Content}"
                                      ContentTemplateSelector="{TemplateBinding ContentTemplateSelector}">

                                <CheckBox.Style>
                                    <Style TargetType="{x:Type CheckBox}"
                                           BasedOn="{StaticResource {x:Type CheckBox}}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Content.IntValue, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type primitives:SelectorItem}}}"
                                                         Value="{StaticResource DefaultPaymentMethodValue}">
                                                <Setter Property="IsEnabled"
                                                        Value="False" />
                                            </DataTrigger>
                                            <Trigger Property="IsEnabled"
                                                     Value="True">
                                                <Setter Property="IsChecked"
                                                        Value="{Binding IsSelected, RelativeSource={RelativeSource TemplatedParent}}" />
                                            </Trigger>
                                            <Trigger Property="IsEnabled"
                                                     Value="False">
                                                <Setter Property="IsChecked"
                                                        Value="True" />
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </CheckBox.Style>

                            </CheckBox>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

    </UserControl.Resources>

    <Grid x:Name="GridLayout">

        <Rectangle x:Name="UserControl_Background_Image"
                   Fill="{DynamicResource UserControl_Background_Image}" />

        <!--Company setting-->
        <Grid x:Name="grdCompanySetting">

            <Grid.RowDefinitions>
                <RowDefinition Height="60" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <!--Cac button Save, Cancel-->
            <StackPanel VerticalAlignment="Bottom"
                        Height="Auto"
                        HorizontalAlignment="Left"
                        x:Name="stkpBtn"
                        Orientation="Horizontal"
                        Margin="20,0,0,5">
                <Button x:Name="btnSave"
                        Height="40"
                        Width="40"
                        Style="{DynamicResource ButtonSystem}"
                        Command="{Binding SaveCommand}">
                    <StackPanel HorizontalAlignment="Center"
                                x:Name="stkpBtnSave"
                                VerticalAlignment="Center"
                                Orientation="Horizontal">
                        <Rectangle x:Name="imgSave"
                                   Fill="{DynamicResource Save}"
                                   Height="30"
                                   Width="30" />
                        <TextBlock Margin="5,0,0,0"
                                   VerticalAlignment="Center"
                                   Text="Save"
                                   TextWrapping="NoWrap"
                                   x:Name="txtblSave"
                                   Visibility="Collapsed"
                                   Style="{DynamicResource ButtonSystemTextBlock}" />
                    </StackPanel>
                </Button>
                <Button x:Name="btnCancel"
                        Height="40"
                        Width="40"
                        Style="{DynamicResource ButtonSystem}"
                        Command="{Binding CancelCommand}">
                    <StackPanel HorizontalAlignment="Center"
                                x:Name="stkpBtnCancel"
                                VerticalAlignment="Center"
                                Orientation="Horizontal">
                        <Rectangle x:Name="imgCancel"
                                   Fill="{DynamicResource Cancel}"
                                   Height="30"
                                   Width="30" />
                        <TextBlock Margin="5,0,0,0"
                                   VerticalAlignment="Center"
                                   Text="Save"
                                   TextWrapping="NoWrap"
                                   x:Name="txtblCancel"
                                   Visibility="Collapsed"
                                   Style="{DynamicResource ButtonSystemTextBlock}" />
                    </StackPanel>
                </Button>
            </StackPanel>

            <Rectangle Fill="{DynamicResource Spilter_Line_Background}"
                       HorizontalAlignment="Stretch"
                       x:Name="Line"
                       VerticalAlignment="Top"
                       Height="1"
                       Grid.Row="1"
                       Margin="2,0,2,0" />

            <!--Company setting-->
            <Border x:Name="brdSubCompanySetting"
                    Margin="10"
                    Grid.Row="1"
                    BorderBrush="{DynamicResource TabControlBorder}"
                    BorderThickness="1"
                    Background="{DynamicResource TabControlBackground}">

                <Grid x:Name="grdSubCompany">

                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="199" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <!--TreeView-->
                    <TreeView x:Name="tvCompany"
                              Margin="10"
                              ItemContainerStyle="{StaticResource ItemSettingTreeviewItemStyle}"
                              ItemsSource="{Binding ItemSettings, Mode=OneWay}">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="SelectedItemChanged">
                                <cmd:EventToCommand Command="{Binding SelectedItemChangedCommand}"
                                                    CommandParameter="{Binding ElementName=tvCompany}" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </TreeView>

                    <Rectangle Fill="{DynamicResource Spilter_Line_Background}"
                               HorizontalAlignment="Right"
                               x:Name="LineSpliter"
                               Width="1" />

                    <!--Content config-->
                    <Grid x:Name="grdContentCompany"
                          Grid.Column="1">

                        <!--++++++++++++++++++++++++++++++++++++++++++++General++++++++++++++++++++++++++++++++++++++++++++++++-->

                        <!--General-->
                        <Grid x:Name="grdGeneral"
                              Visibility="{Binding GridGeneralVisibility, Mode=OneWay}"
                              d:IsHidden="True" />

                        <!--StoreInfo-->
                        <Grid x:Name="grdStoreInfo"
                              Visibility="{Binding GridStoreInfoVisibility, Mode=OneWay}"
                              d:IsHidden="True">


                            <GroupBox x:Name="gbCompanyInfo"
                                      Margin="10,10,0,10"
                                      Grid.Row="1"
                                      HorizontalAlignment="Left"
                                      Width="360">

                                <GroupBox.Header>

                                    <TextBlock x:Name="txtblCompanyInfo"
                                               Text="Store Information"
                                               TextWrapping="NoWrap"
                                               Style="{DynamicResource GroupboxTextBlock}" />

                                </GroupBox.Header>

                                <Grid x:Name="grdContentCompanyInfo"
                                      Margin="0,4,0,0">

                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="111" />
                                        <ColumnDefinition />
                                    </Grid.ColumnDefinitions>

                                    <Grid.RowDefinitions>

                                        <RowDefinition Height="25" />
                                        <RowDefinition Height="0" />
                                        <RowDefinition Height="25" />
                                        <RowDefinition Height="25" />
                                        <RowDefinition Height="25" />
                                        <RowDefinition Height="25" />
                                        <RowDefinition Height="24" />
                                        <RowDefinition Height="25" />
                                        <RowDefinition Height="25" />
                                        <RowDefinition Height="25" />
                                        <RowDefinition Height="25" />
                                        <RowDefinition Height="25" />
                                        <RowDefinition Height="25" />

                                    </Grid.RowDefinitions>

                                    <TextBlock x:Name="txtblCompany"
                                               Text="Company:"
                                               TextWrapping="NoWrap"
                                               Margin="10,0,0,0"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Left"
                                               Style="{DynamicResource TextBlockNormal}" />
                                    <textBoxToolkit:TextBox x:Name="txtCompany"
                                                            Grid.Column="1"
                                                            Margin="0,2,10,2"
                                                            TextWrapping="NoWrap"
                                                            MaxLength="{StaticResource CompanyNameMaxLength}"
                                                            Text="{Binding ConfigurationModel.CompanyName, Mode=TwoWay, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, ValidatesOnExceptions=True}" />
                                    <TextBlock x:Name="txtblStreet"
                                               Grid.Row="2"
                                               Text="Street:"
                                               TextWrapping="NoWrap"
                                               Margin="10,0,0,0"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Left"
                                               Style="{DynamicResource TextBlockNormal}" />
                                    <textBoxToolkit:TextBox x:Name="txtStreet"
                                                            Grid.Column="1"
                                                            Grid.Row="2"
                                                            Margin="0,2,10,2"
                                                            TextWrapping="NoWrap"
                                                            MaxLength="{StaticResource AddressMaxLength}"
                                                            Text="{Binding ConfigurationModel.Address, Mode=TwoWay, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, ValidatesOnExceptions=True}" />
                                    <TextBlock x:Name="txtblCountry"
                                               Grid.Row="3"
                                               Text="Country:"
                                               TextWrapping="NoWrap"
                                               Margin="10,0,0,0"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Left"
                                               Style="{DynamicResource TextBlockNormal}" />
                                    <ComboBox x:Name="cmbCountry"
                                              Grid.Row="3"
                                              Grid.Column="1"
                                              Margin="0,2,10,2"
                                              behavior:MoveFocusHelper.MoveFocus="True"
                                              ItemsSource="{x:Static helper:Common.Countries}"
                                              DisplayMemberPath="Text"
                                              SelectedValuePath="Value"
                                              SelectedValue="{Binding ConfigurationModel.CountryId, Mode=TwoWay, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, ValidatesOnExceptions=True}" />
                                    <TextBlock x:Name="txtblCity"
                                               Grid.Row="4"
                                               Text="City:"
                                               TextWrapping="NoWrap"
                                               Margin="10,0,0,0"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Left"
                                               Style="{DynamicResource TextBlockNormal}" />
                                    <textBoxToolkit:TextBox x:Name="txtCity"
                                                            Grid.Column="1"
                                                            Grid.Row="4"
                                                            Margin="0,2,10,2"
                                                            TextWrapping="NoWrap"
                                                            MaxLength="{StaticResource CityMaxLength}"
                                                            Text="{Binding ConfigurationModel.City, Mode=TwoWay, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, ValidatesOnExceptions=True}" />
                                    <TextBlock x:Name="txtblState"
                                               Grid.Row="5"
                                               Text="State:"
                                               TextWrapping="NoWrap"
                                               Margin="10,0,0,0"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Left"
                                               Style="{DynamicResource TextBlockNormal}" />
                                    <ComboBox x:Name="cmbState"
                                              Grid.Row="5"
                                              Grid.Column="1"
                                              Margin="0,2"
                                              Width="160"
                                              HorizontalAlignment="Left"
                                              behavior:MoveFocusHelper.MoveFocus="True"
                                              ItemsSource="{x:Static helper:Common.States}"
                                              DisplayMemberPath="Text"
                                              SelectedValuePath="Value"
                                              SelectedValue="{Binding ConfigurationModel.State, Mode=TwoWay, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, ValidatesOnExceptions=True}"
                                              IsEnabled="{Binding SelectedItem.HasState, ElementName=cmbCountry, Mode=OneWay}" />
                                    <TextBlock x:Name="txtblZipCity"
                                               Grid.Row="6"
                                               Text="Zip:"
                                               TextWrapping="NoWrap"
                                               Margin="10,0,0,0"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Left"
                                               Style="{DynamicResource TextBlockNormal}" />
                                    <xceedWpfToolkit:MaskedTextBox x:Name="txtZip"
                                                                   Grid.Column="1"
                                                                   Grid.Row="6"
                                                                   Margin="0,2"
                                                                   Width="160"
                                                                   HorizontalAlignment="Left"
                                                                   Style="{DynamicResource TextBoxZipStyle}"
                                                                   behavior:MoveFocusHelper.MoveFocus="True"
                                                                   Value="{Binding ConfigurationModel.ZipCode, Mode=TwoWay, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, ValidatesOnExceptions=True}"
                                                                   IsEnabled="{Binding SelectedItem.HasState, ElementName=cmbCountry, Mode=OneWay}" />
                                    <TextBlock x:Name="txtblPhoneNumber"
                                               Text="Phone Numbers"
                                               TextWrapping="NoWrap"
                                               FontWeight="Bold"
                                               HorizontalAlignment="Left"
                                               VerticalAlignment="Center"
                                               Grid.Row="7"
                                               Style="{DynamicResource TextBlockNormal}" />
                                    <Rectangle Fill="{DynamicResource GroupboxBorder}"
                                               HorizontalAlignment="Stretch"
                                               x:Name="LinePhoneNumber"
                                               VerticalAlignment="Center"
                                               Height="1"
                                               Grid.Row="7"
                                               Margin="107,0,0,0"
                                               Grid.ColumnSpan="2" />
                                    <TextBlock x:Name="txtblPhone"
                                               Text="Phone:"
                                               TextWrapping="NoWrap"
                                               HorizontalAlignment="Left"
                                               Margin="10,0,0,0"
                                               VerticalAlignment="Center"
                                               Grid.Row="8"
                                               Style="{DynamicResource TextBlockNormal}" />
                                    <xceedWpfToolkit:MaskedTextBox x:Name="txtPhone"
                                                                   Grid.Column="1"
                                                                   Grid.Row="8"
                                                                   Margin="0,2"
                                                                   Width="160"
                                                                   HorizontalAlignment="Left"
                                                                   Style="{DynamicResource TextBoxPhoneStyle}"
                                                                   behavior:MoveFocusHelper.MoveFocus="True"
                                                                   Value="{Binding ConfigurationModel.Phone, Mode=TwoWay, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, ValidatesOnExceptions=True}" />
                                    <TextBlock x:Name="txtblFax"
                                               Text="Fax:"
                                               TextWrapping="NoWrap"
                                               HorizontalAlignment="Left"
                                               VerticalAlignment="Center"
                                               Grid.Row="9"
                                               Margin="10,0,0,0"
                                               Style="{DynamicResource TextBlockNormal}" />
                                    <xceedWpfToolkit:MaskedTextBox x:Name="txtFax"
                                                                   Grid.Column="1"
                                                                   Grid.Row="9"
                                                                   Margin="0,2"
                                                                   Width="160"
                                                                   HorizontalAlignment="Left"
                                                                   Style="{DynamicResource TextBoxFaxStyle}"
                                                                   behavior:MoveFocusHelper.MoveFocus="True"
                                                                   Value="{Binding ConfigurationModel.Fax, Mode=TwoWay, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, ValidatesOnExceptions=True}" />
                                    <TextBlock x:Name="txtblInternet"
                                               Text="Internet"
                                               TextWrapping="NoWrap"
                                               FontWeight="Bold"
                                               HorizontalAlignment="Left"
                                               VerticalAlignment="Center"
                                               Grid.Row="10"
                                               Style="{DynamicResource TextBlockNormal}" />
                                    <Rectangle Fill="{DynamicResource GroupboxBorder}"
                                               HorizontalAlignment="Stretch"
                                               x:Name="LineInternet"
                                               VerticalAlignment="Center"
                                               Height="1"
                                               Grid.Row="10"
                                               Margin="60,0,0,0"
                                               Grid.ColumnSpan="2" />
                                    <TextBlock x:Name="txtblEmail"
                                               Text="Email:"
                                               TextWrapping="NoWrap"
                                               HorizontalAlignment="Left"
                                               VerticalAlignment="Center"
                                               Margin="10,0,0,0"
                                               Grid.Row="11"
                                               Style="{DynamicResource TextBlockNormal}" />
                                    <textBoxToolkit:TextBoxEmail x:Name="txtEmail"
                                                                 Grid.Column="1"
                                                                 Grid.Row="11"
                                                                 Margin="0,2,10,2"
                                                                 Padding="0,2"
                                                                 TextWrapping="NoWrap"
                                                                 MaxLength="{StaticResource EmailMaxLength}"
                                                                 Value="{Binding ConfigurationModel.Email, Mode=TwoWay, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, ValidatesOnExceptions=True}" />
                                    <TextBlock x:Name="txtblWebsite"
                                               Text="Website:"
                                               TextWrapping="NoWrap"
                                               Grid.Row="12"
                                               VerticalAlignment="Center"
                                               Margin="10,0,54.553,0"
                                               d:LayoutOverrides="Width"
                                               Style="{DynamicResource TextBlockNormal}" />
                                    <textBoxToolkit:TextBox x:Name="txtWebsite"
                                                            Grid.Column="1"
                                                            Grid.Row="12"
                                                            Margin="0,2,10,2"
                                                            TextWrapping="NoWrap"
                                                            MaxLength="{StaticResource WebsiteMaxLength}"
                                                            Text="{Binding ConfigurationModel.Website, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />

                                </Grid>

                            </GroupBox>

                            <Border x:Name="brdImage"
                                    Margin="384,20,0,0"
                                    VerticalAlignment="Top"
                                    BorderBrush="White"
                                    BorderThickness="1"
                                    Height="155"
                                    Width="155"
                                    HorizontalAlignment="Left">
                                <Image Source="{Binding ConfigurationModel.Logo, Mode=OneWay, Converter={StaticResource ByteArrayToBitmapImageConverter}}"
                                       Stretch="Fill" />
                            </Border>

                            <StackPanel x:Name="stkpImageCompany"
                                        Margin="384,177,0,0"
                                        VerticalAlignment="Top"
                                        Orientation="Horizontal"
                                        HorizontalAlignment="Left"
                                        Width="155">
                                <Button x:Name="btnBrowse"
                                        Height="24"
                                        Width="75"
                                        Command="{Binding ChangeLogoCommand}">
                                    <StackPanel HorizontalAlignment="Center"
                                                x:Name="stkpBtnBrowse"
                                                VerticalAlignment="Center"
                                                Orientation="Horizontal">
                                        <Rectangle x:Name="imgBrowse"
                                                   Fill="{DynamicResource Browse}"
                                                   Height="20"
                                                   Width="20" />
                                        <TextBlock Margin="5,0,0,0"
                                                   VerticalAlignment="Center"
                                                   Text="Browse"
                                                   TextWrapping="NoWrap"
                                                   x:Name="txtblBrowse"
                                                   Style="{DynamicResource ButtonTextBlock}" />
                                    </StackPanel>
                                </Button>
                                <Button x:Name="btnClear1"
                                        Height="24"
                                        Width="75"
                                        Margin="5,0,0,0"
                                        Command="{Binding ClearLogoCommand}">
                                    <StackPanel HorizontalAlignment="Center"
                                                x:Name="stkpBtnClear1"
                                                VerticalAlignment="Center"
                                                Orientation="Horizontal">
                                        <Rectangle x:Name="imgClear1"
                                                   Fill="{DynamicResource Clear}"
                                                   Height="20"
                                                   Width="20" />
                                        <TextBlock Margin="5,0,0,0"
                                                   x:Name="txtblClear1"
                                                   VerticalAlignment="Center"
                                                   Text="Clear"
                                                   TextWrapping="NoWrap"
                                                   Style="{DynamicResource ButtonTextBlock}" />
                                    </StackPanel>
                                </Button>
                            </StackPanel>

                        </Grid>

                        <!--++++++++++++++++++++++++++++++++++++++++++++General++++++++++++++++++++++++++++++++++++++++++++++++-->

                        <!--++++++++++++++++++++++++++++++++++++++++++++MutliStore+++++++++++++++++++++++++++++++++++++++++++++-->

                        <!--MutliStore-->
                        <Grid x:Name="grdMutliStore"
                              Visibility="{Binding GridMutliStoreVisibility, Mode=OneWay}"
                              d:IsHidden="True">

                        </Grid>

                        <!--StoreCode-->
                        <Grid x:Name="grdStoreCode"
                              Grid.RowSpan="2"
                              Margin="10"
                              Visibility="{Binding GridStoreCodeVisibility, Mode=OneWay}"
                              d:IsHidden="True">

                            <Grid.RowDefinitions>
                                <RowDefinition Height="60" />
                                <RowDefinition />
                            </Grid.RowDefinitions>

                            <GroupBox x:Name="gbNumberOfStore"
                                      Margin="0">
                                <GroupBox.Header>
                                    <TextBlock x:Name="txtblNumberOfStore"
                                               Text="Number of Store"
                                               TextWrapping="NoWrap"
                                               Style="{DynamicResource GroupboxTextBlock}" />
                                </GroupBox.Header>
                                <Grid x:Name="grdNumberOfStore"
                                      Margin="0,4,0,0"
                                      Height="25"
                                      VerticalAlignment="Top">
                                    <TextBlock x:Name="txtblSelectTheNumber"
                                               Text="Select the number of stores in your company:"
                                               TextWrapping="NoWrap"
                                               Margin="10,0,0,0"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Left"
                                               Style="{DynamicResource TextBlockNormal}" />
                                    <ComboBox x:Name="cmbSelectTheNumber"
                                              HorizontalAlignment="Left"
                                              Margin="245,2,0,2"
                                              Width="100"
                                              ItemsSource="{Binding NumberList, Mode=OneWay}"
                                              SelectedItem="{Binding SelectedNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                </Grid>
                            </GroupBox>

                            <cpcDataGridToolkit:DataGridControl x:Name="dtgrdNumberOfStore"
                                                                Grid.Row="1"
                                                                Margin="0,10,0,0"
                                                                VisibilityNavigationBar="Collapsed"
                                                                AutoGenerateColumns="False"
                                                                CanUserReorderColumns="False"
                                                                CanUserAddRows="False"
                                                                CanUserDeleteRows="False"
                                                                CanUserResizeRows="False"
                                                                SelectionMode="Single"
                                                                SelectionUnit="FullRow"
                                                                IsRemoveRow="False"
                                                                IsRollBackData="False"
                                                                IsSynchronizedWithCurrentItem="False"
                                                                Style="{DynamicResource DatagridWithRowHeader}"
                                                                ItemsSource="{Binding StoreCollection, Mode=OneWay}">

                                <cpcDataGridToolkit:DataGridControl.RowValidationRules>
                                    <helper:RowDataInfoValidationRule ValidationStep="UpdatedValue" />
                                </cpcDataGridToolkit:DataGridControl.RowValidationRules>

                                <cpcDataGridToolkit:DataGridControl.Columns>

                                    <DataGridTemplateColumn Header="Code"
                                                            SortMemberPath="Code"
                                                            Width="250">
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBlock Text="{Binding Code, Mode=OneWay}" />
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <textBoxToolkit:TextBoxNumber MaxLength="{StaticResource CodeStoreMaxLength}"
                                                                              Value="{Binding Code, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>
                                    </DataGridTemplateColumn>

                                    <DataGridTemplateColumn Header="Name"
                                                            SortMemberPath="Name"
                                                            Width="250">
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBlock Text="{Binding Name, Mode=OneWay}" />
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <TextBox MaxLength="{StaticResource NameStoreMaxLength}"
                                                         Text="{Binding Name, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>
                                    </DataGridTemplateColumn>

                                </cpcDataGridToolkit:DataGridControl.Columns>

                            </cpcDataGridToolkit:DataGridControl>

                        </Grid>

                        <!--++++++++++++++++++++++++++++++++++++++++++++MutliStore+++++++++++++++++++++++++++++++++++++++++++++-->

                        <!--++++++++++++++++++++++++++++++++++++++++++++Inventory++++++++++++++++++++++++++++++++++++++++++++++-->

                        <!--Inventory-->
                        <Grid x:Name="grdInventory"
                              Visibility="{Binding GridInventoryVisibility, Mode=OneWay}"
                              d:IsHidden="True">

                        </Grid>

                        <!--Unit Of Measure-->
                        <Grid x:Name="grdUnitOfMeasure"
                              Visibility="{Binding GridUnitOfMeasureVisibility, Mode=OneWay}"
                              d:IsHidden="True">

                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="140" />
                            </Grid.RowDefinitions>

                            <GroupBox x:Name="gbUnitOfMeasure"
                                      Margin="10,10,0,0"
                                      HorizontalAlignment="Left">

                                <GroupBox.Header>

                                    <TextBlock x:Name="txtblgbUnitOfMeasure"
                                               Text="Unit Of Measure"
                                               TextWrapping="NoWrap"
                                               Style="{DynamicResource GroupboxTextBlock}" />

                                </GroupBox.Header>

                                <Grid x:Name="grdContentUnitOfMeasure"
                                      d:LayoutOverrides="GridBox"
                                      Margin="0,4,0,0">

                                    <cpcDataGridToolkit:DataGridControl x:Name="dtgrdUnitOfMeasure"
                                                                        Margin="10"
                                                                        VisibilityNavigationBar="Collapsed"
                                                                        AutoGenerateColumns="False"
                                                                        CanUserReorderColumns="False"
                                                                        CanUserAddRows="True"
                                                                        CanUserDeleteRows="False"
                                                                        CanUserResizeRows="False"
                                                                        SelectionMode="Extended"
                                                                        SelectionUnit="FullRow"
                                                                        IsRemoveRow="False"
                                                                        IsRollBackData="False"
                                                                        IsSynchronizedWithCurrentItem="False"
                                                                        Style="{DynamicResource DatagridWithRowHeader}"
                                                                        ItemsSource="{Binding UOMCollection, Mode=OneWay}"
                                                                        DeleteCommandParameter="{Binding ElementName=dtgrdUnitOfMeasure}"
                                                                        DeleteItemCommand="{Binding DeleteUOMCommand}">

                                        <DataGrid.RowValidationRules>
                                            <helper:RowDataInfoValidationRule ValidationStep="UpdatedValue" />
                                        </DataGrid.RowValidationRules>

                                        <cpcDataGridToolkit:DataGridControl.Columns>

                                            <DataGridTemplateColumn Header="Code"
                                                                    SortMemberPath="Code"
                                                                    Width="250">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding Code, Mode=OneWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                                <DataGridTemplateColumn.CellEditingTemplate>
                                                    <DataTemplate>
                                                        <TextBox MaxLength="{StaticResource CodeUOMMaxLength}"
                                                                 Text="{Binding Code, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellEditingTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="Name"
                                                                    SortMemberPath="Name"
                                                                    Width="250">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding Name, Mode=OneWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                                <DataGridTemplateColumn.CellEditingTemplate>
                                                    <DataTemplate>
                                                        <TextBox MaxLength="{StaticResource NameUOMMaxLength}"
                                                                 Text="{Binding Name, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellEditingTemplate>
                                            </DataGridTemplateColumn>

                                        </cpcDataGridToolkit:DataGridControl.Columns>

                                    </cpcDataGridToolkit:DataGridControl>

                                </Grid>

                            </GroupBox>

                            <GroupBox x:Name="gbMultipleUnitsOfMeasure"
                                      Margin="10"
                                      Grid.Row="1">

                                <GroupBox.Header>
                                    <TextBlock x:Name="txtblMultipleUnitsOfMeasure"
                                               Text="Multiple Units Of Measure "
                                               TextWrapping="NoWrap"
                                               Style="{DynamicResource GroupboxTextBlock}" />
                                </GroupBox.Header>

                                <Grid x:Name="grdContentMultipleUnitsOfMeasure"
                                      d:LayoutOverrides="GridBox"
                                      Margin="0,4,0,0">

                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="25" />
                                        <RowDefinition Height="25" />
                                        <RowDefinition Height="25" />
                                        <RowDefinition Height="25" />
                                    </Grid.RowDefinitions>

                                    <CheckBox x:Name="cbAllowSetUp"
                                              Margin="10,0,0,0"
                                              HorizontalAlignment="Left"
                                              VerticalAlignment="Center"
                                              Content="Allow set up multiple UOM for inventory, non-inventory and se service items."
                                              IsChecked="{Binding ConfigurationModel.IsAllowMutilUOM, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                    <TextBlock VerticalAlignment="Center"
                                               Text="Examples of mutilple units of measure:"
                                               x:Name="txtblExamplesOfMutiple"
                                               TextWrapping="NoWrap"
                                               HorizontalAlignment="Left"
                                               Margin="32,0,0,0"
                                               Grid.Row="1"
                                               Style="{DynamicResource TextBlockNormal}" />
                                    <TextBlock VerticalAlignment="Center"
                                               Text="I order dog food in cases of 24 cans. I sell dog food by the individual can and by the case."
                                               x:Name="txtblIOrderDog"
                                               TextWrapping="NoWrap"
                                               HorizontalAlignment="Left"
                                               Margin="50,0,0,0"
                                               Grid.Row="2"
                                               Style="{DynamicResource TextBlockNormal}"
                                               FontFamily="/DemoPOS;component/Fonts/#Tahoma" />
                                    <TextBlock VerticalAlignment="Center"
                                               Text="I receive nails in 30 poun boxes and I sell nails in 1 and 5 pound boxes."
                                               x:Name="txtblIReceiveNailIn"
                                               TextWrapping="NoWrap"
                                               HorizontalAlignment="Left"
                                               Margin="50,0,0,0"
                                               Grid.Row="3"
                                               Style="{DynamicResource TextBlockNormal}" />

                                </Grid>

                            </GroupBox>

                        </Grid>

                        <!--++++++++++++++++++++++++++++++++++++++++++++Inventory++++++++++++++++++++++++++++++++++++++++++++++-->

                        <!--++++++++++++++++++++++++++++++++++++++++++++Pricing++++++++++++++++++++++++++++++++++++++++++++++++-->

                        <Grid x:Name="grdPricing"
                              Visibility="{Binding GridPricingVisibility, Mode=OneWay}"
                              d:IsHidden="True">

                            <Grid x:Name="grdContentPricing"
                                  Visibility="{Binding Visibility, ElementName=grdPricing, Mode=OneWay}">

                                <Grid.RowDefinitions>
                                    <RowDefinition Height="90" />
                                    <RowDefinition />
                                </Grid.RowDefinitions>

                                <GroupBox x:Name="gbDefaultPrice"
                                          Margin="10,10,10,0">
                                    <GroupBox.Header>
                                        <TextBlock x:Name="txtblDefaultPrice"
                                                   Text="Default Price"
                                                   TextWrapping="NoWrap"
                                                   FontWeight="Bold"
                                                   Style="{DynamicResource GroupboxTextBlock}" />
                                    </GroupBox.Header>
                                    <Grid x:Name="grdDefaultPrice">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="25" />
                                            <RowDefinition Height="25" />
                                        </Grid.RowDefinitions>
                                        <TextBlock x:Name="txtblPurchaseThreshold"
                                                   Text="Select the price level that should be used by default on new sales receipts and customer orders."
                                                   TextWrapping="NoWrap"
                                                   Margin="10,0,0,0"
                                                   VerticalAlignment="Center"
                                                   HorizontalAlignment="Left"
                                                   Style="{DynamicResource TextBlockNormal}" />
                                        <ComboBox x:Name="cmbRewardAmout"
                                                  Margin="10,2,0,2"
                                                  HorizontalAlignment="Left"
                                                  Width="150"
                                                  Grid.Row="1"
                                                  ItemsSource="{Binding PriceSchemaCollection, Mode=OneWay}"
                                                  DisplayMemberPath="Name"
                                                  SelectedValuePath="Id"
                                                  SelectedValue="{Binding ConfigurationModel.DefaultPriceSchema, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                    </Grid>
                                </GroupBox>
                                <GroupBox x:Name="gbPriceLevel"
                                          Margin="10"
                                          Grid.Row="1">
                                    <GroupBox.Header>
                                        <TextBlock x:Name="txtblPriceLevel"
                                                   Text="Reward Option"
                                                   TextWrapping="NoWrap"
                                                   FontWeight="Bold"
                                                   Style="{DynamicResource GroupboxTextBlock}" />
                                    </GroupBox.Header>
                                    <Grid Width="Auto"
                                          x:Name="grdPriceLevel"
                                          Margin="0,4,0,0">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="50" />
                                            <RowDefinition Height="35" />
                                            <RowDefinition Height="25" />
                                            <RowDefinition Height="25" />
                                            <RowDefinition Height="25" />
                                            <RowDefinition Height="25" />
                                            <RowDefinition Height="25" />
                                            <RowDefinition Height="25" />
                                        </Grid.RowDefinitions>
                                        <TextBlock Text="Enter a name and markdown % ( from your regulare price ) for each optional price level you would like to use. The markdowns entered are used to calculate each level's price for new items only."
                                                   TextWrapping="Wrap"
                                                   x:Name="txtblEnteraname"
                                                   HorizontalAlignment="Left"
                                                   VerticalAlignment="Center"
                                                   Margin="10,0,0,0"
                                                   Style="{DynamicResource TextBlockNormal}" />
                                        <TextBlock Text="Tip: To mark a price level up from your regular price, enter a negative markdown ( Example: -10 )"
                                                   TextWrapping="Wrap"
                                                   x:Name="txtbTipToMark"
                                                   HorizontalAlignment="Left"
                                                   VerticalAlignment="Center"
                                                   Margin="10,0,0,0"
                                                   Style="{DynamicResource TextBlockNormal}"
                                                   Grid.Row="1" />
                                        <TextBlock Text="Price Level Name:"
                                                   TextWrapping="Wrap"
                                                   x:Name="txtbPriceLevelName"
                                                   HorizontalAlignment="Left"
                                                   VerticalAlignment="Center"
                                                   Margin="10,0,0,0"
                                                   Style="{DynamicResource TextBlockNormal}"
                                                   Grid.Row="2"
                                                   FontWeight="Bold" />
                                        <textBoxToolkit:TextBox  x:Name="txtPrice1"
                                                                 TextWrapping="NoWrap"
                                                                 Margin="10,2,0,2"
                                                                 VerticalAlignment="Stretch"
                                                                 Width="200"
                                                                 HorizontalAlignment="Left"
                                                                 Grid.Row="3"
                                                                 MaxLength="{StaticResource NamePriceMaxLength}"
                                                                 Text="{Binding PriceCollection[0].Name, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                        <textBoxToolkit:TextBox  x:Name="txtPrice2"
                                                                 TextWrapping="NoWrap"
                                                                 Margin="10,2,0,2"
                                                                 VerticalAlignment="Stretch"
                                                                 Width="200"
                                                                 HorizontalAlignment="Left"
                                                                 Grid.Row="4"
                                                                 MaxLength="{StaticResource NamePriceMaxLength}"
                                                                 Text="{Binding PriceCollection[1].Name, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                        <textBoxToolkit:TextBox  x:Name="txtPrice3"
                                                                 TextWrapping="NoWrap"
                                                                 Margin="10,2,0,2"
                                                                 VerticalAlignment="Stretch"
                                                                 Width="200"
                                                                 HorizontalAlignment="Left"
                                                                 Grid.Row="5"
                                                                 MaxLength="{StaticResource NamePriceMaxLength}"
                                                                 Text="{Binding PriceCollection[2].Name, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                        <textBoxToolkit:TextBox x:Name="txtPrice4"
                                                                TextWrapping="NoWrap"
                                                                Margin="10,2,0,2"
                                                                VerticalAlignment="Stretch"
                                                                Width="200"
                                                                HorizontalAlignment="Left"
                                                                Grid.Row="6"
                                                                MaxLength="{StaticResource NamePriceMaxLength}"
                                                                Text="{Binding PriceCollection[3].Name, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                        <TextBlock Text="Markdown % ( for new items )"
                                                   TextWrapping="Wrap"
                                                   x:Name="txtbMarkdown"
                                                   HorizontalAlignment="Left"
                                                   VerticalAlignment="Center"
                                                   Margin="220,0,0,0"
                                                   Style="{DynamicResource TextBlockNormal}"
                                                   Grid.Row="2"
                                                   FontWeight="Bold" />
                                        <textBoxToolkit:TextBoxNumeric TextWrapping="NoWrap"
                                                                       Margin="220,2,0,2"
                                                                       VerticalAlignment="Stretch"
                                                                       Width="150"
                                                                       HorizontalAlignment="Left"
                                                                       Grid.Row="3"
                                                                       IntegerLength="2"
                                                                       DecimalPlaces="2"
                                                                       IsNegativeNumber="True"
                                                                       Value="{Binding PriceCollection[0].MarkDown, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                        <textBoxToolkit:TextBoxNumeric TextWrapping="NoWrap"
                                                                       Margin="220,2,0,2"
                                                                       VerticalAlignment="Stretch"
                                                                       Width="150"
                                                                       HorizontalAlignment="Left"
                                                                       Grid.Row="4"
                                                                       IntegerLength="2"
                                                                       DecimalPlaces="2"
                                                                       IsNegativeNumber="True"
                                                                       Value="{Binding PriceCollection[1].MarkDown, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                        <textBoxToolkit:TextBoxNumeric TextWrapping="NoWrap"
                                                                       Margin="220,2,0,2"
                                                                       VerticalAlignment="Stretch"
                                                                       Width="150"
                                                                       HorizontalAlignment="Left"
                                                                       Grid.Row="5"
                                                                       IntegerLength="2"
                                                                       DecimalPlaces="2"
                                                                       IsNegativeNumber="True"
                                                                       Value="{Binding PriceCollection[2].MarkDown, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                        <textBoxToolkit:TextBoxNumeric TextWrapping="NoWrap"
                                                                       Margin="220,2,0,2"
                                                                       VerticalAlignment="Stretch"
                                                                       Width="150"
                                                                       HorizontalAlignment="Left"
                                                                       Grid.Row="6"
                                                                       IntegerLength="2"
                                                                       DecimalPlaces="2"
                                                                       IsNegativeNumber="True"
                                                                       Value="{Binding PriceCollection[3].MarkDown, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                    </Grid>
                                </GroupBox>

                            </Grid>

                        </Grid>

                        <!--++++++++++++++++++++++++++++++++++++++++++++Pricing+++++++++++++++++++++++++++++++++++++++++++++-->

                        <!--++++++++++++++++++++++++++++++++++++++++++++Sales++++++++++++++++++++++++++++++++++++++++++++++++-->

                        <!--Sales-->
                        <Grid x:Name="grdSales"
                              Visibility="{Binding GridSalesVisibility, Mode=OneWay}">

                            <TabControl x:Name="TabSales"
                                        Margin="10">

                                <TabItem x:Name="tabitemReceive"
                                         Header="Receive">
                                    <Grid x:Name="grdReceive">

                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="185" />
                                            <RowDefinition Height="135" />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>

                                        <GroupBox x:Name="gbPaymentMethods"
                                                  Margin="10,10,10,0">
                                            <GroupBox.Header>
                                                <TextBlock x:Name="txtblPaymentMethods"
                                                           Text="Payment Methods"
                                                           TextWrapping="NoWrap"
                                                           FontWeight="Bold"
                                                           Style="{DynamicResource GroupboxTextBlock}" />
                                            </GroupBox.Header>
                                            <Grid x:Name="grdPaymentMethods">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="25" />
                                                    <RowDefinition Height="*" />
                                                    <RowDefinition Height="25" />
                                                </Grid.RowDefinitions>
                                                <TextBlock x:Name="txtblSelectthepayment"
                                                           Text="Select the payment methods you accept."
                                                           TextWrapping="NoWrap"
                                                           Margin="10,0,0,0"
                                                           VerticalAlignment="Center"
                                                           HorizontalAlignment="Left"
                                                           Style="{DynamicResource TextBlockNormal}" />

                                                <xceedWpfToolkit:CheckListBox Grid.Row="1"
                                                                              Width="500"
                                                                              Margin="10,0,0,0"
                                                                              HorizontalAlignment="Left"
                                                                              VerticalAlignment="Center"
                                                                              Style="{DynamicResource NonVisualCheckListBoxStyle}"
                                                                              ItemContainerStyle="{StaticResource PaymentMethodNonVisualCheckListBoxItemStyle}"
                                                                              ItemsSource="{x:Static helper:Common.PaymentMethods}"
                                                                              DisplayMemberPath="Text"
                                                                              ValueMemberPath="Value"
                                                                              SelectedValue="{Binding ConfigurationModel.AcceptedPaymentMethod, ConverterParameter={x:Static helper:Common.PaymentMethods}, Converter={StaticResource BinaryTotalToBooleanConverter}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                                    <i:Interaction.Triggers>
                                                        <i:EventTrigger EventName="ItemSelectionChanged">
                                                            <cmd:EventToCommand PassEventArgsToCommand="True"
                                                                                Command="{Binding ItemSelectionChangedCommand}" />
                                                        </i:EventTrigger>
                                                    </i:Interaction.Triggers>
                                                </xceedWpfToolkit:CheckListBox>

                                                <TextBlock x:Name="txtblUse"
                                                           Text="Use"
                                                           TextWrapping="NoWrap"
                                                           Margin="10,0,0,0"
                                                           VerticalAlignment="Center"
                                                           HorizontalAlignment="Left"
                                                           Style="{DynamicResource TextBlockNormal}"
                                                           Grid.Row="2" />
                                                <ComboBox Margin="40,2,0,2"
                                                          x:Name="cmbUse"
                                                          HorizontalAlignment="Left"
                                                          Width="120"
                                                          Grid.Row="2"
                                                          ItemsSource="{Binding PaymentMethodCollection, Mode=OneWay}"
                                                          DisplayMemberPath="Text"
                                                          SelectedValuePath="Value"
                                                          SelectedValue="{Binding ConfigurationModel.DefaultPaymentMethod, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                                <TextBlock x:Name="txtblAsTheDefault"
                                                           Text="as the default payment method for the new receipts"
                                                           TextWrapping="NoWrap"
                                                           Margin="181,0,0,0"
                                                           VerticalAlignment="Center"
                                                           HorizontalAlignment="Left"
                                                           Style="{DynamicResource TextBlockNormal}"
                                                           Grid.Row="2" />
                                            </Grid>
                                        </GroupBox>
                                        <GroupBox x:Name="gbCardType"
                                                  Margin="10,10,10,0"
                                                  Grid.Row="1"
                                                  Width="310"
                                                  HorizontalAlignment="Left">
                                            <GroupBox.Header>
                                                <TextBlock x:Name="txtblCardType"
                                                           Text="Card Type"
                                                           TextWrapping="NoWrap"
                                                           FontWeight="Bold"
                                                           Style="{DynamicResource GroupboxTextBlock}" />
                                            </GroupBox.Header>
                                            <Grid Width="Auto"
                                                  x:Name="grdCardType"
                                                  Margin="0,4,0,0">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="25" />
                                                    <RowDefinition Height="*" />
                                                </Grid.RowDefinitions>
                                                <TextBlock Text="Select the credit cards you accept"
                                                           TextWrapping="Wrap"
                                                           x:Name="txtblSelectTheCreditCard"
                                                           HorizontalAlignment="Left"
                                                           VerticalAlignment="Center"
                                                           Margin="10,0,0,0"
                                                           Style="{DynamicResource TextBlockNormal}" />
                                                <xceedWpfToolkit:CheckListBox Grid.Row="1"
                                                                              Width="500"
                                                                              Margin="10,0,0,0"
                                                                              HorizontalAlignment="Left"
                                                                              VerticalAlignment="Top"
                                                                              Style="{DynamicResource NonVisualCheckListBoxStyle}"
                                                                              ItemsSource="{x:Static helper:Common.PaymentCardTypes}"
                                                                              DisplayMemberPath="Text"
                                                                              ValueMemberPath="Value"
                                                                              SelectedValue="{Binding ConfigurationModel.AcceptedCardType, ConverterParameter={x:Static helper:Common.PaymentCardTypes}, Converter={StaticResource BinaryTotalToBooleanConverter}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                            </Grid>
                                        </GroupBox>
                                        <GroupBox x:Name="gbCardType1"
                                                  Margin="333,10,10,0"
                                                  Grid.Row="1">
                                            <GroupBox.Header>
                                                <TextBlock x:Name="txtblCardType1"
                                                           Text="Card Type"
                                                           TextWrapping="NoWrap"
                                                           FontWeight="Bold"
                                                           Style="{DynamicResource GroupboxTextBlock}" />
                                            </GroupBox.Header>
                                            <Grid Width="Auto"
                                                  x:Name="grdGiftCardType"
                                                  Margin="0,4,0,0">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="25" />
                                                    <RowDefinition Height="*" />
                                                </Grid.RowDefinitions>
                                                <TextBlock Text="Select the gift cards you accept"
                                                           TextWrapping="Wrap"
                                                           x:Name="txtblSelectTheCreditCard1"
                                                           HorizontalAlignment="Left"
                                                           VerticalAlignment="Center"
                                                           Margin="10,0,0,0"
                                                           Style="{DynamicResource TextBlockNormal}" />
                                                <xceedWpfToolkit:CheckListBox Grid.Row="1"
                                                                              Width="200"
                                                                              Margin="10,0,0,0"
                                                                              HorizontalAlignment="Left"
                                                                              VerticalAlignment="Top"
                                                                              Style="{DynamicResource NonVisualCheckListBoxStyle}"
                                                                              ItemsSource="{x:Static helper:Common.GiftCardTypes}"
                                                                              DisplayMemberPath="Text"
                                                                              ValueMemberPath="Value"
                                                                              SelectedValue="{Binding ConfigurationModel.AcceptedGiftCardMethod, ConverterParameter={x:Static helper:Common.GiftCardTypes}, Converter={StaticResource BinaryTotalToBooleanConverter}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                            </Grid>
                                        </GroupBox>
                                        <GroupBox x:Name="gbTips"
                                                  Margin="10"
                                                  Grid.Row="2">
                                            <GroupBox.Header>
                                                <TextBlock x:Name="txtblTips"
                                                           Text="Tips"
                                                           TextWrapping="NoWrap"
                                                           Style="{DynamicResource GroupboxTextBlock}" />
                                            </GroupBox.Header>
                                            <Grid Width="Auto"
                                                  x:Name="grdTips"
                                                  Margin="0,4,0,0"
                                                  VerticalAlignment="Top"
                                                  Height="25">
                                                <StackPanel Margin="10,0,0,0"
                                                            Orientation="Horizontal"
                                                            d:LayoutOverrides="Height"
                                                            HorizontalAlignment="Left"
                                                            VerticalAlignment="Center">
                                                    <CheckBox x:Name="cbCollectCustomerTips"
                                                              Content="Collect customer tips on credit, account, and gift card transactions"
                                                              HorizontalAlignment="Left"
                                                              VerticalAlignment="Center"
                                                              IsChecked="{Binding ConfigurationModel.IsAllowCollectTipCreditCard, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                                    <textBoxToolkit:TextBoxPercent x:Name="txtPercent"
                                                                                   TextWrapping="NoWrap"
                                                                                   Width="50"
                                                                                   Height="21"
                                                                                   Margin="10,0,0,0"
                                                                                   HorizontalContentAlignment="Right"
                                                                                   TextLength="2"
                                                                                   IsEnabled="{Binding IsChecked, ElementName=cbCollectCustomerTips, Mode=OneWay}"
                                                                                   Value="{Binding ConfigurationModel.TipPercent, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                                    <TextBlock x:Name="txtblPercent"
                                                               Text="%"
                                                               TextWrapping="NoWrap"
                                                               VerticalAlignment="Center"
                                                               HorizontalAlignment="Left"
                                                               Style="{DynamicResource TextBlockNormal}"
                                                               Margin="10,0,0,0" />
                                                </StackPanel>
                                            </Grid>
                                        </GroupBox>

                                    </Grid>
                                </TabItem>

                                <TabItem x:Name="tabitemDiscount"
                                         Header="Discount">
                                    <Grid x:Name="grdDiscount">

                                        <GroupBox x:Name="gbDiscount"
                                                  Margin="10"
                                                  VerticalAlignment="Top">
                                            <GroupBox.Header>
                                                <TextBlock x:Name="txtblDiscount"
                                                           Text="Discount"
                                                           TextWrapping="NoWrap"
                                                           Style="{DynamicResource GroupboxTextBlock}" />
                                            </GroupBox.Header>

                                            <Grid x:Name="grdtiDiscount">

                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="35" />
                                                    <RowDefinition Height="25" />
                                                    <RowDefinition Height="0" />
                                                    <RowDefinition Height="0" />
                                                    <RowDefinition Height="0" />
                                                    <RowDefinition Height="0" />
                                                </Grid.RowDefinitions>

                                                <TextBlock x:Name="txtblWhen"
                                                           Text="When manally changing discount status from deactive to active, you can associate a discount reason."
                                                           TextWrapping="Wrap"
                                                           Margin="10,0,0,0"
                                                           VerticalAlignment="Center"
                                                           HorizontalAlignment="Left"
                                                           Style="{DynamicResource TextBlockNormal}" />
                                                <CheckBox x:Name="cbCash1"
                                                          Content="Require a discount reason for manal discounts"
                                                          HorizontalAlignment="Left"
                                                          d:LayoutOverrides="Height"
                                                          VerticalAlignment="Center"
                                                          Grid.Row="1"
                                                          Margin="10,0,0,0"
                                                          IsChecked="{Binding ConfigurationModel.IsRequireDiscountReason, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                            </Grid>

                                        </GroupBox>

                                    </Grid>
                                </TabItem>

                            </TabControl>

                        </Grid>

                        <!--++++++++++++++++++++++++++++++++++++++++++++Sales++++++++++++++++++++++++++++++++++++++++++++++++-->

                        <!--++++++++++++++++++++++++++++++++++++++++++++Email++++++++++++++++++++++++++++++++++++++++++++++++-->

                        <Grid x:Name="grdEmailSetup"
                              Visibility="{Binding GridEmailSetupVisibility, Mode=OneWay}"
                              d:IsHidden="True">

                            <Grid x:Name="grdOutGoingEMailSetup"
                                  Margin="10"
                                  Visibility="{Binding Visibility, ElementName=grdEmailSetup, Mode=OneWay}">

                                <GroupBox x:Name="gbOutGoingMailSetup">

                                    <GroupBox.Header>

                                        <TextBlock x:Name="txtblOutgoingEmailSetup"
                                                   Text="Outgoing Email Setup"
                                                   TextWrapping="NoWrap"
                                                   Style="{DynamicResource GroupboxTextBlock}" />

                                    </GroupBox.Header>

                                    <Grid x:Name="grdContentOutGoingMailSetup"
                                          d:LayoutOverrides="GridBox"
                                          Margin="0,4,0,0">

                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="48" />
                                            <RowDefinition Height="10" />
                                            <RowDefinition Height="137.1" />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>

                                        <TextBlock x:Name="txtblConnect"
                                                   Text="Connect to e-mail account at your Internet service provide ( ISP) or your organization mail server."
                                                   TextWrapping="Wrap"
                                                   HorizontalAlignment="Left"
                                                   Margin="10,0,0,0"
                                                   VerticalAlignment="Center"
                                                   Style="{DynamicResource TextBlockNormal}" />
                                        <Rectangle Fill="{DynamicResource GroupboxBorder}"
                                                   HorizontalAlignment="Stretch"
                                                   x:Name="LineEmail"
                                                   VerticalAlignment="Center"
                                                   Height="1"
                                                   Grid.Row="1" />

                                        <GroupBox x:Name="gbISPServerPort"
                                                  Grid.Row="2"
                                                  Margin="10,10,10,0">

                                            <GroupBox.Header>
                                                <TextBlock x:Name="txtblISPServerPort"
                                                           Text="ISP Server &amp; Port"
                                                           TextWrapping="NoWrap"
                                                           Style="{DynamicResource GroupboxTextBlock}" />
                                            </GroupBox.Header>

                                            <Grid x:Name="grdContentISPServerPort"
                                                  d:LayoutOverrides="GridBox"
                                                  Margin="0,4,0,0">

                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="25" />
                                                    <RowDefinition Height="25" />
                                                    <RowDefinition Height="25" />
                                                    <RowDefinition Height="25" />
                                                </Grid.RowDefinitions>

                                                <TextBlock x:Name="txtblPOP3Server"
                                                           Text="POP3 Server:"
                                                           TextWrapping="NoWrap"
                                                           HorizontalAlignment="Left"
                                                           VerticalAlignment="Center"
                                                           Margin="10,0,0,0"
                                                           Style="{DynamicResource TextBlockNormal}" />
                                                <textBoxToolkit:TextBox x:Name="txtPOP3Server"
                                                                        TextWrapping="NoWrap"
                                                                        Margin="120,2,0,2"
                                                                        Padding="2,0,2,0"
                                                                        HorizontalAlignment="Left"
                                                                        Width="200"
                                                                        MaxLength="{StaticResource EmailPop3ServerMaxLength}"
                                                                        Text="{Binding ConfigurationModel.EmailPop3Server, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                                <TextBlock x:Name="txtblExampleEmailAddress"
                                                           Text="Examle: Mail.mailserver.com"
                                                           TextWrapping="NoWrap"
                                                           HorizontalAlignment="Left"
                                                           Grid.Row="1"
                                                           VerticalAlignment="Center"
                                                           Margin="120,0,0,0"
                                                           Style="{DynamicResource TextBlockNormal}" />
                                                <TextBlock x:Name="txtblPOP3Port"
                                                           Text="POP3 Port:"
                                                           TextWrapping="NoWrap"
                                                           HorizontalAlignment="Left"
                                                           Grid.Row="2"
                                                           VerticalAlignment="Center"
                                                           Margin="10,0,0,0"
                                                           Style="{DynamicResource TextBlockNormal}" />
                                                <textBoxToolkit:TextBoxNumber x:Name="txtPOP3Port"
                                                                              TextWrapping="NoWrap"
                                                                              Margin="120,2,0,2"
                                                                              Grid.Row="2"
                                                                              Padding="2,0,2,0"
                                                                              HorizontalAlignment="Left"
                                                                              HorizontalContentAlignment="Right"
                                                                              Width="70"
                                                                              Value="{Binding ConfigurationModel.EmailPop3Port, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                                <TextBlock x:Name="txtblPortNo"
                                                           Text="Port No. provide by ISP Service Provider."
                                                           TextWrapping="NoWrap"
                                                           HorizontalAlignment="Left"
                                                           Grid.Row="3"
                                                           VerticalAlignment="Center"
                                                           Margin="120,0,0,0"
                                                           Style="{DynamicResource TextBlockNormal}" />
                                            </Grid>

                                        </GroupBox>

                                        <GroupBox x:Name="gbEmailPassword"
                                                  Grid.Row="4"
                                                  Margin="10,10,10,0"
                                                  VerticalAlignment="Top"
                                                  Height="155">

                                            <GroupBox.Header>
                                                <TextBlock x:Name="txtblEmailPassword"
                                                           Text="Email &amp; Password"
                                                           TextWrapping="NoWrap"
                                                           Style="{DynamicResource GroupboxTextBlock}" />
                                            </GroupBox.Header>

                                            <Grid x:Name="grdContentEmailPassword"
                                                  d:LayoutOverrides="GridBox"
                                                  Margin="0,4,0,0">

                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="25" />
                                                    <RowDefinition Height="25" />
                                                    <RowDefinition Height="25" />
                                                    <RowDefinition Height="25" />
                                                    <RowDefinition Height="25" />
                                                </Grid.RowDefinitions>

                                                <TextBlock x:Name="txtblEmailPasswordEmail"
                                                           Text="Email:"
                                                           TextWrapping="NoWrap"
                                                           HorizontalAlignment="Left"
                                                           VerticalAlignment="Center"
                                                           Margin="10,0,0,0"
                                                           Style="{DynamicResource TextBlockNormal}" />
                                                <textBoxToolkit:TextBoxEmail x:Name="txtEmailPasswordEmail"
                                                                             TextWrapping="NoWrap"
                                                                             Margin="120,2,0,2"
                                                                             Padding="2,0,2,0"
                                                                             HorizontalAlignment="Left"
                                                                             Width="200"
                                                                             MaxLength="{StaticResource EmailAccountMaxLength}"
                                                                             Value="{Binding ConfigurationModel.EmailAccount, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True}" />
                                                <TextBlock x:Name="txtblEmailPasswordExampleEmail"
                                                           Text="Example: Barbara@gmail.com"
                                                           TextWrapping="NoWrap"
                                                           HorizontalAlignment="Left"
                                                           Grid.Row="1"
                                                           VerticalAlignment="Center"
                                                           Margin="120,0,0,0"
                                                           Style="{DynamicResource TextBlockNormal}" />
                                                <TextBlock x:Name="txtblPassword"
                                                           Text="Password:"
                                                           TextWrapping="NoWrap"
                                                           HorizontalAlignment="Left"
                                                           Grid.Row="2"
                                                           VerticalAlignment="Center"
                                                           Margin="10,0,0,0"
                                                           Style="{DynamicResource TextBlockNormal}" />
                                                <PasswordBox x:Name="psPassword"
                                                             Grid.Row="2"
                                                             Margin="120,2,0,2"
                                                             Width="200"
                                                             HorizontalAlignment="Left"
                                                             MaxLength="{StaticResource EmailPasswordMaxLength}"
                                                             helper:PasswordHelper.BindPassword="True"
                                                             helper:PasswordHelper.BoundPassword="{Binding ConfigurationModel.EmailPassword, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True}" />
                                                <TextBlock x:Name="txtblRetypePassword"
                                                           Text="Retype Password:"
                                                           TextWrapping="NoWrap"
                                                           HorizontalAlignment="Left"
                                                           Grid.Row="3"
                                                           VerticalAlignment="Center"
                                                           Margin="10,0,0,0"
                                                           Style="{DynamicResource TextBlockNormal}" />
                                                <PasswordBox x:Name="psRetypePassword"
                                                             HorizontalAlignment="Left"
                                                             Margin="120,2,0,2"
                                                             Width="200"
                                                             Grid.Row="3"
                                                             MaxLength="{StaticResource EmailPasswordMaxLength}"
                                                             helper:PasswordHelper.BindPassword="True"
                                                             helper:PasswordHelper.BoundPassword="{Binding ConfigurationModel.RetypeEmailPassword, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, ValidatesOnExceptions=True, NotifyOnValidationError=True}" />
                                                <TextBlock x:Name="txtblType"
                                                           Text="Type the Password your Internet service provider has given you."
                                                           TextWrapping="NoWrap"
                                                           HorizontalAlignment="Left"
                                                           Grid.Row="4"
                                                           VerticalAlignment="Center"
                                                           Margin="10,0,0,0"
                                                           Style="{DynamicResource TextBlockNormal}" />

                                            </Grid>

                                        </GroupBox>

                                    </Grid>

                                </GroupBox>

                            </Grid>

                        </Grid>

                        <!--++++++++++++++++++++++++++++++++++++++++++++Email++++++++++++++++++++++++++++++++++++++++++++++++-->

                    </Grid>

                </Grid>

            </Border>

        </Grid>

    </Grid>

</UserControl>
	