<UserControl x:Class="CPC.POS.View.ProductManualView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:behavior="clr-namespace:CPC.Toolkit.Behavior"
             xmlns:comboBoxControl="clr-namespace:CPCToolkitExt.ComboBoxControl;assembly=CPCToolkitExt"
             xmlns:control="clr-namespace:Xceed.Wpf.Toolkit;assembly=WPFToolkit.Extended"
             xmlns:converter="clr-namespace:CPC.Converter"
             xmlns:cpcAutoComplete="clr-namespace:CPCToolkitExt.AutoCompleteControl;assembly=CPCToolkitExt"
             xmlns:cpcControl="clr-namespace:CPC.Control"
             xmlns:cpcDragDrop="clr-namespace:CPC.DragDrop;assembly=CPCDragDrop"
             xmlns:cpcTabControl="clr-namespace:CPCToolkitExt.OtherControl;assembly=CPCToolkitExt"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:dataGridControl="clr-namespace:CPCToolkitExt.DataGridControl;assembly=CPCToolkitExt"
             xmlns:helper="clr-namespace:CPC.Helper"
             xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
             xmlns:local="clr-namespace:CPC.POS"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:s="clr-namespace:System;assembly=mscorlib"
             xmlns:textBoxControl="clr-namespace:CPCToolkitExt.TextBoxControl;assembly=CPCToolkitExt"
             x:Name="UserControl"
             Background="{DynamicResource UserControlBackground}"
             helper:ValidationHelper.IsEnabled="True"
             helper:ValidationHelper.IsValid="{Binding IsValid, Mode=OneWayToSource}"
             mc:Ignorable="d">
    <UserControl.Resources>
        <!--  region Converter  -->
        <converter:EnumToBoolConverter x:Key="enumToBoolConverter" />
        <converter:IntegerToBooleanConverter x:Key="reversedIntToBoolConverter"
                                             IsReversed="True" />
        <converter:ComboxItemToTextConverter x:Key="comboxItemToTextConverter" />
        <converter:BoolToVisibilityConverter x:Key="boolToVisibilityConverter" />
        <converter:EnumToCollapsedConverter x:Key="enumToCollapsedConverter" />
        <converter:StringFormatConverter x:Key="stringFormatConverter" />
        <converter:PermissionConverter x:Key="permissionConverter" />
        <!--  endregion Converter  -->
        <!--  region HeaderTemplate  -->
        <DataTemplate x:Key="DataTemplate_PD_Header_Code">
            <TextBlock Text="{DynamicResource C174}" />
        </DataTemplate>
        <DataTemplate x:Key="DataTemplate_PD_Header_ItemType">
            <TextBlock Text="{DynamicResource PD_ItemType}" />
        </DataTemplate>
        <DataTemplate x:Key="DataTemplate_PD_Header_Category">
            <TextBlock Text="{DynamicResource PD_Category}" />
        </DataTemplate>
        <DataTemplate x:Key="DataTemplate_PD_Header_Vendor">
            <TextBlock Text="{DynamicResource C134}" />
        </DataTemplate>
        <DataTemplate x:Key="DataTemplate_PD_Header_ItemName">
            <TextBlock Text="{DynamicResource C115}" />
        </DataTemplate>
        <DataTemplate x:Key="DataTemplate_PD_Header_Description">
            <TextBlock Text="{DynamicResource C138}" />
        </DataTemplate>
        <DataTemplate x:Key="DataTemplate_PD_Header_Attribute">
            <TextBlock Text="{DynamicResource C116}" />
        </DataTemplate>
        <DataTemplate x:Key="DataTemplate_PD_Header_Size">
            <TextBlock Text="{DynamicResource C117}" />
        </DataTemplate>
        <DataTemplate x:Key="DataTemplate_PD_Header_Barcode">
            <TextBlock Text="{DynamicResource C176}" />
        </DataTemplate>
        <DataTemplate x:Key="DataTemplate_PD_Header_PartNo">
            <TextBlock Text="{DynamicResource PD_PartNo}" />
        </DataTemplate>
        <DataTemplate x:Key="DataTemplate_PD_Header_ALU">
            <TextBlock Text="{DynamicResource PD_ALU}" />
        </DataTemplate>
        <DataTemplate x:Key="DataTemplate_PD_Header_BaseUOM">
            <TextBlock Text="{DynamicResource PD_BaseUnit}" />
        </DataTemplate>
        <DataTemplate x:Key="DataTemplate_PD_Header_TaxCode">
            <TextBlock Text="{DynamicResource C144}" />
        </DataTemplate>
        <DataTemplate x:Key="DataTemplate_PD_Header_RegularPrice">
            <TextBlock Text="{DynamicResource C139}" />
        </DataTemplate>
        <DataTemplate x:Key="DataTemplate_PD_Header_RegPrice">
            <TextBlock Text="{DynamicResource PD_RegPrice}" />
        </DataTemplate>
        <DataTemplate x:Key="DataTemplate_PD_Header_OnHandQty">
            <TextBlock Text="{DynamicResource C152}" />
        </DataTemplate>
        <DataTemplate x:Key="DataTemplate_PD_Header_OnOrder">
            <TextBlock Text="{DynamicResource C153}" />
        </DataTemplate>
        <DataTemplate x:Key="DataTemplate_PD_Header_CreationDate">
            <TextBlock Text="{DynamicResource PD_CreationDate}" />
        </DataTemplate>
        <DataTemplate x:Key="DataTemplate_PD_Header_VendorCode">
            <TextBlock Text="{DynamicResource PD_VendorCode}" />
        </DataTemplate>
        <DataTemplate x:Key="DataTemplate_PD_Header_Phone">
            <TextBlock Text="{DynamicResource C173}" />
        </DataTemplate>
        <DataTemplate x:Key="DataTemplate_PD_Header_Email">
            <TextBlock Text="{DynamicResource C184}" />
        </DataTemplate>
        <DataTemplate x:Key="DataTemplate_PD_Header_Price">
            <TextBlock Text="{DynamicResource C119}" />
        </DataTemplate>
        <DataTemplate x:Key="DataTemplate_PD_TabHeader_ProductInfo">
            <TextBlock Text="{DynamicResource PD_ProductInfo}" />
        </DataTemplate>
        <DataTemplate x:Key="DataTemplate_PD_TabHeader_Additional">
            <TextBlock Text="{DynamicResource PD_Additional}" />
        </DataTemplate>
        <DataTemplate x:Key="DataTemplate_PD_TabHeader_VendorProduct">
            <TextBlock Text="{DynamicResource PD_VendorProduct}" />
        </DataTemplate>
        <!--  endregion HeaderTemplate  -->
        <Style x:Key="ListViewItemColorStyle"
               TargetType="{x:Type ListViewItem}">
            <Style.Triggers>
                <DataTrigger Binding="{Binding IsOpenItem}"
                             Value="True">
                    <Setter Property="Foreground"
                            Value="{DynamicResource ForegroundGreenBrush}" />
                    <Setter Property="FontWeight"
                            Value="Bold" />
                </DataTrigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="DataGridCellFocusStyle"
               BasedOn="{StaticResource {x:Type DataGridCell}}"
               TargetType="{x:Type DataGridCell}">
            <Setter Property="behavior:DataGridCellFocusHelper.CellFocus"
                    Value="True" />
            <Setter Property="behavior:DataGridCellFocusHelper.ItemSource"
                    Value="{Binding ., RelativeSource={RelativeSource Self}}" />
        </Style>
        <!--  region MaxLengthField  -->
        <s:Int32 x:Key="ItemNameMaxLength">300</s:Int32>
        <s:Int32 x:Key="BarcodeMaxLength">20</s:Int32>
        <s:Int32 x:Key="PartNoMaxLength">20</s:Int32>
        <s:Int32 x:Key="AttributeMaxLength">30</s:Int32>
        <s:Int32 x:Key="SizeMaxLength">10</s:Int32>
        <s:Int32 x:Key="ItemDescriptionMaxLength">2000</s:Int32>
        <!--  endregion MaxLengthField  -->
        <DataTemplate x:Key="ProductDragAdorner">
            <StackPanel Orientation="Horizontal">
                <Image Width="32"
                       HorizontalAlignment="Center"
                       Source="/Image/RibbonImages/Grey/RibbonProduct.png" />
                <TextBlock HorizontalAlignment="Center"
                           FontWeight="Bold"
                           Text="{Binding ProductName}" />
            </StackPanel>
        </DataTemplate>
    </UserControl.Resources>
    <UserControl.InputBindings>
        <KeyBinding Command="{Binding HelpCommand}"
                    Gesture="F1" />
    </UserControl.InputBindings>
    <Grid x:Name="GridLayout">
        <Rectangle x:Name="UserControl_Background_Image"
                   Fill="{DynamicResource UserControl_Background_Image}" />
        <control:BusyIndicator IsBusy="{Binding IsBusy}">
            <Grid x:Name="grdManual"
                  Width="Auto"
                  Height="Auto"
                  HorizontalAlignment="Stretch"
                  VerticalAlignment="Stretch">
                <Grid x:Name="grdSearch">
                    <Grid.Visibility>
                        <Binding Path="IsSearchMode"
                                 Mode="OneWay"
                                 UpdateSourceTrigger="PropertyChanged">
                            <Binding.Converter>
                                <converter:BoolToVisibilityConverter FalseToVisibility="Collapsed" />
                            </Binding.Converter>
                        </Binding>
                    </Grid.Visibility>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="85" />
                        <RowDefinition />
                    </Grid.RowDefinitions>
                    <GroupBox x:Name="gbSearch"
                              Margin="10,10,10,0">
                        <GroupBox.Header>
                            <TextBlock x:Name="txtblSearch"
                                       Style="{DynamicResource GroupboxTextBlock}"
                                       Text="{DynamicResource C113}"
                                       TextWrapping="NoWrap" />
                        </GroupBox.Header>
                        <Grid x:Name="grdgbSearch"
                              Margin="0,4,0,0">
                            <Grid x:Name="grdgbContentSearch">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="25" />
                                    <RowDefinition Height="25" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <control:WatermarkTextBox x:Name="txtKeyword"
                                                          Margin="10,2"
                                                          VerticalContentAlignment="Center"
                                                          Padding="20,0,2,0"
                                                          TextWrapping="NoWrap"
                                                          Watermark="{DynamicResource PD_Keyword}">
                                    <control:WatermarkTextBox.InputBindings>
                                        <KeyBinding Key="Enter"
                                                    Command="{Binding SearchCommand}"
                                                    CommandParameter="{Binding Text, ElementName=txtKeyword}" />
                                    </control:WatermarkTextBox.InputBindings>
                                    <i:Interaction.Behaviors>
                                        <behavior:AutoFocusBehavior />
                                    </i:Interaction.Behaviors>
                                </control:WatermarkTextBox>
                                <Rectangle x:Name="imgFind"
                                           Width="20"
                                           Margin="13,3,0,3"
                                           HorizontalAlignment="Left"
                                           Fill="{DynamicResource Find}" />
                                <Button x:Name="btnAdvanceSearch"
                                        Command="{Binding PopupAdvanceSearchCommand}"
                                        Grid.Row="1"
                                        Width="100"
                                        Height="20"
                                        Margin="10,0,0,0"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center"
                                        Content="{DynamicResource C104}"
                                        Style="{DynamicResource ButtonAdvanceSearch}" />
                            </Grid>
                        </Grid>
                    </GroupBox>
                    <dataGridControl:DataGridControl x:Name="dtgrdManualDirectory"
                                                     Command="{Binding LoadStepCommand}"
                                                     Grid.Row="1"
                                                     Margin="10,10.2,10,10"
                                                     HorizontalAlignment="Stretch"
                                                     VerticalAlignment="Stretch"
                                                     AutoGenerateColumns="False"
                                                     behavior:DoubleClickCommandBehavior.DoubleClickCommand="{Binding DoubleClickViewCommand}"
                                                     behavior:DoubleClickCommandBehavior.DoubleClickCommandParameter="{Binding SelectedItem, ElementName=dtgrdManualDirectory}"
                                                     CanUserAddRows="False"
                                                     cpcDragDrop:DragDrop.DragAdornerTemplate="{StaticResource ProductDragAdorner}"
                                                     cpcDragDrop:DragDrop.DragHandler="{Binding}"
                                                     cpcDragDrop:DragDrop.DropHandler="{Binding}"
                                                     cpcDragDrop:DragDrop.IsDragSource="True"
                                                     cpcDragDrop:DragDrop.IsDropTarget="True"
                                                     CurrentColumnCollection="{Binding ColumnCollection, Mode=OneWayToSource, UpdateSourceTrigger=PropertyChanged}"
                                                     DisplayItems="{Binding NumberOfDisplayItems}"
                                                     IsColunmHidden="True"
                                                     IsPaging="True"
                                                     IsReadOnly="True"
                                                     IsRollBackData="False"
                                                     ItemsSource="{Binding ProductCollection}"
                                                     NumberOfItems="{Binding TotalProducts}"
                                                     SelectionMode="Extended"
                                                     Style="{DynamicResource DatagridWithRowHeader}">
                        <dataGridControl:DataGridControl.ContextMenu>
                            <ContextMenu Tag="{Binding PlacementTarget, RelativeSource={RelativeSource Mode=Self}}">
                                <MenuItem Header="{DynamicResource C125}"
                                          Command="{Binding NewCommand}">
                                    <MenuItem.Icon>
                                        <Rectangle Width="16"
                                                   Height="16"
                                                   Fill="{DynamicResource NewItem}"
                                                   Stretch="Fill" />
                                    </MenuItem.Icon>
                                </MenuItem>
                                <MenuItem Header="{DynamicResource C126}"
                                          Command="{Binding EditCommand}"
                                          CommandParameter="{Binding Tag, RelativeSource={RelativeSource AncestorType={x:Type ContextMenu}, Mode=FindAncestor}}">
                                    <MenuItem.Icon>
                                        <Rectangle Width="16"
                                                   Height="16"
                                                   Fill="{DynamicResource EditItem}"
                                                   Stretch="Fill" />
                                    </MenuItem.Icon>
                                </MenuItem>
                                <MenuItem Header="{DynamicResource C127}"
                                          Command="{Binding DeletesCommand}"
                                          CommandParameter="{Binding Tag, RelativeSource={RelativeSource AncestorType={x:Type ContextMenu}, Mode=FindAncestor}}">
                                    <MenuItem.Icon>
                                        <Rectangle Width="16"
                                                   Height="16"
                                                   Fill="{DynamicResource DeleteItem}"
                                                   Stretch="Fill" />
                                    </MenuItem.Icon>
                                </MenuItem>
                                <MenuItem Header="{DynamicResource C128}"
                                          Command="{Binding DuplicateCommand}"
                                          CommandParameter="{Binding Tag, RelativeSource={RelativeSource AncestorType={x:Type ContextMenu}, Mode=FindAncestor}}">
                                    <MenuItem.Icon>
                                        <Rectangle Width="16"
                                                   Height="16"
                                                   Fill="{DynamicResource DuplicateItem}"
                                                   Stretch="Fill" />
                                    </MenuItem.Icon>
                                </MenuItem>
                                <Separator Background="{DynamicResource ContextMenuBorder}" />
                                <MenuItem Header="{DynamicResource PD_SellSelectedItem}"
                                          Command="{Binding SellCommand}"
                                          CommandParameter="{Binding Tag, RelativeSource={RelativeSource AncestorType={x:Type ContextMenu}, Mode=FindAncestor}}">
                                    <MenuItem.Icon>
                                        <Rectangle Width="16"
                                                   Height="16"
                                                   Fill="{DynamicResource SellSelectedItem}"
                                                   Stretch="Fill" />
                                    </MenuItem.Icon>
                                </MenuItem>
                            </ContextMenu>
                        </dataGridControl:DataGridControl.ContextMenu>
                        <dataGridControl:DataGridControl.Columns>
                            <DataGridTextColumn Binding="{Binding Code, Mode=OneWay}"
                                                Width="100"
                                                dataGridControl:DataGridColumnExtensions.Name="{x:Static local:SearchOptions.Code}"
                                                HeaderTemplate="{StaticResource DataTemplate_PD_Header_Code}" />
                            <DataGridTextColumn Binding="{Binding ItemTypeItem.Text, Mode=OneWay}"
                                                Width="100"
                                                dataGridControl:DataGridColumnExtensions.Name="{x:Static local:SearchOptions.Type}"
                                                HeaderTemplate="{StaticResource DataTemplate_PD_Header_ItemType}" />
                            <DataGridTextColumn Binding="{Binding CategoryName, Mode=OneWay}"
                                                Width="130"
                                                dataGridControl:DataGridColumnExtensions.Name="{x:Static local:SearchOptions.Category}"
                                                HeaderTemplate="{StaticResource DataTemplate_PD_Header_Category}" />
                            <DataGridTextColumn Binding="{Binding VendorName, Mode=OneWay}"
                                                Width="150"
                                                dataGridControl:DataGridColumnExtensions.Name="{x:Static local:SearchOptions.Vendor}"
                                                HeaderTemplate="{StaticResource DataTemplate_PD_Header_Vendor}" />
                            <DataGridTextColumn Binding="{Binding ProductName, Mode=OneWay}"
                                                Width="150"
                                                dataGridControl:DataGridColumnExtensions.Name="{x:Static local:SearchOptions.ItemName}"
                                                HeaderTemplate="{StaticResource DataTemplate_PD_Header_ItemName}" />
                            <DataGridTextColumn Binding="{Binding Description, Mode=OneWay}"
                                                Width="250"
                                                dataGridControl:DataGridColumnExtensions.Name="{x:Static local:SearchOptions.Description}"
                                                HeaderTemplate="{StaticResource DataTemplate_PD_Header_Description}" />
                            <DataGridTextColumn Binding="{Binding Attribute, Mode=OneWay}"
                                                Width="80"
                                                dataGridControl:DataGridColumnExtensions.Name="{x:Static local:SearchOptions.Attribute}"
                                                HeaderTemplate="{StaticResource DataTemplate_PD_Header_Attribute}" />
                            <DataGridTextColumn Binding="{Binding Size, Mode=OneWay}"
                                                Width="80"
                                                dataGridControl:DataGridColumnExtensions.Name="{x:Static local:SearchOptions.Size}"
                                                HeaderTemplate="{StaticResource DataTemplate_PD_Header_Size}" />
                            <DataGridTextColumn Binding="{Binding Barcode, Mode=OneWay}"
                                                Width="100"
                                                dataGridControl:DataGridColumnExtensions.Name="{x:Static local:SearchOptions.Barcode}"
                                                HeaderTemplate="{StaticResource DataTemplate_PD_Header_Barcode}" />
                            <DataGridTextColumn Binding="{Binding ALU, Mode=OneWay}"
                                                Width="100"
                                                dataGridControl:DataGridColumnExtensions.Name="{x:Static local:SearchOptions.ALU}"
                                                HeaderTemplate="{StaticResource DataTemplate_PD_Header_ALU}" />
                            <DataGridTextColumn Binding="{Binding UOMName, Mode=OneWay}"
                                                Width="80"
                                                dataGridControl:DataGridColumnExtensions.Name="{x:Static local:SearchOptions.UOM}"
                                                HeaderTemplate="{StaticResource DataTemplate_PD_Header_BaseUOM}" />
                            <DataGridTextColumn Binding="{Binding TaxCode, Mode=OneWay}"
                                                Width="80"
                                                dataGridControl:DataGridColumnExtensions.Name="{x:Static local:SearchOptions.TaxCode}"
                                                HeaderTemplate="{StaticResource DataTemplate_PD_Header_TaxCode}" />
                            <DataGridTemplateColumn Width="80"
                                                    dataGridControl:DataGridColumnExtensions.Name="{x:Static local:SearchOptions.RegularPrice}"
                                                    HeaderTemplate="{StaticResource DataTemplate_PD_Header_RegularPrice}"
                                                    SortMemberPath="RegularPrice">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock HorizontalAlignment="Right"
                                                   Text="{Binding RegularPrice, ConverterCulture={x:Static local:Define.ConverterCulture}, Mode=OneWay, StringFormat={x:Static local:Define.CurrencyFormat}}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                            <DataGridTemplateColumn Width="80"
                                                    dataGridControl:DataGridColumnExtensions.Name="{x:Static local:SearchOptions.QuantityOnHand}"
                                                    HeaderTemplate="{StaticResource DataTemplate_PD_Header_OnHandQty}"
                                                    SortMemberPath="QuantityOnHand">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock HorizontalAlignment="Right"
                                                   Text="{Binding QuantityOnHand, ConverterCulture={x:Static local:Define.ConverterCulture}, Mode=OneWay, StringFormat={x:Static local:Define.NumericFormat}}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                            <DataGridTemplateColumn Width="80"
                                                    dataGridControl:DataGridColumnExtensions.Name="{x:Static local:SearchOptions.QuantityOnOrder}"
                                                    HeaderTemplate="{StaticResource DataTemplate_PD_Header_OnOrder}"
                                                    SortMemberPath="QuantityOnOrder">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock HorizontalAlignment="Right"
                                                   Text="{Binding QuantityOnOrder, ConverterCulture={x:Static local:Define.ConverterCulture}, Mode=OneWay, StringFormat={x:Static local:Define.NumericFormat}}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                            <DataGridTemplateColumn Width="80"
                                                    dataGridControl:DataGridColumnExtensions.Name="{x:Static local:SearchOptions.DateCreated}"
                                                    HeaderTemplate="{StaticResource DataTemplate_PD_Header_CreationDate}"
                                                    SortMemberPath="DateCreated">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock HorizontalAlignment="Center"
                                                   Text="{Binding DateCreated, Mode=OneWay, StringFormat={x:Static local:Define.DateFormat}}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </dataGridControl:DataGridControl.Columns>
                    </dataGridControl:DataGridControl>
                </Grid>
                <Grid x:Name="grdContentManual1"
                      Grid.Column="1"
                      d:IsHidden="True">
                    <Grid.Visibility>
                        <Binding Path="IsSearchMode"
                                 Mode="OneWay"
                                 UpdateSourceTrigger="PropertyChanged">
                            <Binding.Converter>
                                <converter:BoolToVisibilityConverter FalseToVisibility="Visible" />
                            </Binding.Converter>
                        </Binding>
                    </Grid.Visibility>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="22" />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <Button x:Name="btnBarSearch"
                            Command="{Binding DoubleClickViewCommand}"
                            SnapsToDevicePixels="True"
                            Style="{DynamicResource ButtonBarSearchStyle}">
                        <TextBlock x:Name="txtblShowSearch1"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"
                                   FontSize="12"
                                   FontWeight="Bold"
                                   Style="{DynamicResource ButtonBarSearchTextBlock}"
                                   Text="{DynamicResource C113}"
                                   TextWrapping="NoWrap">
                            <TextBlock.LayoutTransform>
                                <TransformGroup>
                                    <ScaleTransform />
                                    <SkewTransform />
                                    <RotateTransform Angle="-90" />
                                    <TranslateTransform />
                                </TransformGroup>
                            </TextBlock.LayoutTransform>
                        </TextBlock>
                    </Button>
                    <Rectangle x:Name="grdSpliter"
                               Grid.Column="1"
                               Width="1"
                               HorizontalAlignment="Left"
                               Fill="{DynamicResource Spilter_Line_Background}" />
                    <Grid x:Name="grdSubManual"
                          Grid.Column="1">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="60" />
                            <RowDefinition Height="65" />
                            <RowDefinition />
                        </Grid.RowDefinitions>
                        <StackPanel x:Name="stkpBtn"
                                    Height="Auto"
                                    Margin="20,0,0,5"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Bottom"
                                    Orientation="Horizontal">
                            <Button x:Name="btnNew"
                                    Command="{Binding NewCommand}"
                                    Width="40"
                                    Height="40"
                                    Style="{DynamicResource ButtonSystem}"
                                    Visibility="Visible" ToolTip="New Item">
                                <StackPanel x:Name="stkpBtnNew"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center">
                                    <Rectangle x:Name="imgNew"
                                               Width="30"
                                               Height="30"
                                               Fill="{DynamicResource New}" />
                                    <TextBlock x:Name="txtblNew"
                                               VerticalAlignment="Center"
                                               Style="{DynamicResource ButtonSystemTextBlock}"
                                               Text="New"
                                               TextWrapping="NoWrap"
                                               Visibility="Collapsed" />
                                </StackPanel>
                            </Button>
                            <Button x:Name="btnSave"
                                    Command="{Binding SaveCommand}"
                                    Width="40"
                                    Height="40"
                                    Style="{DynamicResource ButtonSystem}"
                                    Visibility="Visible" ToolTip="Save Current Item">
                                <StackPanel x:Name="stkpBtnSave"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Orientation="Horizontal">
                                    <Rectangle x:Name="imgSave"
                                               Width="30"
                                               Height="30"
                                               Fill="{DynamicResource Save}" />
                                    <TextBlock x:Name="txtblSave"
                                               Margin="5,0,0,0"
                                               VerticalAlignment="Center"
                                               Style="{DynamicResource ButtonSystemTextBlock}"
                                               Text="Save"
                                               TextWrapping="NoWrap"
                                               Visibility="Collapsed" />
                                </StackPanel>
                            </Button>
                            <Button x:Name="btnDelete"
                                    Command="{Binding DeleteCommand}"
                                    Width="40"
                                    Height="40"
                                    FontSize="12"
                                    Style="{DynamicResource ButtonSystem}" ToolTip="Delete Current Item">
                                <StackPanel x:Name="stkpBtnDelete"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center">
                                    <Rectangle x:Name="imgDelete"
                                               Width="30"
                                               Height="30"
                                               Fill="{DynamicResource Delete}" />
                                    <TextBlock x:Name="txtblDelete"
                                               Margin="5,0,0,0"
                                               VerticalAlignment="Center"
                                               Style="{DynamicResource ButtonSystemTextBlock}"
                                               Text="Close"
                                               TextWrapping="NoWrap"
                                               Visibility="Collapsed" />
                                </StackPanel>
                            </Button>
                            <Button x:Name="btnPrint"
                                    Width="40"
                                    Height="40"
                                    FontSize="12"
                                    Style="{DynamicResource ButtonSystem}" ToolTip="Print Current Item">
                                <StackPanel x:Name="stkpBtnPrint"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center">
                                    <Rectangle x:Name="imgPrint"
                                               Width="30"
                                               Height="30"
                                               Fill="{DynamicResource Print}" />
                                    <TextBlock x:Name="txtblPrint"
                                               Margin="5,0,0,0"
                                               VerticalAlignment="Center"
                                               Style="{DynamicResource ButtonSystemTextBlock}"
                                               Text="Print"
                                               TextWrapping="NoWrap"
                                               Visibility="Collapsed" />
                                </StackPanel>
                            </Button>
                            <Grid x:Name="grdRemark"
                                  Width="40"
                                  Height="40">
                                <ComboBox x:Name="cmbStick"
                                          Grid.ColumnSpan="2"
                                          SelectedIndex="0"
                                          Style="{DynamicResource RemarkComboboxStyle}" ToolTip="Stickies">
                                    <ComboBoxItem>
                                        <Button Command="{Binding StickyManagementViewModel.NewCommand}"
                                                Width="75"
                                                Height="20"
                                                Content="{Binding StickyManagementViewModel.AddStickyText}"
                                                Style="{DynamicResource ButtonComboboxItemRemark}" />
                                    </ComboBoxItem>
                                    <ComboBoxItem Visibility="{Binding StickyManagementViewModel.ResourceNoteCollection.Count, ConverterParameter=0, Converter={StaticResource enumToCollapsedConverter}}">
                                        <Button Command="{Binding StickyManagementViewModel.ShowOrHiddenCommand}"
                                                Width="75"
                                                Height="20"
                                                Content="{Binding StickyManagementViewModel.ShowOrHiddenStickyText, Mode=OneWay}"
                                                Style="{DynamicResource ButtonComboboxItemRemark}" />
                                    </ComboBoxItem>
                                </ComboBox>
                                <Button x:Name="btnRemark1"
                                        Width="40"
                                        Height="40"
                                        IsHitTestVisible="False"
                                        Style="{DynamicResource ButtonSystem}"
                                        Visibility="Visible">
                                    <StackPanel x:Name="stkpBtnRemark"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center">
                                        <Rectangle x:Name="imgRemark1"
                                                   Width="30"
                                                   Height="30"
                                                   Fill="{DynamicResource Remark}" />
                                        <TextBlock VerticalAlignment="Center"
                                                   Style="{DynamicResource ButtonSystemTextBlock}"
                                                   Text="Remark"
                                                   TextWrapping="NoWrap"
                                                   Visibility="Collapsed" />
                                    </StackPanel>
                                </Button>
                                <TextBox x:Name="txtbBindingRemark"
                                         HorizontalAlignment="Center"
                                         VerticalAlignment="Center"
                                         IsReadOnly="True"
                                         Style="{DynamicResource TextBoxRemark}"
                                         Text="{Binding StickyManagementViewModel.ResourceNoteCollection.Count, Mode=OneWay}"
                                         TextWrapping="Wrap"
                                         Visibility="{Binding StickyManagementViewModel.ResourceNoteCollection.Count, ConverterParameter=0, Converter={StaticResource enumToCollapsedConverter}}" />
                            </Grid>
                        </StackPanel>
                        <Rectangle x:Name="Line"
                                   Grid.Row="1"
                                   Height="1"
                                   Margin="2,0"
                                   HorizontalAlignment="Stretch"
                                   VerticalAlignment="Top"
                                   Fill="{DynamicResource Spilter_Line_Background}" />
                        <TextBlock x:Name="txtblBindingManual"
                                   Margin="0,0,20,7"
                                   HorizontalAlignment="Right"
                                   VerticalAlignment="Bottom"
                                   FontFamily="Times New Roman"
                                   Style="{DynamicResource TextBlockTitleFormView}"
                                   Text="Product Manual"
                                   TextWrapping="NoWrap" />
                        <Grid x:Name="grdBasic"
                              Grid.Row="1"
                              Width="747"
                              Margin="0,10,0,0"
                              HorizontalAlignment="Left">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="80" />
                                <ColumnDefinition Width="140" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="61" />
                                <ColumnDefinition Width="137" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="33" />
                                <ColumnDefinition Width="130.491" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="25" />
                                <RowDefinition Height="25" />
                            </Grid.RowDefinitions>
                            <TextBlock x:Name="txtblItemNo"
                                       Margin="10,0,0,0"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Center"
                                       Style="{DynamicResource TextBlockNormal}"
                                       Text="{DynamicResource PD_ItemNo}"
                                       TextWrapping="NoWrap" />
                            <TextBlock x:Name="txtblBindingItemNo"
                                       Grid.Column="1"
                                       Margin="0"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Center"
                                       Style="{DynamicResource TextBlockBasic}"
                                       Text="{Binding SelectedProduct.Code}"
                                       TextWrapping="NoWrap"
                                       Visibility="Collapsed" />
                            <textBoxControl:TextBox x:Name="txtblBindingAccountNo"
                                                    Grid.Column="1"
                                                    Width="140"
                                                    Height="21"
                                                    Margin="0,2"
                                                    HorizontalAlignment="Left"
                                                    FontFamily="Tahoma"
                                                    FontSize="12"
                                                    FontWeight="Bold"
                                                    Foreground="#FFFD7E00"
                                                    IsEnabled="{Binding IsManualGenerate, Mode=OneWay}"
                                                    Text="{Binding SelectedProduct.Code, Mode=TwoWay, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
                                                    TextWrapping="NoWrap" />
                            <TextBlock x:Name="txtblItemType"
                                       Grid.Column="3"
                                       Margin="0"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Center"
                                       Style="{DynamicResource TextBlockNormal}"
                                       Text="{DynamicResource PD_ItemType}"
                                       TextWrapping="NoWrap" />
                            <ComboBox x:Name="cmbItemType"
                                      Grid.Column="4"
                                      Margin="0,2"
                                      VerticalAlignment="Stretch"
                                      DisplayMemberPath="Text"
                                      IsEnabled="False"
                                      ItemsSource="{Binding ItemTypeList}"
                                      SelectedValue="{Binding SelectedProduct.ItemTypeId}"
                                      SelectedValuePath="Value" />
                            <TextBlock x:Name="txtblStartDate"
                                       Grid.Column="6"
                                       Margin="0"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Center"
                                       Style="{DynamicResource TextBlockNormal}"
                                       Text="{DynamicResource PD_Date}"
                                       TextWrapping="NoWrap" />
                            <DatePicker x:Name="dtpStartDate"
                                        Grid.Column="7"
                                        Width="90"
                                        Margin="0,2"
                                        HorizontalAlignment="Left"
                                        IsEnabled="{Binding AllowAccessPermission, Mode=OneWay}"
                                        SelectedDate="{Binding SelectedProduct.DateCreated}" />
                            <TextBlock x:Name="txtblDepartment"
                                       Grid.Row="1"
                                       Margin="10,0,0,0"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Center"
                                       Style="{DynamicResource TextBlockNormal}"
                                       Text="{DynamicResource D102}"
                                       TextWrapping="NoWrap" />
                            <AdornerDecorator x:Name="adrDepartment"
                                              Grid.Row="1"
                                              Grid.Column="1"
                                              Width="140"
                                              HorizontalAlignment="Left">
                                <comboBoxControl:ComboBoxControl x:Name="cmbItemDepartment"
                                                                 Height="21"
                                                                 Margin="0,2"
                                                                 AddItemCommand="{Binding PopupDepartmentCommand}"
                                                                 AddItemCommandParameter="{x:Static local:ProductDeparmentLevel.Department}"
                                                                 AutoHiddenItem="False"
                                                                 DisplayMemberPath="Name"
                                                                 IsEnabled="{Binding AllowAccessPermission, Mode=OneWay}"
                                                                 ItemsSource="{Binding DepartmentCollection, Mode=OneWay}"
                                                                 SelectedValue="{Binding SelectedProduct.ProductDepartmentId, NotifyOnValidationError=True, ValidatesOnDataErrors=True}"
                                                                 SelectedValuePath="Id"
                                                                 Style="{DynamicResource ComboBoxControlStyle}"
                                                                 VisibilityAddItem="{Binding AllowAccessPermission, Converter={StaticResource boolToVisibilityConverter}, Mode=OneWay}" />
                            </AdornerDecorator>
                            <TextBlock x:Name="txtblCategory"
                                       Grid.Row="1"
                                       Grid.Column="3"
                                       Margin="0"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Center"
                                       Style="{DynamicResource TextBlockNormal}"
                                       Text="{DynamicResource PD_Category}"
                                       TextWrapping="NoWrap" />
                            <comboBoxControl:ComboBoxControl x:Name="cmbItemCategory"
                                                             Grid.Row="1"
                                                             Grid.Column="4"
                                                             Margin="0,2"
                                                             VerticalAlignment="Stretch"
                                                             AddItemCommand="{Binding PopupDepartmentCommand}"
                                                             AddItemCommandParameter="{x:Static local:ProductDeparmentLevel.Category}"
                                                             AutoHiddenItem="False"
                                                             DisplayMemberPath="Name"
                                                             IsEnabled="{Binding AllowAccessPermission, Mode=OneWay}"
                                                             ItemsSource="{Binding CategoryCollection, Mode=OneWay}"
                                                             SelectedValue="{Binding SelectedProduct.ProductCategoryId, NotifyOnValidationError=True, ValidatesOnDataErrors=True}"
                                                             SelectedValuePath="Id"
                                                             Style="{DynamicResource ComboBoxControlStyle}"
                                                             VisibilityAddItem="{Binding UserPermissions.AllowAddDepartment, Converter={StaticResource boolToVisibilityConverter}, Mode=OneWay}" />
                        </Grid>
                        <Grid x:Name="grdContentManual"
                              Grid.Row="2"
                              Margin="0,0,0,10">
                            <Border x:Name="brdManual"
                                    Grid.Row="3"
                                    Margin="10,10,10,0"
                                    Background="{DynamicResource TabControlBackground}"
                                    BorderBrush="{DynamicResource TabControlBorder}"
                                    BorderThickness="1">
                                <Grid x:Name="grdManualInfo">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*" />
                                        <RowDefinition Height="217" />
                                    </Grid.RowDefinitions>
                                    <GroupBox x:Name="gbItemInformation"
                                              Width="500"
                                              Margin="10,10,0,0"
                                              HorizontalAlignment="Left">
                                        <GroupBox.Header>
                                            <TextBlock x:Name="txtblItemSearch"
                                                       Style="{DynamicResource GroupboxTextBlock}"
                                                       Text="{DynamicResource PD_ItemInformation}"
                                                       TextWrapping="NoWrap" />
                                        </GroupBox.Header>
                                        <Grid x:Name="grdItemSearchPriceRange1"
                                              Margin="0,4,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="85" />
                                                <ColumnDefinition />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="25" />
                                                <RowDefinition Height="25" />
                                                <RowDefinition Height="25" />
                                                <RowDefinition Height="25" />
                                                <RowDefinition Height="25" />
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>
                                            <TextBlock x:Name="txtblItemName"
                                                       Margin="10,0,0,0"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="{DynamicResource C115}"
                                                       TextWrapping="NoWrap" />
                                            <textBoxControl:TextBox x:Name="txtItemName"
                                                                    Grid.Column="1"
                                                                    Width="140"
                                                                    Margin="0,2"
                                                                    HorizontalAlignment="Left"
                                                                    behavior:AutoFocusBehavior.IsFocused="{Binding FocusDefault, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                    IsEnabled="{Binding AllowAccessPermission, Mode=OneWay}"
                                                                    MaxLength="{StaticResource ItemNameMaxLength}"
                                                                    Padding="2,0,2,0"
                                                                    Text="{Binding SelectedProduct.ProductName, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
                                                                    TextWrapping="NoWrap">
                                                <i:Interaction.Behaviors>
                                                    <behavior:AutoFocusBehavior />
                                                </i:Interaction.Behaviors>
                                            </textBoxControl:TextBox>
                                            <TextBlock x:Name="txtblVendor"
                                                       Grid.Column="1"
                                                       Margin="0,0,200,0"
                                                       HorizontalAlignment="Right"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="{DynamicResource C134}"
                                                       TextWrapping="NoWrap" />
                                            <comboBoxControl:ComboBoxControl x:Name="cmbVendor"
                                                                             Grid.Column="1"
                                                                             Width="140"
                                                                             Margin="0,2,45,2"
                                                                             HorizontalAlignment="Right"
                                                                             AddItemCommand="{Binding PopupVendorCommand}"
                                                                             AutoHiddenItem="False"
                                                                             DisplayMemberPath="Company"
                                                                             IsEnabled="{Binding AllowAccessPermission, Mode=OneWay}"
                                                                             ItemsSource="{Binding VendorCollection}"
                                                                             SelectedItem="{Binding SelectedVendor, Mode=OneWayToSource}"
                                                                             SelectedValue="{Binding SelectedProduct.VendorId, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
                                                                             SelectedValuePath="Id"
                                                                             Style="{DynamicResource ComboBoxControlStyle}"
                                                                             VisibilityAddItem="{Binding UserPermissions.AllowAddVendor, Converter={StaticResource boolToVisibilityConverter}, Mode=OneWay}" />
                                            <TextBlock x:Name="txtblBarcode"
                                                       Grid.Row="1"
                                                       Margin="10,0,0,0"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="{DynamicResource C176}"
                                                       TextWrapping="NoWrap" />
                                            <textBoxControl:TextBox x:Name="txtBarcode"
                                                                    Grid.Row="1"
                                                                    Grid.Column="1"
                                                                    Width="140"
                                                                    Margin="0,2"
                                                                    HorizontalAlignment="Left"
                                                                    IsEnabled="{Binding AllowAccessPermission, Mode=OneWay}"
                                                                    MaxLength="{StaticResource BarcodeMaxLength}"
                                                                    Padding="2,0,2,0"
                                                                    Text="{Binding SelectedProduct.Barcode, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                    TextWrapping="NoWrap" />
                                            <TextBlock x:Name="txtblPartNo"
                                                       Grid.Row="1"
                                                       Grid.Column="1"
                                                       Margin="0,0,200,0"
                                                       HorizontalAlignment="Right"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="{DynamicResource PD_PartNo}"
                                                       TextWrapping="NoWrap"
                                                       Visibility="Collapsed" />
                                            <textBoxControl:TextBox x:Name="txtPartNo"
                                                                    Grid.Row="1"
                                                                    Grid.Column="1"
                                                                    Width="140"
                                                                    Margin="0,2,45,2"
                                                                    HorizontalAlignment="Right"
                                                                    IsEnabled="{Binding AllowAccessPermission, Mode=OneWay}"
                                                                    MaxLength="{StaticResource PartNoMaxLength}"
                                                                    Padding="2,0,2,0"
                                                                    Text="{Binding SelectedProduct.PartNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                    TextWrapping="NoWrap"
                                                                    Visibility="Collapsed" />
                                            <TextBlock x:Name="txtblALU"
                                                       Grid.Row="1"
                                                       Grid.Column="1"
                                                       Margin="0,0,200,0"
                                                       HorizontalAlignment="Right"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="ALU"
                                                       TextWrapping="NoWrap" />
                                            <textBoxControl:TextBox x:Name="txtALU"
                                                                    Grid.Row="1"
                                                                    Grid.Column="1"
                                                                    Width="140"
                                                                    Margin="0,2,45,2"
                                                                    HorizontalAlignment="Right"
                                                                    IsEnabled="{Binding AllowAccessPermission, Mode=OneWay}"
                                                                    MaxLength="{StaticResource BarcodeMaxLength}"
                                                                    Padding="2,0,2,0"
                                                                    Text="{Binding SelectedProduct.ALU, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                    TextWrapping="NoWrap" />
                                            <TextBlock x:Name="txtblAttribute"
                                                       Grid.Row="2"
                                                       Margin="10,0,0,0"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="{DynamicResource C116}"
                                                       TextWrapping="NoWrap" />
                                            <textBoxControl:TextBox x:Name="txtAttribute"
                                                                    Grid.Row="2"
                                                                    Grid.Column="1"
                                                                    Width="140"
                                                                    Margin="0,2"
                                                                    HorizontalAlignment="Left"
                                                                    IsEnabled="{Binding AllowAccessPermission, Mode=OneWay}"
                                                                    MaxLength="{StaticResource AttributeMaxLength}"
                                                                    Padding="2,0,2,0"
                                                                    Text="{Binding SelectedProduct.Attribute, UpdateSourceTrigger=PropertyChanged}" />
                                            <TextBlock x:Name="txtblSize"
                                                       Grid.Row="2"
                                                       Grid.Column="1"
                                                       Margin="0,0,200,0"
                                                       HorizontalAlignment="Right"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="{DynamicResource C117}"
                                                       TextWrapping="NoWrap" />
                                            <textBoxControl:TextBox x:Name="txtSize"
                                                                    Grid.Row="2"
                                                                    Grid.Column="1"
                                                                    Width="140"
                                                                    Margin="0,2,45,2"
                                                                    HorizontalAlignment="Right"
                                                                    IsEnabled="{Binding AllowAccessPermission, Mode=OneWay}"
                                                                    MaxLength="{StaticResource SizeMaxLength}"
                                                                    Padding="2,0,2,0"
                                                                    Text="{Binding SelectedProduct.Size, UpdateSourceTrigger=PropertyChanged}" />
                                            <Button x:Name="btnAdd"
                                                    Command="{Binding PopupAttributeAndSizeCommand}"
                                                    Grid.Row="2"
                                                    Grid.Column="1"
                                                    Width="30"
                                                    Margin="0,2,10,2"
                                                    HorizontalAlignment="Right"
                                                    FontSize="12">
                                                <Rectangle x:Name="imgAdd"
                                                           Width="15"
                                                           Height="15"
                                                           Fill="{DynamicResource Add}" />
                                            </Button>
                                            <TextBlock x:Name="txtblItemDescription"
                                                       Grid.Row="3"
                                                       Margin="10,0,0,0"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="{DynamicResource C138}"
                                                       TextWrapping="NoWrap" />
                                            <textBoxControl:TextBox x:Name="txtItemDescription"
                                                                    Grid.Row="3"
                                                                    Grid.RowSpan="4"
                                                                    Grid.Column="1"
                                                                    Margin="0,2,10,2"
                                                                    VerticalContentAlignment="Top"
                                                                    AcceptsReturn="True"
                                                                    IsEnabled="{Binding AllowAccessPermission, Mode=OneWay}"
                                                                    MaxLength="{StaticResource ItemDescriptionMaxLength}"
                                                                    Padding="2,0,2,0"
                                                                    ScrollViewer.VerticalScrollBarVisibility="Auto"
                                                                    Text="{Binding SelectedProduct.Description, UpdateSourceTrigger=PropertyChanged}"
                                                                    TextWrapping="Wrap" />
                                        </Grid>
                                    </GroupBox>
                                    <cpcControl:ImageList Width="160"
                                                          Height="140"
                                                          Margin="522,20,0,0"
                                                          HorizontalAlignment="Left"
                                                          VerticalAlignment="Top"
                                                          BorderBrush="White"
                                                          BorderThickness="1"
                                                          DisplayMemberPath="ImagePath"
                                                          IsEnabled="{Binding UserPermissions.AllowAddProductImage, Mode=OneWay}"
                                                          ItemsSource="{Binding SelectedProduct.PhotoCollection}"
                                                          MaxNumberOfImages="{Binding MaxNumberOfImages}" />
                                    <GroupBox x:Name="gbGroup"
                                              Grid.Row="1"
                                              Width="500"
                                              Margin="10,5,0,5"
                                              HorizontalAlignment="Left">
                                        <GroupBox.Header>
                                            <TextBlock x:Name="txtblGroup"
                                                       Style="{DynamicResource GroupboxTextBlock}"
                                                       Text="Item Group"
                                                       TextWrapping="NoWrap" />
                                        </GroupBox.Header>
                                        <Grid x:Name="grdGroup"
                                              Margin="0,4,0,0">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="25" />
                                                <RowDefinition Height="Auto"
                                                               MinHeight="5.7" />
                                                <RowDefinition />
                                            </Grid.RowDefinitions>
                                            <TextBlock x:Name="txtblSelectItem"
                                                       Margin="10,0,0,0"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="Select Item"
                                                       TextWrapping="NoWrap" />
                                            <control:WatermarkTextBox x:Name="txtBarcodeProduct"
                                                                      Height="21"
                                                                      Margin="86,2,100,2"
                                                                      HorizontalAlignment="Stretch"
                                                                      VerticalAlignment="Center"
                                                                      VerticalContentAlignment="Center"
                                                                      BorderBrush="{DynamicResource TextBoxCanlendarComboboxBorderBrush}"
                                                                      Text="{Binding BarcodeProduct, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                      TextWrapping="NoWrap"
                                                                      Watermark="Input barcode and press enter">
                                                <control:WatermarkTextBox.InputBindings>
                                                    <KeyBinding Key="Enter"
                                                                Command="{Binding SearchProductCommand}" />
                                                </control:WatermarkTextBox.InputBindings>
                                            </control:WatermarkTextBox>
                                            <!--<cpcAutoComplete:AutoCompleteTextBox x:Name="txtSelectItem"
                                                                                 Height="21"
                                                                                 Margin="86,2,100,2"
                                                                                 HorizontalAlignment="Stretch"
                                                                                 AutoChangeSelectedItem="False"
                                                                                 FieldShow="ProductName"
                                                                                 FieldSource="{Binding ProductFieldCollection}"
                                                                                 FilterMode="Contains"
                                                                                 IsTextCompletionEnabled="False"
                                                                                 IsWatermark="True"
                                                                                 ItemsSource="{Binding ProductSubCollection}"
                                                                                 ListViewItemStyle="{StaticResource ListViewItemColorStyle}"
                                                                                 SelectedItemResult="{Binding SelectedSubProduct, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                                 Style="{DynamicResource AutoCompleteWaterMarkStyle}">
                                                <cpcAutoComplete:AutoCompleteTextBox.Columns>
                                                    <GridViewColumn Header="{DynamicResource C175}"
                                                                    Width="150"
                                                                    DisplayMemberBinding="{Binding ProductName}" />
                                                    <GridViewColumn Header="{DynamicResource C116}"
                                                                    Width="70"
                                                                    DisplayMemberBinding="{Binding Attribute}" />
                                                    <GridViewColumn Header="{DynamicResource C117}"
                                                                    Width="70"
                                                                    DisplayMemberBinding="{Binding Size}" />
                                                    <GridViewColumn Header="{DynamicResource C119}"
                                                                    Width="100">
                                                        <GridViewColumn.CellTemplate>
                                                            <DataTemplate>
                                                                <TextBlock HorizontalAlignment="Stretch"
                                                                           FontFamily="Tahoma"
                                                                           FontSize="11"
                                                                           Text="{Binding RegularPrice, ConverterCulture={x:Static local:Define.ConverterCulture}, StringFormat={x:Static local:Define.CurrencyFormat}}"
                                                                           TextAlignment="Right" />
                                                            </DataTemplate>
                                                        </GridViewColumn.CellTemplate>
                                                    </GridViewColumn>
                                                </cpcAutoComplete:AutoCompleteTextBox.Columns>
                                            </cpcAutoComplete:AutoCompleteTextBox>-->
                                            <Button x:Name="btnAdvanceSearch1"
                                                    Command="{Binding SearchProductAdvanceCommand}"
                                                    Width="90"
                                                    Height="21"
                                                    Margin="0,2,5,2"
                                                    HorizontalAlignment="Right">
                                                <TextBlock x:Name="txtblAdvanceSearch"
                                                           VerticalAlignment="Center"
                                                           Style="{DynamicResource ButtonTextBlock}"
                                                           Text="{DynamicResource C104}"
                                                           TextWrapping="NoWrap" />
                                            </Button>
                                            <dataGridControl:DataGridControl x:Name="dtgrdOrder"
                                                                             Grid.Row="2"
                                                                             Margin="5,0.2,5,5"
                                                                             AutoGenerateColumns="False"
                                                                             CanUserAddRows="False"
                                                                             DeleteCommandParameter="{Binding SelectedItem, ElementName=dtgrdOrder}"
                                                                             DeleteItemCommand="{Binding DeleteSubProductCommand}"
                                                                             DisplayItems="{Binding NumberOfDisplayItems}"
                                                                             IsPaging="False"
                                                                             IsReadOnly="True"
                                                                             IsRollBackData="True"
                                                                             ItemsSource="{Binding SelectedProduct.ProductGroupCollection}"
                                                                             NumberOfItems="{Binding SelectedProduct.ProductGroupCollection.Count}"
                                                                             Style="{DynamicResource DatagridWithRowHeader}"
                                                                             VisibilityNavigationBar="Collapsed">
                                                <dataGridControl:DataGridControl.Columns>
                                                    <DataGridTextColumn Binding="{Binding ItemName, Mode=OneWay}"
                                                                        Width="*"
                                                                        HeaderTemplate="{StaticResource DataTemplate_PD_Header_ItemName}" />
                                                    <!--
                                                        <DataGridTextColumn Binding="{Binding ItemAttribute, Mode=OneWay}"
                                                        Width="55"
                                                        HeaderTemplate="{StaticResource DataTemplate_PD_Header_Attribute}" />
                                                        <DataGridTextColumn Binding="{Binding ItemSize, Mode=OneWay}"
                                                        Width="45"
                                                        HeaderTemplate="{StaticResource DataTemplate_PD_Header_Size}" />
                                                    -->
                                                    <DataGridTemplateColumn Header="Qty"
                                                                            Width="45"
                                                                            CellStyle="{StaticResource DataGridCellFocusStyle}"
                                                                            SortMemberPath="Quantity">
                                                        <DataGridTemplateColumn.CellTemplate>
                                                            <DataTemplate>
                                                                <TextBlock HorizontalAlignment="Right"
                                                                           Text="{Binding Quantity, ConverterCulture={x:Static local:Define.ConverterCulture}, Mode=OneWay, StringFormat={x:Static local:Define.NumericFormat}}" />
                                                            </DataTemplate>
                                                        </DataGridTemplateColumn.CellTemplate>
                                                        <DataGridTemplateColumn.CellEditingTemplate>
                                                            <DataTemplate>
                                                                <textBoxControl:TextBoxNumeric HorizontalContentAlignment="Right"
                                                                                               ConverterCulture="{x:Static local:Define.ConverterCulture}"
                                                                                               NumericStringFormat="{x:Static local:Define.NumericFormat}"
                                                                                               Padding="2"
                                                                                               Style="{DynamicResource TextBoxNumericInsideDataGridStyle}"
                                                                                               TextWrapping="NoWrap"
                                                                                               Value="{Binding Quantity, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                                            </DataTemplate>
                                                        </DataGridTemplateColumn.CellEditingTemplate>
                                                    </DataGridTemplateColumn>
                                                    <DataGridTemplateColumn Width="70"
                                                                            HeaderTemplate="{StaticResource DataTemplate_PD_Header_RegPrice}"
                                                                            SortMemberPath="RegularPrice">
                                                        <DataGridTemplateColumn.CellTemplate>
                                                            <DataTemplate>
                                                                <TextBlock HorizontalAlignment="Right"
                                                                           Text="{Binding RegularPrice, ConverterCulture={x:Static local:Define.ConverterCulture}, Mode=OneWay, StringFormat={x:Static local:Define.CurrencyFormat}}" />
                                                            </DataTemplate>
                                                        </DataGridTemplateColumn.CellTemplate>
                                                    </DataGridTemplateColumn>
                                                    <DataGridTemplateColumn Header="UOM"
                                                                            Width="45"
                                                                            CellStyle="{StaticResource DataGridCellFocusStyle}"
                                                                            SortMemberPath="UOM">
                                                        <DataGridTemplateColumn.CellTemplate>
                                                            <DataTemplate>
                                                                <TextBlock Text="{Binding UOM, Mode=OneWay}" />
                                                            </DataTemplate>
                                                        </DataGridTemplateColumn.CellTemplate>
                                                        <DataGridTemplateColumn.CellEditingTemplate>
                                                            <DataTemplate>
                                                                <ComboBox x:Name="cmbUOM"
                                                                          DisplayMemberPath="Name"
                                                                          ItemsSource="{Binding ProductUOMCollection, Mode=OneWay}"
                                                                          SelectedValue="{Binding UOMId, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                          SelectedValuePath="UOMId"
                                                                          Style="{DynamicResource ComboBoxInsideDataGridStyle}" />
                                                            </DataTemplate>
                                                        </DataGridTemplateColumn.CellEditingTemplate>
                                                    </DataGridTemplateColumn>
                                                    <DataGridTemplateColumn Header="Unit Price"
                                                                            Width="80"
                                                                            SortMemberPath="Amount">
                                                        <DataGridTemplateColumn.CellTemplate>
                                                            <DataTemplate>
                                                                <TextBlock HorizontalAlignment="Right"
                                                                           Text="{Binding Amount, ConverterCulture={x:Static local:Define.ConverterCulture}, Mode=OneWay, StringFormat={x:Static local:Define.CurrencyFormat}}" />
                                                            </DataTemplate>
                                                        </DataGridTemplateColumn.CellTemplate>
                                                    </DataGridTemplateColumn>
                                                    <DataGridTemplateColumn Header="On-Hand Qty"
                                                                            Width="75"
                                                                            SortMemberPath="OnHandQty">
                                                        <DataGridTemplateColumn.CellTemplate>
                                                            <DataTemplate>
                                                                <TextBlock HorizontalAlignment="Right"
                                                                           Text="{Binding OnHandQty, ConverterCulture={x:Static local:Define.ConverterCulture}, Mode=OneWay, StringFormat=\{0:N0\}}" />
                                                            </DataTemplate>
                                                        </DataGridTemplateColumn.CellTemplate>
                                                    </DataGridTemplateColumn>
                                                </dataGridControl:DataGridControl.Columns>
                                            </dataGridControl:DataGridControl>
                                        </Grid>
                                    </GroupBox>
                                    <GroupBox x:Name="gbUnitOfMessure"
                                              Grid.Row="1"
                                              Width="194"
                                              Height="52"
                                              Margin="522,5,10,0"
                                              HorizontalAlignment="Left"
                                              VerticalAlignment="Top">
                                        <GroupBox.Header>
                                            <TextBlock x:Name="txtblUnitOfMessure"
                                                       Style="{DynamicResource GroupboxTextBlock}"
                                                       Text="{DynamicResource PD_UnitOfMeasure}"
                                                       TextWrapping="NoWrap" />
                                        </GroupBox.Header>
                                        <Grid x:Name="grdUnitOfMessure"
                                              Margin="0,4,0,0">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="25" />
                                                <RowDefinition />
                                            </Grid.RowDefinitions>
                                            <TextBlock x:Name="txtblBaseUOM"
                                                       Margin="10,0,0,0"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="{DynamicResource PD_BaseUnit}"
                                                       TextWrapping="NoWrap" />
                                            <comboBoxControl:ComboBoxControl x:Name="cmbBaseUOM"
                                                                             Margin="75,2,10,2"
                                                                             VerticalAlignment="Stretch"
                                                                             AddItemCommand="{Binding PopupUOMCommand}"
                                                                             AddItemCommandParameter="0"
                                                                             DisplayMemberPath="Text"
                                                                             HiddenMemberPath="IsChecked"
                                                                             IsEnabled="{Binding AllowAccessPermission, Mode=OneWay}"
                                                                             ItemsSource="{Binding UOMList, Mode=OneWay}"
                                                                             SelectedValue="{Binding SelectedProduct.BaseUOMId, Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnDataErrors=True}"
                                                                             SelectedValuePath="Value"
                                                                             Style="{DynamicResource ComboBoxControl_CheckedItemIsHiddenStyle}" />
                                        </Grid>
                                    </GroupBox>
                                    <GroupBox x:Name="gbPriceLevelsMarkdown"
                                              Grid.Row="1"
                                              Width="194"
                                              Height="150"
                                              Margin="522,0,10,5"
                                              HorizontalAlignment="Left"
                                              VerticalAlignment="Bottom">
                                        <GroupBox.Header>
                                            <TextBlock x:Name="txtblPriceLevelsMarkdown"
                                                       Style="{DynamicResource GroupboxTextBlock}"
                                                       Text="{DynamicResource PD_PriceLevels}"
                                                       TextWrapping="NoWrap" />
                                        </GroupBox.Header>
                                        <Grid x:Name="grdPriceLevelsMarkdown"
                                              Margin="0,4,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="88" />
                                                <ColumnDefinition />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="24" />
                                                <RowDefinition Height="24" />
                                                <RowDefinition Height="24" />
                                                <RowDefinition Height="24" />
                                                <RowDefinition Height="3" />
                                                <RowDefinition Height="25" />
                                            </Grid.RowDefinitions>
                                            <TextBlock x:Name="txtblRegularPrice1"
                                                       Margin="10,0,0,0"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="{DynamicResource C139}"
                                                       TextWrapping="NoWrap" />
                                            <textBoxControl:TextBoxMoney x:Name="txtRegularPrice1"
                                                                         Grid.Column="1"
                                                                         Margin="0,2,10,2"
                                                                         ConverterCulture="{x:Static local:Define.ConverterCulture}"
                                                                         CurrencyStringFormat="{x:Static local:Define.CurrencyFormat}"
                                                                         IsEnabled="{Binding UserPermissions.AllowEditPrice, Mode=OneWay}"
                                                                         IsPermission="{Binding UserPermissions.AllowEditPrice, Mode=OneWay}"
                                                                         Padding="2,0,2,0"
                                                                         Style="{DynamicResource TextBoxMoneyWithPermissionStyle}"
                                                                         TextWrapping="NoWrap"
                                                                         Value="{Binding SelectedProduct.RegularPrice, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                            <TextBlock x:Name="txtblOrderCost"
                                                       Grid.Row="1"
                                                       Margin="10,0,0,0"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="{DynamicResource PD_OrderCost}"
                                                       TextWrapping="NoWrap" />
                                            <textBoxControl:TextBoxMoney x:Name="txtOrderCost"
                                                                         Grid.Row="1"
                                                                         Grid.Column="1"
                                                                         Margin="0,2,10,2"
                                                                         ConverterCulture="{x:Static local:Define.ConverterCulture}"
                                                                         CurrencyStringFormat="{x:Static local:Define.CurrencyFormat}"
                                                                         IsEnabled="{Binding AllowEditCost, Mode=OneWay}"
                                                                         IsPermission="{Binding AllowEditCost, Mode=OneWay}"
                                                                         Padding="2,0,2,0"
                                                                         Style="{DynamicResource TextBoxMoneyWithPermissionStyle}"
                                                                         TextWrapping="NoWrap"
                                                                         Value="{Binding SelectedProduct.OrderCost, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                            <TextBlock x:Name="txtblAvgUnitCost"
                                                       Grid.Row="2"
                                                       Margin="10,0,0,0"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="{DynamicResource PD_AvgUnitCost}"
                                                       TextWrapping="NoWrap" />
                                            <textBoxControl:TextBoxMoney x:Name="txtAvgUnitCost"
                                                                         Grid.Row="2"
                                                                         Grid.Column="1"
                                                                         Margin="0,2,10,2"
                                                                         ConverterCulture="{x:Static local:Define.ConverterCulture}"
                                                                         CurrencyStringFormat="{x:Static local:Define.CurrencyFormat}"
                                                                         IsEnabled="{Binding AllowEditCost, Mode=OneWay}"
                                                                         IsPermission="{Binding AllowEditCost, Mode=OneWay}"
                                                                         Padding="2,0,2,0"
                                                                         Style="{DynamicResource TextBoxMoneyWithPermissionStyle}"
                                                                         TextWrapping="NoWrap"
                                                                         Value="{Binding SelectedProduct.AverageUnitCost, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                            <TextBlock x:Name="txtblTaxCode"
                                                       Grid.Row="3"
                                                       Margin="10,0,0,0"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockNormal}"
                                                       Text="{DynamicResource C144}"
                                                       TextWrapping="NoWrap" />
                                            <ComboBox x:Name="cmbTaxCode"
                                                      Grid.Row="3"
                                                      Grid.Column="1"
                                                      Margin="0,2,10,2"
                                                      VerticalAlignment="Stretch"
                                                      IsEnabled="{Binding AllowAccessPermission, Mode=OneWay}"
                                                      ItemsSource="{Binding SaleTaxLocationList, Mode=OneWay}"
                                                      SelectedValue="{Binding SelectedProduct.TaxCode}" />
                                            <Button x:Name="btnPricing"
                                                    Command="{Binding PopupPricingCommand}"
                                                    Grid.Row="5"
                                                    Grid.ColumnSpan="2"
                                                    Height="21"
                                                    Margin="10,2"
                                                    FontSize="12">
                                                <StackPanel x:Name="stkpBtnPricing"
                                                            HorizontalAlignment="Center"
                                                            VerticalAlignment="Center"
                                                            Orientation="Horizontal">
                                                    <Rectangle x:Name="imgPricing"
                                                               Width="17"
                                                               Height="17"
                                                               Fill="{DynamicResource Pricing}" />
                                                    <TextBlock x:Name="txtblPricing"
                                                               Margin="5,0,0,0"
                                                               VerticalAlignment="Center"
                                                               Style="{DynamicResource ButtonTextBlock}"
                                                               Text="{DynamicResource PD_Pricing}"
                                                               TextWrapping="NoWrap" />
                                                </StackPanel>
                                            </Button>
                                        </Grid>
                                    </GroupBox>
                                </Grid>
                            </Border>
                        </Grid>
                    </Grid>
                </Grid>
            </Grid>
        </control:BusyIndicator>
    </Grid>
</UserControl>