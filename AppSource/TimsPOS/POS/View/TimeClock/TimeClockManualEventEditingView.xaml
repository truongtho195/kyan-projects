<UserControl x:Class="CPC.POS.View.TimeClockManualEventEditingView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:Anno="http://schemas.microsoft.com/expression/blend/extensions/annotations/2008"
             xmlns:command="clr-namespace:CPC.Toolkit.Command"
             xmlns:converter="clr-namespace:CPC.Converter"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:helper="clr-namespace:CPC.Helper"
             xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
             xmlns:local="clr-namespace:CPC.POS"
             xmlns:cpcControl="clr-namespace:CPC.Control"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:Microsoft_Windows_Themes="clr-namespace:Microsoft.Windows.Themes;assembly=PresentationFramework.Luna"
             xmlns:sys="clr-namespace:System;assembly=mscorlib"
             xmlns:timePicker="clr-namespace:TimePicker;assembly=TimePicker"
             xmlns:cpcBehavior="clr-namespace:CPC.Toolkit.Behavior"
             xmlns:wpfTookit="clr-namespace:Xceed.Wpf.Toolkit;assembly=WPFToolkit.Extended"
             xmlns:cpcDatagridControl="clr-namespace:CPCToolkitExt.DataGridControl;assembly=CPCToolkitExt"
             x:Name="UserControl"
             Background="{DynamicResource UserControlBackground}"
             helper:ValidationHelper.IsEnabled="True"
             helper:ValidationHelper.IsValid="{Binding IsValid,
                                                       Mode=OneWayToSource}"
             mc:Ignorable="d Anno">
    <UserControl.Resources>
        <!--  #region Converter  -->
        <converter:EnumToBoolConverter x:Key="enumToBoolConverter" />
        <converter:EnumToBoolConverter x:Key="enumToBoolReserseConverter"
                                       IsReversed="True" />
        <converter:VisibilityToBoolConverter x:Key="visibilityToBoolConverter" />
        <converter:ReserseBoolConverter x:Key="reserseBoolConverter" />
        <converter:RowEditingEnableConverter x:Key="rowEditingEnableConverter" />
        <converter:BoolToVisibilityConverter x:Key="boolToVisibilityConverter" />

        <!--  #Endregion  -->

        <!--  #region DataTemplate  -->
        <DataTemplate x:Key="DataTemplateRowDetailTemplateManualEventEditingSearch">
            <Grid x:Name="Layout"
                  Height="226"
                  HorizontalAlignment="Stretch"
                  VerticalAlignment="Stretch">
                <Rectangle Fill="{DynamicResource Datagrid_RowDetailTemplate_Background1}"
                           Stroke="{DynamicResource Datagrid_RowDetailTemplate_Border}" />
                <cpcDatagridControl:DataGridControl x:Name="dtgrdDate"
                                                    Margin="10,10.2,10,10"
                                                    HorizontalAlignment="Stretch"
                                                    AutoGenerateColumns="False"
                                                    CanUserAddRows="False"
                                                    CanUserDeleteRows="False"
                                                    HorizontalScrollBarVisibility="Disabled"
                                                    ItemsSource="{Binding TimeLogCollection}"
                                                    SelectionMode="Single"
                                                    IsRollBackData="False"
                                                    Style="{DynamicResource DatagridWithRowHeader}"
                                                    SelectionUnit="FullRow"
                                                    SnapsToDevicePixels="True" NumberOfItems="{Binding TotalTimeLog, Mode=OneWay}">
                    <!--
                    IsRollBackData="False"
                    Style="{DynamicResource DatagridWithoutRowHeader}"
                    -->
                    <cpcDatagridControl:DataGridControl.GroupStyle>
                        <GroupStyle>
                            <GroupStyle.ContainerStyle>
                                <Style TargetType="{x:Type GroupItem}">
                                    <Setter Property="Background"
                                            Value="Aqua" />
                                    <Setter Property="Template"
                                            Value="{DynamicResource DataGridGroupControlTemplate}" />
                                </Style>
                            </GroupStyle.ContainerStyle>
                        </GroupStyle>
                    </cpcDatagridControl:DataGridControl.GroupStyle>
                    <cpcDatagridControl:DataGridControl.Columns>
                        <DataGridTemplateColumn Width="90"
                                                Header="Date"
                                                IsReadOnly="True"
                                                SortMemberPath="tims_TimeLog.ClockIn">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock HorizontalAlignment="Right"
                                               Text="{Binding ClockIn, Mode=OneWay, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:ddd MM/dd/yyyy}}" />
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Width="*"
                                                Header="In"
                                                IsReadOnly="True"
                                                SortMemberPath="ClockIn">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition />
                                            <ColumnDefinition Width="30" />
                                        </Grid.ColumnDefinitions>
                                        <TextBlock x:Name="tbIn"
                                                   Margin="0"
                                                   HorizontalAlignment="Right"
                                                   Focusable="False"
                                                   Text="{Binding ClockIn,
                                                                  Mode=OneWay,
                                                                  NotifyOnValidationError=True,
                                                                  StringFormat=t,
                                                                  UpdateSourceTrigger=PropertyChanged,
                                                                  ValidatesOnDataErrors=True}" />
                                        <Rectangle x:Name="imgOutManual"
                                                   Grid.Column="1"
                                                   Width="15"
                                                   Height="15"
                                                   Fill="{DynamicResource TimeClockEdit}"
                                                   ToolTip="Manual Edited"
                                                   Visibility="{Binding tims_TimeLog.ManualClockInFlag,
                                                                        Converter={StaticResource boolToVisibilityConverter}}" />
                                    </Grid>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Width="*"
                                                Header="Out"
                                                IsReadOnly="True"
                                                SortMemberPath="ClockOut">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition />
                                            <ColumnDefinition Width="30" />
                                        </Grid.ColumnDefinitions>
                                        <TextBlock x:Name="tbOut"
                                                   Margin="0"
                                                   HorizontalAlignment="Right"
                                                   Focusable="False"
                                                   Text="{Binding ClockOut,
                                                                  Mode=OneWay,
                                                                  NotifyOnValidationError=True,
                                                                  StringFormat=\{0:ddd hh\\:mm tt\},
                                                                  UpdateSourceTrigger=PropertyChanged,
                                                                  ValidatesOnDataErrors=True}" />
                                        <Rectangle x:Name="imgOutManual"
                                                   Grid.Column="1"
                                                   Width="15"
                                                   Height="15"
                                                   Fill="{DynamicResource TimeClockEdit}"
                                                   ToolTip="Manual Edited"
                                                   Visibility="{Binding tims_TimeLog.ManualClockOutFlag,
                                                                        Converter={StaticResource boolToVisibilityConverter}}" />
                                    </Grid>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTextColumn Width="100"
                                            Binding="{Binding DurationText,
                                                              Mode=OneWay,
                                                              UpdateSourceTrigger=PropertyChanged}"
                                            Header="Duration"
                                            IsReadOnly="True" />
                        <DataGridTextColumn Width="70"
                                            Binding="{Binding OverTimeExt,
                                                              Mode=OneWay,
                                                              
                                                              UpdateSourceTrigger=PropertyChanged}"
                                            Header="Overtime"
                                            IsReadOnly="True" />
                        <DataGridTextColumn Width="70"
                                            Binding="{Binding LateTimeExt,
                                                              Mode=OneWay,
                                                              UpdateSourceTrigger=PropertyChanged}"
                                            Header="Late Time"
                                            IsReadOnly="True" />
                        <DataGridTextColumn Width="70"
                                            Binding="{Binding LeaveEarlyTimeExt,
                                                              Mode=OneWay,
                                                              UpdateSourceTrigger=PropertyChanged}"
                                            Header="Leave Early"
                                            IsReadOnly="True" />
                        <DataGridTemplateColumn MinWidth="30">
                            <DataGridTemplateColumn.HeaderTemplate>
                                <DataTemplate>
                                    <Rectangle x:Name="Importance"
                                               Width="17"
                                               Height="17"
                                               Fill="{DynamicResource ViewPermission}" />
                                </DataTemplate>
                            </DataGridTemplateColumn.HeaderTemplate>
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Rectangle x:Name="rctWorkWeek"
                                               Width="17"
                                               Height="17"
                                               Fill="{DynamicResource ViewPermission}">
                                        <Rectangle.ToolTip>
                                            <TextBlock MaxWidth="200"
                                                       MaxHeight="250"
                                                       Text="{Binding WorkPermissionText,
                                                                      Mode=OneWay}"
                                                       TextTrimming="WordEllipsis" />
                                        </Rectangle.ToolTip>
                                    </Rectangle>
                                    <DataTemplate.Triggers>
                                        <DataTrigger Binding="{Binding tims_TimeLog.tims_WorkPermission.Count}"
                                                     Value="0">
                                            <Setter TargetName="rctWorkWeek"
                                                    Property="Visibility"
                                                    Value="Collapsed" />
                                        </DataTrigger>
                                    </DataTemplate.Triggers>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn MinWidth="30">
                            <DataGridTemplateColumn.HeaderTemplate>
                                <DataTemplate>
                                    <Rectangle x:Name="Note"
                                               Width="17"
                                               Height="17"
                                               Fill="{DynamicResource Remark}" />
                                </DataTemplate>
                            </DataGridTemplateColumn.HeaderTemplate>
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Rectangle x:Name="rtNote"
                                               Width="17"
                                               Height="17"
                                               Fill="{DynamicResource Remark}">
                                        <Rectangle.ToolTip>
                                            <TextBlock Height="20"
                                                       MaxWidth="200"
                                                       Text="{Binding Reason,
                                                                      Mode=OneWay}"
                                                       TextTrimming="WordEllipsis" />
                                        </Rectangle.ToolTip>
                                    </Rectangle>
                                    <DataTemplate.Triggers>
                                        <DataTrigger Binding="{Binding Reason}"
                                                     Value="{x:Static sys:String.Empty}">
                                            <Setter TargetName="rtNote"
                                                    Property="Visibility"
                                                    Value="Collapsed" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Reason}"
                                                     Value="{x:Null}">
                                            <Setter TargetName="rtNote"
                                                    Property="Visibility"
                                                    Value="Collapsed" />
                                        </DataTrigger>
                                    </DataTemplate.Triggers>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </cpcDatagridControl:DataGridControl.Columns>
                </cpcDatagridControl:DataGridControl>
            </Grid>
        </DataTemplate>

        <!--  DataTemplateRowDetailTemplateOvertime  -->
        <DataTemplate x:Key="DataTemplateRowDetailTemplateOvertime">
            <Grid x:Name="Layout1"
                  Margin="0"
                  VerticalAlignment="Top">
                <ScrollViewer x:Name="svRowDetailOTTemplate"
                              Width="Auto"
                              Height="Auto"
                              HorizontalAlignment="Stretch"
                              VerticalAlignment="Stretch"
                              VerticalScrollBarVisibility="Disabled">
                    <cpcControl:GridReadOnlyControl x:Name="grdOTTemplate"
                                                    Height="Auto"
                                                    Background="{DynamicResource Datagrid_RowDetailTemplate_Background1}">
                        <cpcControl:GridReadOnlyControl.IsReadOnly>
                            <!--  <MultiBinding Converter="{StaticResource rowEditingEnableConverter}">  -->
                            <Binding Path="RowDetailEditing" />
                            <!--  </MultiBinding>  -->
                        </cpcControl:GridReadOnlyControl.IsReadOnly>
                        <Border x:Name="brdOTrTemplate"
                                Margin="15"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch"
                                BorderBrush="White"
                                BorderThickness="1"
                                d:LayoutOverrides="GridBox">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0.5,0"
                                                     EndPoint="0.5,1">
                                    <GradientStop Offset="1"
                                                  Color="#FF262626" />
                                    <GradientStop Offset="0.541"
                                                  Color="#FF333333" />
                                    <GradientStop Offset="0.004"
                                                  Color="Black" />
                                </LinearGradientBrush>
                            </Border.Background>
                            <Grid x:Name="grdTemplateOT"
                                  Margin="0,0,20,0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="25" />
                                    <RowDefinition Height="25" />
                                    <RowDefinition Height="25" />
                                    <RowDefinition Height="25" />
                                    <RowDefinition Height="25" />
                                    <RowDefinition Height="10" />
                                </Grid.RowDefinitions>
                                <!--  Overtime Collapse  -->
                                <CheckBox x:Name="cbOvertimeBefore"
                                          Grid.Row="1"
                                          Margin="10,0,0,0"
                                          HorizontalAlignment="Left"
                                          VerticalAlignment="Center"
                                          Content="  Overtime before the Clock-In hour."
                                          IsChecked="{Binding OvertimeOptions,
                                                              ConverterParameter={x:Static local:Overtime.Before},
                                                              Converter={StaticResource enumToBoolConverter},
                                                              UpdateSourceTrigger=PropertyChanged,
                                                              NotifyOnValidationError=True,
                                                              ValidatesOnDataErrors=True}"
                                          IsEnabled="{Binding WorkPermissionOT,
                                                              Mode=TwoWay,
                                                              ConverterParameter={x:Static local:Overtime.Before},
                                                              Converter={StaticResource enumToBoolReserseConverter},
                                                              UpdateSourceTrigger=PropertyChanged}"
                                          d:LayoutOverrides="Width" />
                                <CheckBox x:Name="cbOvertimeDuring"
                                          Grid.Row="2"
                                          Grid.Column="1"
                                          Margin="10,0,0,0"
                                          HorizontalAlignment="Left"
                                          VerticalAlignment="Center"
                                          Content="  Overtime during break/ lunch time."
                                          IsChecked="{Binding OvertimeOptions,
                                                              ConverterParameter={x:Static local:Overtime.Break},
                                                              Converter={StaticResource enumToBoolConverter},
                                                              UpdateSourceTrigger=PropertyChanged,
                                                              NotifyOnValidationError=True,
                                                              ValidatesOnDataErrors=True}"
                                          IsEnabled="{Binding WorkPermissionOT,
                                                              Mode=TwoWay,
                                                              ConverterParameter={x:Static local:Overtime.Break},
                                                              Converter={StaticResource enumToBoolReserseConverter},
                                                              UpdateSourceTrigger=PropertyChanged}"
                                          d:LayoutOverrides="Width" />
                                <CheckBox x:Name="cbOvertimeAfter"
                                          Grid.Row="1"
                                          Margin="240,0,0,0"
                                          HorizontalAlignment="Left"
                                          VerticalAlignment="Center"
                                          Content="  Overtime after the Clock-Out hour."
                                          IsChecked="{Binding OvertimeOptions,
                                                              ConverterParameter={x:Static local:Overtime.After},
                                                              Converter={StaticResource enumToBoolConverter},
                                                              UpdateSourceTrigger=PropertyChanged,
                                                              NotifyOnValidationError=True,
                                                              ValidatesOnDataErrors=True}"
                                          IsEnabled="{Binding WorkPermissionOT,
                                                              Mode=TwoWay,
                                                              ConverterParameter={x:Static local:Overtime.After},
                                                              Converter={StaticResource enumToBoolReserseConverter},
                                                              UpdateSourceTrigger=PropertyChanged}" />
                                <CheckBox x:Name="cbOvertimeHoliday"
                                          Grid.Row="2"
                                          Grid.Column="2"
                                          Margin="240,0,0,0"
                                          HorizontalAlignment="Left"
                                          VerticalAlignment="Center"
                                          Content="  Overtime on holiday or days - off."
                                          IsChecked="{Binding OvertimeOptions,
                                                              ConverterParameter={x:Static local:Overtime.Holiday},
                                                              Converter={StaticResource enumToBoolConverter},
                                                              UpdateSourceTrigger=PropertyChanged,
                                                              NotifyOnValidationError=True,
                                                              ValidatesOnDataErrors=True}"
                                          IsEnabled="{Binding WorkPermissionOT,
                                                              Mode=TwoWay,
                                                              ConverterParameter={x:Static local:Overtime.Holiday},
                                                              Converter={StaticResource enumToBoolReserseConverter},
                                                              UpdateSourceTrigger=PropertyChanged}" />
                                <Rectangle x:Name="line"
                                           Grid.Row="3"
                                           Height="1"
                                           Margin="0,0,-20,0"
                                           Fill="#FFF4F4F5" />
                                <CheckBox x:Name="cbAutomaticReduct"
                                          Grid.Row="4"
                                          Margin="10,0,0,0"
                                          HorizontalAlignment="Left"
                                          VerticalAlignment="Center"
                                          Content="  Automatic deduct lunch time when it is not registered during the assigned time."
                                          IsChecked="{Binding DeductLunchTimeFlag,
                                                              Mode=TwoWay,
                                                              UpdateSourceTrigger=PropertyChanged}"
                                          d:LayoutOverrides="Height, GridBox" />
                            </Grid>
                        </Border>
                    </cpcControl:GridReadOnlyControl>
                </ScrollViewer>
            </Grid>
        </DataTemplate>

        <!--  DateReadOnlyTemplate for dtgrdTimeClockCorrection  -->
        <DataTemplate x:Key="DateReadOnlyTemplate">
            <Grid>
                <TextBlock x:Name="txtblDate"
                           HorizontalAlignment="Stretch"
                           Text="{Binding Path=ClockInDate,
                                          Mode=OneWay,
                                          UpdateSourceTrigger=PropertyChanged,
                                          NotifyOnValidationError=True,
                                          ValidatesOnDataErrors=True,
                                          StringFormat={}{0:ddd MM/dd/yyyy}}" />
                <DatePicker x:Name="dpkDate"
                            HorizontalAlignment="Stretch"
                            BorderBrush="Black"
                            SelectedDate="{Binding Path=ClockInDate,
                                                   Mode=TwoWay,
                                                   NotifyOnValidationError=True,
                                                   UpdateSourceTrigger=PropertyChanged,
                                                   ValidatesOnDataErrors=True}"
                            Visibility="Collapsed" />
            </Grid>
            <DataTemplate.Triggers>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding Editing}"
                                   Value="True" />
                        <Condition Binding="{Binding IsKeyboardFocusWithin, RelativeSource={RelativeSource AncestorType=DataGridCell, Mode=FindAncestor}, TargetNullValue=False, FallbackValue=False}"
                                   Value="True" />
                    </MultiDataTrigger.Conditions>
                    <Setter TargetName="txtblDate"
                            Property="Visibility"
                            Value="Collapsed" />
                    <Setter TargetName="dpkDate"
                            Property="Visibility"
                            Value="Visible" />
                    <Setter TargetName="dpkDate"
                            Property="FocusManager.FocusedElement"
                            Value="{Binding ElementName=dpkDate}" />
                </MultiDataTrigger>
                <DataTrigger Binding="{Binding IsNew}"
                             Value="false">
                    <Setter TargetName="dpkDate"
                            Property="Visibility"
                            Value="Collapsed" />
                    <Setter TargetName="txtblDate"
                            Property="Visibility"
                            Value="Visible" />
                </DataTrigger>
            </DataTemplate.Triggers>

        </DataTemplate>

        <!--  Clock In CellTemplate for dtgrdTimeClockCorrection  -->
        <DataTemplate x:Key="ClockInCellTemplate">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition Width="30" />
                </Grid.ColumnDefinitions>
                <AdornerDecorator Grid.Column="0"
                                  Margin="0,0,3,0">
                    <Grid Margin="0">
                        <TextBlock x:Name="txtblWorkIn"
                                   Margin="0"
                                   HorizontalAlignment="Stretch"
                                   Focusable="False"
                                   Style="{StaticResource TextBlockValidation}"
                                   Text="{Binding Path=ClockIn,
                                                  Mode=OneWay,
                                                  UpdateSourceTrigger=PropertyChanged,
                                                  ValidatesOnDataErrors=True,
                                                  NotifyOnValidationError=True,
                                                  StringFormat=\t}" />
                        <timePicker:TimePickerControl x:Name="tpkWorkIn"
                                                      HorizontalAlignment="Stretch"
                                                      Background="White"
                                                      BorderBrush="Black"
                                                      ButtonUpDownStyle="{StaticResource ButtonUpDownStyle}"
                                                      IsDisplayDayOfWeek="False"
                                                      IsFormat12Hour="True"
                                                      RealTime="{Binding Path=ClockIn,
                                                                         Mode=TwoWay,
                                                                         UpdateSourceTrigger=PropertyChanged,
                                                                         ValidatesOnDataErrors=True,
                                                                         NotifyOnValidationError=True}"
                                                      Visibility="Collapsed" />
                    </Grid>
                </AdornerDecorator>
                <Rectangle x:Name="imgOutManual"
                           Grid.Column="1"
                           Width="15"
                           Height="15"
                           Fill="{DynamicResource TimeClockEdit}"
                           ToolTip="Manual Edited" />

            </Grid>

            <DataTemplate.Triggers>
                <DataTrigger Binding="{Binding ManualClockInFlag, UpdateSourceTrigger=PropertyChanged}"
                             Value="False">
                    <Setter TargetName="imgOutManual"
                            Property="Visibility"
                            Value="Hidden" />
                </DataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding Editing}"
                                   Value="True" />
                        <Condition Binding="{Binding IsKeyboardFocusWithin, RelativeSource={RelativeSource AncestorType={x:Type DataGridCell}, Mode=FindAncestor}, TargetNullValue=False,FallbackValue=False}"
                                   Value="True" />
                    </MultiDataTrigger.Conditions>
                    <Setter TargetName="txtblWorkIn"
                            Property="Visibility"
                            Value="Collapsed" />
                    <Setter TargetName="tpkWorkIn"
                            Property="Visibility"
                            Value="Visible" />
                    <Setter TargetName="tpkWorkIn"
                            Property="FocusManager.FocusedElement"
                            Value="{Binding ElementName=tpkWorkIn}" />
                </MultiDataTrigger>
            </DataTemplate.Triggers>
        </DataTemplate>

        <!--  ClockOutCellTemplate for dtgrdTimeClockCorrection  -->
        <DataTemplate x:Key="ClockOutCellTemplate">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition Width="30" />
                </Grid.ColumnDefinitions>
                <AdornerDecorator Grid.Column="0"
                                  Margin="0,0,3,0">
                    <Grid Margin="5,0,0,0">
                        <TextBlock x:Name="txtblWorkOut"
                                   Margin="0"
                                   HorizontalAlignment="Stretch"
                                   Focusable="False"
                                   Style="{StaticResource TextBlockValidation}"
                                   Text="{Binding Path=ClockOut,
                                                  Mode=OneWay,
                                                  UpdateSourceTrigger=PropertyChanged,
                                                  ValidatesOnDataErrors=True,
                                                  NotifyOnValidationError=True,
                                                  StringFormat=\{0:ddd hh\\:mm tt\}}" />
                        <timePicker:TimePickerControl x:Name="tpkWorkOut"
                                                      HorizontalAlignment="Stretch"
                                                      Background="White"
                                                      BorderBrush="Black"
                                                      ButtonUpDownStyle="{StaticResource ButtonUpDownStyle}"
                                                      IsDisplayDayOfWeek="True"
                                                      IsFormat12Hour="True"
                                                      RealTime="{Binding Path=ClockOut,
                                                                         Mode=TwoWay,
                                                                         UpdateSourceTrigger=PropertyChanged,
                                                                         ValidatesOnDataErrors=True,
                                                                         NotifyOnValidationError=True}"
                                                      Visibility="Collapsed" />
                    </Grid>
                </AdornerDecorator>
                <Rectangle x:Name="imgOutManual"
                           Grid.Column="1"
                           Width="15"
                           Height="15"
                           Fill="{DynamicResource TimeClockEdit}"
                           ToolTip="Manual Edited" />

            </Grid>
            <DataTemplate.Triggers>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding Editing}"
                                   Value="True" />
                        <Condition Binding="{Binding IsKeyboardFocusWithin, RelativeSource={RelativeSource AncestorType=DataGridCell, Mode=FindAncestor},FallbackValue=False, TargetNullValue=False}"
                                   Value="True" />
                    </MultiDataTrigger.Conditions>
                    <Setter TargetName="txtblWorkOut"
                            Property="Visibility"
                            Value="Collapsed" />
                    <Setter TargetName="tpkWorkOut"
                            Property="Visibility"
                            Value="Visible" />
                    <Setter TargetName="tpkWorkOut"
                            Property="FocusManager.FocusedElement"
                            Value="{Binding ElementName=tpkWorkOut}" />
                </MultiDataTrigger>
                <DataTrigger Binding="{Binding ManualClockOutFlag}"
                             Value="False">
                    <Setter TargetName="imgOutManual"
                            Property="Visibility"
                            Value="Hidden" />
                </DataTrigger>
            </DataTemplate.Triggers>
        </DataTemplate>
        <!--  ReasonCellTemplate for dtgrdTimeClockCorrection  -->
        <DataTemplate x:Key="ReasonCellTemplate">
            <Grid>
                <TextBlock x:Name="txtblReason"
                           Margin="0,0,8,0"
                           Text="{Binding Path=Reason,
                                          Mode=OneWay,
                                          NotifyOnValidationError=True,
                                          UpdateSourceTrigger=PropertyChanged,
                                          ValidatesOnDataErrors=True}"
                           Validation.ErrorTemplate="{DynamicResource DataErrorRightTemplate}" />
                <TextBox x:Name="txtReason"
                         MinWidth="50"
                         Margin="0,0,8,0"
                         AcceptsReturn="False"
                         BorderBrush="Black"
                         Text="{Binding Path=Reason,
                                        Mode=TwoWay,
                                        NotifyOnValidationError=True,
                                        UpdateSourceTrigger=PropertyChanged,
                                        ValidatesOnDataErrors=True}"
                         Validation.ErrorTemplate="{DynamicResource DataErrorRightTemplate}"
                         Visibility="Collapsed" />
            </Grid>
            <DataTemplate.Triggers>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding Editing}"
                                   Value="True" />
                        <Condition Binding="{Binding IsKeyboardFocusWithin, RelativeSource={RelativeSource AncestorType=DataGridCell, Mode=FindAncestor}, TargetNullValue=False, FallbackValue=False}"
                                   Value="True" />
                    </MultiDataTrigger.Conditions>
                    <Setter TargetName="txtblReason"
                            Property="Visibility"
                            Value="Collapsed" />
                    <Setter TargetName="txtReason"
                            Property="Visibility"
                            Value="Visible" />
                    <Setter TargetName="txtReason"
                            Property="FocusManager.FocusedElement"
                            Value="{Binding ElementName=txtReason}" />
                </MultiDataTrigger>
            </DataTemplate.Triggers>
        </DataTemplate>

        <!--  Control Template Group Item  -->



        <ControlTemplate x:Key="DataGridGroupControlTemplate"
                         TargetType="{x:Type GroupItem}">
            <Border x:Name="DGR_Border"
                    SnapsToDevicePixels="True">
                <SelectiveScrollingGrid>
                    <SelectiveScrollingGrid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                    </SelectiveScrollingGrid.ColumnDefinitions>
                    <SelectiveScrollingGrid.RowDefinitions>
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                    </SelectiveScrollingGrid.RowDefinitions>
                    <Grid Grid.ColumnSpan="1">
                        <Grid.Style>
                            <Style TargetType="{x:Type Grid}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Name}"
                                                 Value="{x:Static sys:String.Empty}">
                                        <Setter Property="Visibility"
                                                Value="Collapsed" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding Name}"
                                                 Value="{x:Null}">
                                        <Setter Property="Visibility"
                                                Value="Collapsed" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Grid.Style>
                        <TextBlock Height="25"
                                   Margin="3,0"
                                   VerticalAlignment="Center"
                                   FontWeight="Bold"
                                   Text="{Binding Name}" />
                        <Separator HorizontalAlignment="Stretch"
                                   VerticalAlignment="Bottom"
                                   Background="#FF939187" />
                    </Grid>
                    <ItemsPresenter Grid.Row="1"
                                    HorizontalAlignment="Left" />
                </SelectiveScrollingGrid>
            </Border>
        </ControlTemplate>
        <!--  #endregion DataTemplate  -->

        <!--  #region Style  -->
        <Style x:Key="DataGridRowStyle"
               BasedOn="{StaticResource {x:Type DataGridRow}}"
               TargetType="{x:Type DataGridRow}">
            <Setter Property="Background"
                    Value="{DynamicResource {x:Static SystemColors.WindowBrushKey}}" />
            <Setter Property="SnapsToDevicePixels"
                    Value="true" />
            <Setter Property="Validation.ErrorTemplate"
                    Value="{x:Null}" />
            <Setter Property="ValidationErrorTemplate">
                <Setter.Value>
                    <ControlTemplate>
                        <TextBlock Margin="2,0,0,0"
                                   VerticalAlignment="Center"
                                   Foreground="Red"
                                   Text="" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type DataGridRow}">
                        <Border x:Name="DGR_Border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                SnapsToDevicePixels="True">
                            <SelectiveScrollingGrid>
                                <SelectiveScrollingGrid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </SelectiveScrollingGrid.ColumnDefinitions>
                                <SelectiveScrollingGrid.RowDefinitions>
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="Auto" />
                                </SelectiveScrollingGrid.RowDefinitions>
                                <DataGridCellsPresenter Grid.Column="1"
                                                        ItemsPanel="{TemplateBinding ItemsPanel}"
                                                        SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                <!--  Visibility="{TemplateBinding DetailsVisibility}"  -->
                                <DataGridDetailsPresenter Grid.Row="1"
                                                          Grid.Column="1"
                                                          SelectiveScrollingGrid.SelectiveScrollingOrientation="{Binding AreRowDetailsFrozen,
                                                                                                                         ConverterParameter={x:Static SelectiveScrollingOrientation.Vertical},
                                                                                                                         Converter={x:Static DataGrid.RowDetailsScrollingConverter},
                                                                                                                         RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}">
                                    <DataGridDetailsPresenter.Visibility>
                                        <Binding Converter="{StaticResource boolToVisibilityConverter}"
                                                 Mode="TwoWay"
                                                 Path="IsChecked" />
                                    </DataGridDetailsPresenter.Visibility>
                                </DataGridDetailsPresenter>

                                <DataGridRowHeader Grid.RowSpan="2"
                                                   SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical"
                                                   Visibility="{Binding HeadersVisibility,
                                                                        ConverterParameter={x:Static DataGridHeadersVisibility.Row},
                                                                        Converter={x:Static DataGrid.HeadersVisibilityConverter},
                                                                        RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}" />
                            </SelectiveScrollingGrid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!--  DataError Template  -->
        <ControlTemplate x:Key="DataErrorRightTemplate">
            <DockPanel>
                <TextBlock Margin="2,0,0,0"
                           VerticalAlignment="Center"
                           DockPanel.Dock="Left"
                           FontSize="16"
                           Foreground="Red"
                           Text="!"
                           ToolTip="{Binding Path=AdornedElement.(Validation.Errors).CurrentItem.ErrorContent,
                                             ElementName=adornedElementPlaceholder}" />
                <AdornedElementPlaceholder x:Name="adornedElementPlaceholder" />
            </DockPanel>
        </ControlTemplate>
        <!--Datagrid Style With Tooggle Button-->
        
        
        <Style x:Key="DatagridWithRowHeader_ManuEvent"
        	TargetType="{x:Type cpcControl:DataGridEditable}">
        	<Setter Property="Background"
        		Value="{StaticResource DatagridBackground}" />
        	<Setter Property="Foreground"
        		Value="{StaticResource DatagridForeground}" />
        	<Setter Property="BorderBrush"
        		Value="{StaticResource DatagridBorderBrush}" />
        	<Setter Property="BorderThickness"
        		Value="1,1,1,1" />
        	<Setter Property="RowDetailsVisibilityMode"
        		Value="VisibleWhenSelected" />
        	<Setter Property="ScrollViewer.CanContentScroll"
        		Value="True" />
        	<Setter Property="Template">
        		<Setter.Value>
        			<ControlTemplate TargetType="{x:Type DataGrid}">
        				<Border Background="{TemplateBinding Background}"
        					BorderBrush="{TemplateBinding BorderBrush}"
        					BorderThickness="{TemplateBinding BorderThickness}"
        					Padding="{TemplateBinding Padding}">
        					<ScrollViewer x:Name="DG_ScrollViewer"
        						Focusable="False">
        						<ScrollViewer.Template>
        							<ControlTemplate TargetType="{x:Type ScrollViewer}">
        								<Grid>
        									<Grid.ColumnDefinitions>
        										<ColumnDefinition Width="Auto" />
        										<ColumnDefinition Width="*" />
        										<ColumnDefinition Width="Auto" />
        									</Grid.ColumnDefinitions>
        									<Grid.RowDefinitions>
        										<RowDefinition Height="Auto" />
        										<RowDefinition Height="*" />
        										<RowDefinition Height="Auto" />
        									</Grid.RowDefinitions>
        									<Button Command="{x:Static DataGrid.SelectAllCommand}"
        										Width="{Binding CellsPanelHorizontalOffset, RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}"
        										Focusable="false"
        										Style="{StaticResource {ComponentResourceKey ResourceId=DataGridSelectAllButtonStyle, TypeInTargetAssembly={x:Type DataGrid}}}"
        										Visibility="{Binding HeadersVisibility, ConverterParameter={x:Static DataGridHeadersVisibility.All}, Converter={x:Static DataGrid.HeadersVisibilityConverter}, RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}" />
        									<DataGridColumnHeadersPresenter x:Name="PART_ColumnHeadersPresenter"
        										Margin="0,-0.25,0,0"
        										Grid.Column="1">
        										<DataGridColumnHeadersPresenter.Visibility>
        											<Binding Path="HeadersVisibility"
        												RelativeSource="{RelativeSource FindAncestor, AncestorLevel=1, AncestorType={x:Type DataGrid}}">
        												<Binding.ConverterParameter>
        													<DataGridHeadersVisibility>Column</DataGridHeadersVisibility>
        												</Binding.ConverterParameter>
        											</Binding>
        										</DataGridColumnHeadersPresenter.Visibility>
        									</DataGridColumnHeadersPresenter>
        									<ScrollContentPresenter x:Name="PART_ScrollContentPresenter"
        										Grid.Row="1"
        										Grid.ColumnSpan="2"
        										CanContentScroll="{TemplateBinding CanContentScroll}"
        										CanHorizontallyScroll="False"
        										CanVerticallyScroll="False"
        										Content="{TemplateBinding Content}"
        										ContentStringFormat="{TemplateBinding ContentStringFormat}"
        										ContentTemplate="{TemplateBinding ContentTemplate}" />
        									<Border x:Name="brdCornerVerticalScrollBarColumnHeader"
        										Grid.Row="0"
        										Grid.Column="2"
        										Width="Auto"
        										Height="Auto"
        										HorizontalAlignment="Stretch"
        										VerticalAlignment="Stretch"
        										Background="{StaticResource DatagridColumnHeaderBackground}"
        										BorderBrush="{StaticResource DatagridColumnHeaderBorder}"
        										BorderThickness="0,0,0,1" />
        									<ScrollBar x:Name="PART_VerticalScrollBar"
        										Grid.Row="1"
        										Grid.Column="2"
        										Maximum="{TemplateBinding ScrollableHeight}"
        										Orientation="Vertical"
        										ViewportSize="{TemplateBinding ViewportHeight}"
        										Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}"
        										Value="{Binding VerticalOffset, Mode=OneWay, RelativeSource={RelativeSource TemplatedParent}}" />
        									<Rectangle x:Name="CornerVerticalHorizontalScrollBar"
        										Grid.Row="2"
        										Grid.Column="2"
        										Width="Auto"
        										Height="Auto"
        										VerticalAlignment="Stretch"
        										Fill="{StaticResource ScrollBar_Background}" />
        									<Grid Grid.Row="2"
        										Grid.Column="1">
        										<Grid.ColumnDefinitions>
        											<ColumnDefinition Width="{Binding NonFrozenColumnsViewportHorizontalOffset, RelativeSource={RelativeSource FindAncestor, AncestorLevel=1, AncestorType={x:Type DataGrid}}}" />
        											<ColumnDefinition Width="*" />
        										</Grid.ColumnDefinitions>
        										<ScrollBar x:Name="PART_HorizontalScrollBar"
        											Grid.Column="1"
        											Maximum="{TemplateBinding ScrollableWidth}"
        											Orientation="Horizontal"
        											ViewportSize="{TemplateBinding ViewportWidth}"
        											Visibility="{TemplateBinding ComputedHorizontalScrollBarVisibility}"
        											Value="{Binding HorizontalOffset, Mode=OneWay, RelativeSource={RelativeSource TemplatedParent}}" />
        									</Grid>
        								</Grid>
        							</ControlTemplate>
        						</ScrollViewer.Template>
        						<ItemsPresenter SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
        					</ScrollViewer>
        				</Border>
        			</ControlTemplate>
        		</Setter.Value>
        	</Setter>
        	<Setter Property="AlternatingRowBackground"
        		Value="{StaticResource DatagridAlternatingRowbackground}" />
        	<Setter Property="HorizontalGridLinesBrush"
        		Value="{StaticResource DatagridHorizontal_VerticalGridLinesBrush}" />
        	<Setter Property="VerticalGridLinesBrush"
        		Value="{StaticResource DatagridHorizontal_VerticalGridLinesBrush}" />
        	<Setter Property="RowHeaderWidth"
        		Value="16" />
        	<Setter Property="GridLinesVisibility"
        		Value="All" />
        	<Setter Property="SnapsToDevicePixels"
        		Value="True" />
        	<Setter Property="RowHeight" Value="25"/>
        	<Setter Property="ColumnHeaderHeight" Value="28"/>
        	<Style.Triggers>
        		<Trigger Property="IsGrouping"
        			Value="True">
        			<Setter Property="ScrollViewer.CanContentScroll"
        				Value="False" />
        		</Trigger>
        	</Style.Triggers>
        </Style>
        <Style x:Key="DataGridColumnHeader_ManuEvent" TargetType="{x:Type DataGridColumnHeader}">
		<Setter Property="VerticalContentAlignment" Value="Center  "/>
		<Setter Property="BorderThickness" Value="0,0,0,1"/>
		<Setter Property="BorderBrush" Value="{DynamicResource DatagridColumnHeaderBorder}"/>
		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="{x:Type DataGridColumnHeader}">
					<Grid x:Name="grid">
						<Microsoft_Windows_Themes:DataGridHeaderBorder BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Padding="{TemplateBinding Padding}" IsClickable="{TemplateBinding CanUserSort}" IsHovered="{TemplateBinding IsMouseOver}" IsPressed="{TemplateBinding IsPressed}" SeparatorBrush="{TemplateBinding SeparatorBrush}" SeparatorVisibility="{TemplateBinding SeparatorVisibility}" SortDirection="{TemplateBinding SortDirection}" x:Name="dataGridHeaderBorder" Background="{DynamicResource DatagridColumnHeaderBackground}">
							<ContentPresenter x:Name="contentPresenter" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" Content="{TemplateBinding Content}" ContentStringFormat="{TemplateBinding ContentStringFormat}" ContentTemplate="{TemplateBinding ContentTemplate}" RenderTransformOrigin="0.5,0.5">
								<ContentPresenter.RenderTransform>
									<TransformGroup>
										<ScaleTransform/>
										<SkewTransform/>
										<RotateTransform/>
										<TranslateTransform/>
									</TransformGroup>
								</ContentPresenter.RenderTransform>
							</ContentPresenter>
						</Microsoft_Windows_Themes:DataGridHeaderBorder>
						<Thumb HorizontalAlignment="Left" x:Name="PART_LeftHeaderGripper">
							<Thumb.Style>
								<Style TargetType="{x:Type Thumb}">
									<Setter Property="Width" Value="8"/>
									<Setter Property="Background" Value="#00FFFFFF"/>
									<Setter Property="Cursor" Value="SizeWE"/>
									<Setter Property="Template">
										<Setter.Value>
											<ControlTemplate TargetType="{x:Type Thumb}">
												<Border Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}"/>
											</ControlTemplate>
										</Setter.Value>
									</Setter>
								</Style>
							</Thumb.Style>
						</Thumb>
						<Thumb HorizontalAlignment="Right" x:Name="PART_RightHeaderGripper" Width="1">
							<Thumb.Style>
								<Style TargetType="{x:Type Thumb}">
									<Setter Property="Width" Value="8"/>
									<Setter Property="Background" Value="#00FFFFFF"/>
									<Setter Property="Cursor" Value="SizeWE"/>
									<Setter Property="Template">
										<Setter.Value>
											<ControlTemplate TargetType="{x:Type Thumb}">
												<Border Padding="{TemplateBinding Padding}" Background="{DynamicResource PART_RightHeaderGripperBackground}"/>
											</ControlTemplate>
										</Setter.Value>
									</Setter>
								</Style>
							</Thumb.Style>
						</Thumb>
					</Grid>
					<ControlTemplate.Triggers>
						<Trigger Property="IsMouseOver" Value="True">
							<Setter Property="Cursor" TargetName="grid" Value="Hand"/>
						</Trigger>
						<Trigger Property="IsPressed" Value="True">
							<Setter Property="RenderTransform" TargetName="contentPresenter">
								<Setter.Value>
									<TransformGroup>
										<ScaleTransform/>
										<SkewTransform/>
										<RotateTransform/>
										<TranslateTransform X="1" Y="1"/>
									</TransformGroup>
								</Setter.Value>
							</Setter>
						</Trigger>
					</ControlTemplate.Triggers>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
		<Setter Property="HorizontalContentAlignment" Value="Center"/>
		<Setter Property="Foreground" Value="White"/>
		<Setter Property="Background" Value="{DynamicResource DatagridColumnHeaderBackground}"/>
	</Style>
        
        <!--Datagrid Style With Tooggle Button-->


        <!--  #endregion Style  -->
    </UserControl.Resources>
    <Grid x:Name="GridLayout">
        <Rectangle x:Name="UserControl_Background_Image"
                   Fill="{DynamicResource UserControl_Background_Image}" />
        <AdornerDecorator>
            <Grid x:Name="grdTimeClockCorrection"
                  Grid.RowSpan="2">
                <!--  Search Grid  -->
                <Grid x:Name="grdSearch">
                    <Grid.Visibility>
                        <Binding Mode="OneWay"
                                 Path="IsSearchMode"
                                 UpdateSourceTrigger="PropertyChanged">
                            <Binding.Converter>
                                <converter:BoolToVisibilityConverter FalseToVisibility="Collapsed" />
                            </Binding.Converter>
                        </Binding>
                    </Grid.Visibility>
                    <Grid x:Name="grdContentSearch"
                          d:LayoutOverrides="GridBox">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition />
                        </Grid.RowDefinitions>
                        <GroupBox x:Name="gbSearch"
                                  Margin="10,10,10,0">
                            <GroupBox.Header>
                                <TextBlock x:Name="txtblSearch"
                                           Foreground="{DynamicResource GroupboxHeaderForeground}"
                                           Style="{DynamicResource GroupboxTextBlock}"
                                           Text="{DynamicResource TimeClockManualEventEditing_gbSearch_HeaderSearch}"
                                           TextWrapping="NoWrap" />
                            </GroupBox.Header>
                            <Grid x:Name="grdgbSearch"
                                  Margin="0,4,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="90" />
                                    <ColumnDefinition />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="30" />
                                    <RowDefinition />
                                </Grid.RowDefinitions>
                                <TextBlock Margin="10,0,0,0"
                                           HorizontalAlignment="Left"
                                           VerticalAlignment="Center"
                                           d:IsHidden="True"
                                           Foreground="White"
                                           Text="{DynamicResource TimeClockManualEventEditing_gbSearch_FromDate}" />
                                <cpcControl:DateComboBox x:Name="datecmbFilterDate"
                                                         Grid.Column="1"
                                                         Height="21"
                                                         Margin="2,0,10,0"
                                                         Command="{Binding SearchCommand}"
                                                         CommandParameter="{Binding Params,
                                                                               ElementName=filterControl}"
                                                         FromDate="{Binding FromDate,
                                                                       Mode=TwoWay,
                                                                       UpdateSourceTrigger=PropertyChanged}"
                                                         ShowAllDate="False"
                                                         ToDate="{Binding ToDate,
                                                                     Mode=TwoWay,
                                                                     UpdateSourceTrigger=PropertyChanged}" />
                                <cpcControl:FilterAdvanceSearch x:Name="filterControl"
                                                                Grid.Row="1"
                                                                Grid.ColumnSpan="2"
                                                                VerticalAlignment="Top"
                                                                FilterCommand="{Binding SearchCommand}"
                                                                FilterText="{Binding FilterText,
                                                                                Mode=TwoWay,
                                                                                UpdateSourceTrigger=PropertyChanged}"
                                                                IsAdvanceMode="{Binding IsAdvanceMode,
                                                                                   Mode=OneWayToSource,
                                                                                   UpdateSourceTrigger=PropertyChanged}"
                                                                ItemsCount="{Binding TotalItem,
                                                                                Mode=OneWay,
                                                                                UpdateSourceTrigger=PropertyChanged}"
                                                                ItemsSource="{Binding Searches}"
                                                                Params="{Binding SearchParam,
                                                                            Mode=OneWayToSource,
                                                                            UpdateSourceTrigger=PropertyChanged}" Margin="0,0,10,0" />

                            </Grid>
                        </GroupBox>
                        <CheckBox x:Name="chkShowAllHasTimeLog"
                                  Grid.Row="1"
                                  Margin="10,10,0,0"
                                  HorizontalAlignment="Left"
                                  VerticalAlignment="Center"
                                  Content="Show / Hide employee don't have timelogs in this duration."
                                  IsChecked="{Binding IsShowAll,
                                                      Mode=TwoWay,
                                                      UpdateSourceTrigger=PropertyChanged}">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Click">
                                    <command:EventToCommand Command="{Binding SearchCommand}"
                                                            CommandParameter="{Binding Params, ElementName=filterControl}" />
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </CheckBox>
                        <cpcDatagridControl:DataGridControl x:Name="dtgrdEmployeeName"
                                                            Grid.Row="2"
                                                            Margin="10"
                                                            AutoGenerateColumns="False"
                                                            CanUserAddRows="False"
                                                            CanUserDeleteRows="False"
                                                            ItemsSource="{Binding EmployeeCollection}"
                                                            RowDetailsTemplate="{DynamicResource DataTemplateRowDetailTemplateManualEventEditingSearch}"
                                                            IsRollBackData="False"
                                                            SelectionMode="Single"
                                                            SelectionUnit="FullRow"
                                                            
                                                            
                                                            SnapsToDevicePixels="True"
                                                            Style="{DynamicResource DatagridWithRowHeader}"
                                                            cpcBehavior:DoubleClickCommandBehavior.DoubleClickCommand="{Binding MouseDoubleClickCommand}"
                                                            RowStyle="{DynamicResource DataGridToggleRowStyle}" NumberOfItems="{Binding TotalItem, Mode=OneWay}">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="SelectionChanged">
                                    <command:EventToCommand Command="{Binding EmployeeSelectionChangedCommand}"
                                                            CommandParameter="{Binding SelectedItem, ElementName=dtgrdEmployeeName}" />
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                            <cpcDatagridControl:DataGridControl.Columns>
                                <DataGridTemplateColumn Width="25"
                                                        Header="">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <ToggleButton x:Name="TgPlus"
                                                          IsChecked="{Binding IsChecked,
                                                                              Mode=TwoWay,
                                                                              UpdateSourceTrigger=PropertyChanged}"
                                                          Style="{DynamicResource PlusMinusToggleButtonStyle}" />
                                            <DataTemplate.Triggers>
                                                <DataTrigger Binding="{Binding IsAvailableTimeLog, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                                                             Value="False">
                                                    <Setter Property="Visibility"
                                                            Value="Collapsed" />
                                                    <Setter TargetName="TgPlus"
                                                            Property="IsChecked"
                                                            Value="False" />
                                                </DataTrigger>
                                            </DataTemplate.Triggers>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTextColumn Width="120"
                                                    Binding="{Binding GuestNo}"
                                                    Header="{DynamicResource TimeClockManualEventEditing_DatagridEmployeeName_EmployeeNo}"
                                                    IsReadOnly="True" />
                                <DataGridTextColumn Width="*"
                                                    Binding="{Binding FirstName}"
                                                    Header="{DynamicResource TimeClockManualEventEditing_DatagridEmployeeName_FirstName}"
                                                    IsReadOnly="True" />
                                <DataGridTextColumn Width="*"
                                                    Binding="{Binding LastName}"
                                                    Header="{DynamicResource TimeClockManualEventEditing_DatagridEmployeeName_LastName}"
                                                    IsReadOnly="True" />
                                <DataGridTextColumn Width="150"
                                                    Binding="{Binding ActualHours}"
                                                    Header="{DynamicResource TimeClockManualEventEditing_DatagridEmployeeName_TotalActualHours}"
                                                    IsReadOnly="True" />
                            </cpcDatagridControl:DataGridControl.Columns>
                        </cpcDatagridControl:DataGridControl>
                    </Grid>
                    <Grid x:Name="grdBtnSearchBackNext"
                          Width="15"
                          Height="61"
                          Margin="0"
                          HorizontalAlignment="Right"
                          VerticalAlignment="Center"
                          Visibility="Collapsed">
                        <Grid.RowDefinitions>
                            <RowDefinition />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <Button x:Name="tglbtnSearchBack"
                                Width="15"
                                Margin="0"
                                HorizontalAlignment="Right"
                                Background="#02FFFFFF"
                                BorderBrush="{x:Null}"
                                BorderThickness="1"
                                ScrollViewer.VerticalScrollBarVisibility="Disabled"
                                Style="{DynamicResource ButtonSearch}">
                            <Grid x:Name="grdtglbtnSearchBack1">
                                <Path x:Name="pathBack1"
                                      Width="7"
                                      Height="14"
                                      HorizontalAlignment="Center"
                                      VerticalAlignment="Center"
                                      Data="M9.9166667,11.666667 L6.499667,15.999667 9.9163337,19.666334"
                                      RenderTransformOrigin="0.5,0.5"
                                      Stretch="Fill"
                                      Stroke="White"
                                      StrokeThickness="2.5" />
                            </Grid>
                        </Button>
                        <Rectangle x:Name="Linebtn"
                                   Grid.Row="1"
                                   Height="1"
                                   VerticalAlignment="Center"
                                   Fill="White"
                                   StrokeThickness="0"
                                   Visibility="Collapsed" />
                        <Button x:Name="tglbtnSearchNext"
                                Grid.Row="2"
                                Width="15"
                                Height="30"
                                Margin="0"
                                HorizontalAlignment="Right"
                                VerticalAlignment="Center"
                                Background="#02E4E4E4"
                                BorderBrush="{x:Null}"
                                BorderThickness="1"
                                ScrollViewer.VerticalScrollBarVisibility="Disabled"
                                Style="{DynamicResource ButtonSearch}"
                                Visibility="Collapsed">
                            <Grid x:Name="grdtglbtnSearchNext1">
                                <Path x:Name="path2"
                                      Width="7"
                                      Height="14"
                                      HorizontalAlignment="Center"
                                      VerticalAlignment="Center"
                                      Data="M9.9166667,11.666667 L6.499667,15.999667 9.9163337,19.666334"
                                      RenderTransformOrigin="0.5,0.5"
                                      Stretch="Fill"
                                      Stroke="White"
                                      StrokeThickness="2.5">
                                    <Path.RenderTransform>
                                        <TransformGroup>
                                            <ScaleTransform ScaleX="1"
                                                            ScaleY="1" />
                                            <SkewTransform AngleX="0"
                                                           AngleY="0" />
                                            <RotateTransform Angle="180" />
                                            <TranslateTransform X="0"
                                                                Y="0" />
                                        </TransformGroup>
                                    </Path.RenderTransform>
                                </Path>
                            </Grid>
                        </Button>
                    </Grid>
                </Grid>
                <!--  Form Grid  -->
                <Grid x:Name="grdFormView" d:IsHidden="True">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="22" />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <Grid.Visibility>
                        <Binding Mode="OneWay"
                                 Path="IsSearchMode"
                                 UpdateSourceTrigger="PropertyChanged">
                            <Binding.Converter>
                                <converter:BoolToVisibilityConverter FalseToVisibility="Visible" />
                            </Binding.Converter>
                        </Binding>
                    </Grid.Visibility>
                    <Rectangle x:Name="grdSpliter"
                               Grid.Column="1"
                               Width="1"
                               Margin="0"
                               HorizontalAlignment="Left"
                               Fill="{DynamicResource Spilter_Line_Background}"
                               d:LayoutOverrides="HorizontalAlignment" />
                    <Grid x:Name="grdSubTimeClockCorrection"
                          Grid.Column="1">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="60" />
                            <RowDefinition Height="35" />
                            <RowDefinition />
                        </Grid.RowDefinitions>
                        <cpcControl:GridReadOnlyControl BackgroundWhenReadOnly="Transparent"
                                                        IsReadOnly="{Binding ReadOnlyForm, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">
                            <StackPanel x:Name="stkpBtn"
                                        Height="Auto"
                                        Margin="20,0,0,5"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Bottom"
                                        Orientation="Horizontal">
                                <Button x:Name="btnSaveNew"
                                        Width="40"
                                        Height="40"
                                        Margin="0"
                                        d:IsHidden="True"
                                        Style="{DynamicResource ButtonSystem}"
                                        ToolTip="Save &amp; New"
                                        Visibility="Collapsed">
                                    <StackPanel x:Name="stkpBtnSaveNew"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center">
                                        <Rectangle x:Name="imgSaveNew"
                                                   Width="30"
                                                   Height="30"
                                                   Fill="{DynamicResource SaveNew}" />
                                        <TextBlock x:Name="txtblSaveNew"
                                                   VerticalAlignment="Center"
                                                   Style="{DynamicResource ButtonSystemTextBlock}"
                                                   Text="{DynamicResource Button_TextBlock_SaveNew}"
                                                   TextWrapping="NoWrap"
                                                   Visibility="Collapsed" />
                                    </StackPanel>
                                </Button>
                                <Button x:Name="btnSaveClose"
                                        Width="40"
                                        Height="40"
                                        Command="{Binding SaveCommand}"
                                        Style="{DynamicResource ButtonSystem}"
                                        ToolTip="Save &amp; Close [Ctrl + S]">
                                    <StackPanel x:Name="stkpBtnSaveClose"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center"
                                                Orientation="Horizontal">
                                        <Rectangle x:Name="imgSaveClose"
                                                   Width="30"
                                                   Height="30"
                                                   Fill="{DynamicResource SaveClose}" />
                                        <TextBlock x:Name="txtblSaveClose"
                                                   Margin="5,0,0,0"
                                                   VerticalAlignment="Center"
                                                   Style="{DynamicResource ButtonSystemTextBlock}"
                                                   Text="{DynamicResource Button_TextBlock_SaveClose}"
                                                   TextWrapping="NoWrap"
                                                   Visibility="Collapsed" />
                                    </StackPanel>
                                </Button>
                                <Button x:Name="btnClear"
                                        Width="40"
                                        Height="40"
                                        d:IsHidden="True"
                                        Style="{DynamicResource ButtonSystem}"
                                        Visibility="Collapsed">
                                    <StackPanel x:Name="stkpBtnClear"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center"
                                                Orientation="Horizontal">
                                        <Rectangle x:Name="imgClear"
                                                   Width="30"
                                                   Height="30"
                                                   Fill="{DynamicResource Clear}" />
                                        <TextBlock x:Name="txtblClear"
                                                   Margin="5,0,0,0"
                                                   VerticalAlignment="Center"
                                                   Style="{DynamicResource ButtonSystemTextBlock}"
                                                   Text="{DynamicResource Button_TextBlock_Clear}"
                                                   TextWrapping="NoWrap"
                                                   Visibility="Collapsed" />
                                    </StackPanel>
                                </Button>
                                <Button x:Name="btnEdit"
                                        Width="40"
                                        Height="40"
                                        d:IsHidden="True"
                                        Style="{DynamicResource ButtonSystem}"
                                        Visibility="Collapsed">
                                    <StackPanel x:Name="stkpBtnEdit"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center"
                                                Orientation="Horizontal">
                                        <Rectangle x:Name="imgEdit"
                                                   Width="30"
                                                   Height="30"
                                                   Fill="{DynamicResource Edit}"
                                                   Stroke="Black" />
                                        <TextBlock x:Name="txtblEdit"
                                                   Margin="5,0,0,0"
                                                   VerticalAlignment="Center"
                                                   Style="{DynamicResource ButtonSystemTextBlock}"
                                                   Text="{DynamicResource Button_TextBlock_Edit}"
                                                   TextWrapping="NoWrap"
                                                   Visibility="Collapsed" />
                                    </StackPanel>
                                </Button>
                                <Button x:Name="btnDelete"
                                        Width="40"
                                        Height="40"
                                        d:IsHidden="True"
                                        Style="{DynamicResource ButtonSystem}"
                                        Visibility="Collapsed">
                                    <StackPanel x:Name="stkpBtnDelete"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center">
                                        <Rectangle x:Name="imgDelete"
                                                   Width="30"
                                                   Height="30"
                                                   Fill="{DynamicResource Delete}" />
                                        <TextBlock x:Name="txtblDelete"
                                                   Margin="5,0,0,0"
                                                   VerticalAlignment="Center"
                                                   Style="{DynamicResource ButtonSystemTextBlock}"
                                                   Text="{DynamicResource Button_ToolTip_TextBlock_Delete}"
                                                   TextWrapping="NoWrap"
                                                   Visibility="Collapsed" />
                                    </StackPanel>
                                </Button>
                                <Button x:Name="btnPrint"
                                        Width="40"
                                        Height="40"
                                        VerticalAlignment="Center"
                                        Style="{DynamicResource ButtonSystem}"
                                        Visibility="Collapsed">
                                    <StackPanel x:Name="stkpBtnPrint"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center"
                                                Orientation="Horizontal">
                                        <Rectangle x:Name="imgPrint"
                                                   Width="30"
                                                   Height="30"
                                                   Fill="{DynamicResource Print}"
                                                   Stroke="Black" />
                                        <TextBlock x:Name="txtblPrint"
                                                   Margin="5,0,0,0"
                                                   VerticalAlignment="Center"
                                                   Style="{DynamicResource ButtonSystemTextBlock}"
                                                   Text="{DynamicResource Button_ToolTip_TextBlock_Print}"
                                                   TextWrapping="NoWrap"
                                                   Visibility="Collapsed" />
                                    </StackPanel>
                                </Button>
                                <Button x:Name="btnSend"
                                        Width="40"
                                        Height="40"
                                        Margin="0"
                                        Style="{DynamicResource ButtonSystem}"
                                        Visibility="Collapsed">
                                    <StackPanel x:Name="stkpBtnSend"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center">
                                        <Rectangle x:Name="imgSend"
                                                   Width="35"
                                                   Height="35"
                                                   Fill="{DynamicResource SendMail}"
                                                   Stroke="Black" />
                                        <TextBlock x:Name="txtblSend"
                                                   Margin="5,0,0,0"
                                                   VerticalAlignment="Center"
                                                   Style="{DynamicResource ButtonSystemTextBlock}"
                                                   Text="{DynamicResource Button_TextBlock_Send}"
                                                   TextWrapping="NoWrap"
                                                   Visibility="Collapsed" />
                                    </StackPanel>
                                </Button>
                                <Button x:Name="btnNote"
                                        Width="40"
                                        Height="40"
                                        Style="{DynamicResource ButtonSystem}"
                                        Visibility="Collapsed">
                                    <StackPanel x:Name="stkpBtnNote"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center">
                                        <Rectangle x:Name="imgNote"
                                                   Width="30"
                                                   Height="30"
                                                   Fill="{DynamicResource Remark}" />
                                        <TextBlock x:Name="txtblNote"
                                                   Margin="5,0,0,0"
                                                   VerticalAlignment="Center"
                                                   Style="{DynamicResource ButtonSystemTextBlock}"
                                                   Text="{DynamicResource Button_TextBlock_Note}"
                                                   TextWrapping="NoWrap"
                                                   Visibility="Collapsed" />
                                    </StackPanel>
                                </Button>
                                <Button x:Name="btnExit"
                                        Width="40"
                                        Height="40"
                                        Margin="0"
                                        Style="{DynamicResource ButtonSystem}"
                                        Visibility="Collapsed">
                                    <StackPanel x:Name="stkpBtnExit"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center">
                                        <Rectangle x:Name="imgExit"
                                                   Width="30"
                                                   Height="32"
                                                   Fill="{DynamicResource Exit}"
                                                   Stroke="Black" />
                                        <TextBlock x:Name="txtblExit"
                                                   Margin="5,0,0,0"
                                                   VerticalAlignment="Center"
                                                   Style="{DynamicResource ButtonSystemTextBlock}"
                                                   Text="{DynamicResource Button_ToolTip_TextBlock_Exit}"
                                                   TextWrapping="NoWrap"
                                                   Visibility="Collapsed" />
                                    </StackPanel>
                                </Button>
                            </StackPanel>
                        </cpcControl:GridReadOnlyControl>
                        <TextBlock x:Name="txtblBindingTimeClockCorrection"
                                   Margin="0,0,20,7"
                                   HorizontalAlignment="Right"
                                   VerticalAlignment="Bottom"
                                   FontFamily="Times New Roman"
                                   FontSize="33.333"
                                   FontWeight="Bold"
                                   Style="{DynamicResource TextBlockTitleFormView}"
                                   Text="{DynamicResource TimeClockManualEventEditing_TimeClock Correction}"
                                   TextWrapping="NoWrap" />
                        <Rectangle x:Name="Line"
                                   Height="1"
                                   Margin="2,0"
                                   VerticalAlignment="Bottom"
                                   Fill="{DynamicResource Spilter_Line_Background}" />
                        <Grid x:Name="grdBasic"
                              Grid.Row="1"
                              Width="747"
                              Height="25"
                              Margin="0,10,0,0"
                              HorizontalAlignment="Left"
                              VerticalAlignment="Top">
                            <TextBlock x:Name="txtblEmployeeName"
                                       Margin="10,0,0,0"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Center"
                                       Style="{StaticResource TextBlockNormal}"
                                       Text="{DynamicResource TimeClockManualEventEditing_EmployeeName}"
                                       TextWrapping="NoWrap"
                                       d:LayoutOverrides="HorizontalAlignment" />
                            <Grid x:Name="grdEmployeeName"
                                  Margin="105,2,0,2"
                                  HorizontalAlignment="Left">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="300" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>

                                <TextBox x:Name="txtEmployeeName1"
                                         IsReadOnly="True"
                                         Padding="2,0,2,0"
                                         TextWrapping="NoWrap">
                                    <TextBox.Text>
                                        <MultiBinding StringFormat="{}{1} {0}">
                                            <Binding Path="SelectedEmployee.FirstName" />
                                            <Binding Path="SelectedEmployee.LastName" />
                                        </MultiBinding>
                                    </TextBox.Text>
                                </TextBox>
                                <Rectangle x:Name="imgMondayAlert"
                                           Grid.Column="1"
                                           Width="15"
                                           Height="15"
                                           Margin="5,0,0,0"
                                           HorizontalAlignment="Left"
                                           VerticalAlignment="Center"
                                           Fill="{DynamicResource Alert}"
                                           StrokeThickness="0"
                                           ToolTip="Employee is InActived">
                                    <Rectangle.Style>
                                        <Style TargetType="{x:Type Rectangle}">
                                            <Setter Property="Visibility"
                                                    Value="Collapsed" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ReadOnlyForm, Mode=OneWay}"
                                                             Value="True">
                                                    <Setter Property="Visibility"
                                                            Value="Visible" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Rectangle.Style>
                                </Rectangle>
                            </Grid>
                            <TextBlock x:Name="txtblEmployeeNo"
                                       Margin="515,0,0,0"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Center"
                                       Style="{StaticResource TextBlockNormal}"
                                       Text="{DynamicResource TimeClockManualEventEditing_EmployeeNo}"
                                       TextWrapping="NoWrap" />
                            <TextBox x:Name="txtEmployeeNo1"
                                     Width="110"
                                     Margin="590,2,0,2"
                                     HorizontalAlignment="Left"
                                     HorizontalContentAlignment="Right"
                                     IsReadOnly="True"
                                     Padding="2,0,2,0"
                                     Text="{Binding SelectedEmployee.GuestNo}"
                                     TextWrapping="NoWrap" />
                        </Grid>
                        <Border x:Name="brdContentTimeClockCorresction"
                                Grid.Row="2"
                                Margin="10"
                                Background="#19FFFFFF"
                                BorderBrush="White"
                                BorderThickness="1">
                            <cpcControl:GridReadOnlyControl x:Name="grdContentTimeClockCorresction"
                                                            Margin="10"
                                                            ColumnReadOnly="1"
                                                            IsReadOnly="{Binding ReadOnlyForm,
                                                                                  Mode=OneWay,
                                                                                  UpdateSourceTrigger=PropertyChanged}">

                                <Grid.RowDefinitions>
                                    <RowDefinition Height="55" />
                                    <RowDefinition />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="20" />
                                </Grid.ColumnDefinitions>
                                <StackPanel x:Name="stkpBtnAddRemoveHours"
                                            Grid.ColumnSpan="2"
                                            Height="Auto"
                                            Margin="10,0,0,0"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Orientation="Horizontal">
                                    <Button x:Name="btnAddHours"
                                            Width="40"
                                            Height="40"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Command="{Binding NewTimeLogCommand}"
                                            Style="{DynamicResource ButtonSystem}"
                                            ToolTip="Add New Time Log">
                                        <StackPanel x:Name="stkpBtnAddHours"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center"
                                                    Orientation="Horizontal">
                                            <Rectangle x:Name="imgAddHours"
                                                       Width="30"
                                                       Height="30"
                                                       Fill="{DynamicResource AddHours}" />
                                            <TextBlock x:Name="txtblAddHours"
                                                       Margin="5,0,0,0"
                                                       VerticalAlignment="Center"
                                                       Foreground="White"
                                                       Style="{DynamicResource ButtonSystemTextBlock}"
                                                       Text="{DynamicResource TimeClockManualEventEditing_Button_AddHours}"
                                                       TextWrapping="NoWrap"
                                                       Visibility="Collapsed" />
                                        </StackPanel>
                                    </Button>
                                    <Button x:Name="btnRemoveHours"
                                            Width="40"
                                            Height="40"
                                            Margin="10,0,0,0"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Command="{Binding RemoveTimeLogCommand}"
                                            CommandParameter="{Binding ElementName=dtgrdTimeClockCorrection}"
                                            Style="{DynamicResource ButtonSystem}"
                                            ToolTip="Remove Time Log">
                                        <StackPanel x:Name="stkpBtnRemoveHours"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center"
                                                    Orientation="Horizontal">
                                            <Rectangle x:Name="imgRemoveHours"
                                                       Width="30"
                                                       Height="30"
                                                       Fill="{DynamicResource RemoveHours}" />
                                            <TextBlock x:Name="txtblRemoveHours"
                                                       Margin="5,0,0,0"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource ButtonSystemTextBlock}"
                                                       Text="{DynamicResource TimeClockManualEventEditing_Button_RemoveHours}"
                                                       TextWrapping="NoWrap"
                                                       Visibility="Collapsed" />
                                        </StackPanel>
                                    </Button>
                                </StackPanel>
                                <StackPanel x:Name="stkpDate"
                                            Grid.ColumnSpan="2"
                                            Height="21"
                                            Margin="280,0,0,0"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Orientation="Horizontal"
                                            d:LayoutOverrides="Width">
                                    <TextBlock x:Name="txtblFrom1"
                                               HorizontalAlignment="Left"
                                               VerticalAlignment="Center"
                                               FontSize="14.667"
                                               FontWeight="Bold"
                                               Foreground="#FF59FF00"
                                               Style="{DynamicResource TextBlockTitleFormView}"
                                               Text="{DynamicResource TimeClockManualEventEditing_From}"
                                               TextWrapping="Wrap"
                                               d:LayoutOverrides="HorizontalAlignment" />
                                    <TextBlock x:Name="txtblBindingFrom"
                                               Margin="10,0,0,0"
                                               HorizontalAlignment="Left"
                                               VerticalAlignment="Center"
                                               FontSize="14.667"
                                               FontWeight="Bold"
                                               Foreground="#FF59FF00"
                                               Style="{DynamicResource TextBlockTitleFormView}"
                                               Text="{Binding FromDate,
                                                              Mode=OneWay,
                                                              UpdateSourceTrigger=PropertyChanged,
                                                              StringFormat=D}"
                                               TextWrapping="Wrap"
                                               d:LayoutOverrides="HorizontalAlignment" />
                                    <TextBlock x:Name="txtblTo2"
                                               Margin="20,0,0,0"
                                               HorizontalAlignment="Left"
                                               VerticalAlignment="Center"
                                               FontSize="14.667"
                                               FontWeight="Bold"
                                               Foreground="#FF59FF00"
                                               Style="{DynamicResource TextBlockTitleFormView}"
                                               Text="{DynamicResource TimeClockManualEventEditing_To}"
                                               TextWrapping="Wrap"
                                               d:LayoutOverrides="HorizontalAlignment" />
                                    <TextBlock x:Name="txtblBindingTo"
                                               Margin="10,0,0,0"
                                               HorizontalAlignment="Left"
                                               VerticalAlignment="Center"
                                               FontSize="14.667"
                                               FontWeight="Bold"
                                               Foreground="#FF59FF00"
                                               Style="{DynamicResource TextBlockTitleFormView}"
                                               Text="{Binding ToDate,
                                                              Mode=OneWay,
                                                              UpdateSourceTrigger=PropertyChanged,
                                                              StringFormat=D}"
                                               TextWrapping="Wrap"
                                               d:LayoutOverrides="HorizontalAlignment" />
                                </StackPanel>
                                <cpcControl:DataGridEditable x:Name="dtgrdTimeClockCorrection"
                                                             Grid.Row="1"
                                                             Grid.ColumnSpan="2"
                                                             AutoGenerateColumns="False"
                                                             CanUserAddRows="False"
                                                             CanUserDeleteRows="False"
                                                             RowDetailsTemplate="{StaticResource DataTemplateRowDetailTemplateOvertime}"
                                                             RowDetailsVisibilityMode="Collapsed"
                                                             RowStyle="{DynamicResource DataGridRowStyle}"
                                                             
                                                             ItemsSource="{Binding SelectedEmployee.TimeLogCollection}"
                                                             SelectedItem="{Binding SelectedTimeLog,
                                                                                     Mode=TwoWay,
                                                                                     UpdateSourceTrigger=PropertyChanged}"
                                                             SelectionMode="Single"
                                                             SelectionUnit="FullRow" Style="{DynamicResource DatagridWithRowHeader_ManuEvent}" ColumnHeaderStyle="{DynamicResource DataGridColumnHeader_ManuEvent}" 
                                                             >
                                    <!--Style="{DynamicResource DatagridWithoutRowHeader}"
                                    ItemsSource="{Binding SelectedEmployee.TimeLogCollection}"
                                    -->
                                    <cpcControl:DataGridEditable.InputBindings>
                                        <KeyBinding Key="Delete"
                                                    Command="{Binding RemoveTimeLogCommand}"
                                                    CommandParameter="{Binding ElementName=dtgrdTimeClockCorrection}" />
                                    </cpcControl:DataGridEditable.InputBindings>
                                    <!--
                                        <i:Interaction.Triggers>
                                        <i:EventTrigger EventName="SelectionChanged">
                                        <command:EventToCommand Command="{Binding TimeLogSelectionChangedCommand}"
                                        CommandParameter="{Binding SelectedItem, ElementName=dtgrdTimeClockCorrection}" />
                                        </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    -->
                                    <cpcControl:DataGridEditable.GroupStyle>
                                        <GroupStyle>
                                            <GroupStyle.ContainerStyle>
                                                <Style TargetType="{x:Type GroupItem}">
                                                    <Setter Property="Template"
                                                            Value="{DynamicResource DataGridGroupControlTemplate}" />
                                                </Style>
                                            </GroupStyle.ContainerStyle>
                                        </GroupStyle>
                                    </cpcControl:DataGridEditable.GroupStyle>

                                    <cpcControl:DataGridEditable.Columns>
                                        <DataGridTemplateColumn Width="100"
                                                                MinWidth="100"
                                                                CellTemplate="{StaticResource DateReadOnlyTemplate}">
                                            <DataGridTemplateColumn.HeaderTemplate>
                                                <DataTemplate>
                                                    <TextBlock Tag="Date"
                                                               Text="Date" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.HeaderTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Width="130"
                                                                MinWidth="130"
                                                                CellTemplate="{StaticResource ClockInCellTemplate}">
                                            <DataGridTemplateColumn.HeaderTemplate>
                                                <DataTemplate>
                                                    <TextBlock Tag="In"
                                                               Text="In" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.HeaderTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Width="130"
                                                                MinWidth="130"
                                                                CellTemplate="{StaticResource ClockOutCellTemplate}">
                                            <DataGridTemplateColumn.HeaderTemplate>
                                                <DataTemplate>
                                                    <TextBlock Tag="Out"
                                                               Text="Out" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.HeaderTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTextColumn Width="100"
                                                            MinWidth="100"
                                                            Binding="{Binding DurationText,
                                                                              Mode=OneWay}"
                                                            Header="{DynamicResource TimeClockManualEventEditing_DatagridTimeClockCorrection_Duration}" />

                                        <DataGridTemplateColumn Width="*"
                                                                MinWidth="200"
                                                                CellTemplate="{StaticResource ReasonCellTemplate}">
                                            <DataGridTemplateColumn.HeaderTemplate>
                                                <DataTemplate>
                                                    <TextBlock Tag="Reason"
                                                               Text="Reason" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.HeaderTemplate>
                                        </DataGridTemplateColumn>
                                    </cpcControl:DataGridEditable.Columns>
                                </cpcControl:DataGridEditable>
                            </cpcControl:GridReadOnlyControl>
                        </Border>
                    </Grid>
                    <Button x:Name="btnBarSearch"
                            Width="22"
                            Margin="0"
                            HorizontalAlignment="Left"
                            Background="#02DFEDFF"
                            BorderBrush="{x:Null}"
                            BorderThickness="1"
                            ToolTip="Search [Ctrl + F]"
                            Command="{Binding MouseDoubleClickCommand}"
                            CommandParameter="{Binding SelectedItem,
                                                       ElementName=dtgrdEmployeeName}"
                            Style="{DynamicResource ButtonBarSearch}"
                            d:LayoutOverrides="GridBox">
                        <TextBlock x:Name="txtblShowSearch1"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"
                                   FontWeight="Bold"
                                   Style="{DynamicResource ButtonBarSearchTextBlock}"
                                   Text="{DynamicResource ButtonBarSearch_TextBlock_Search}"
                                   TextWrapping="NoWrap">
                            <TextBlock.LayoutTransform>
                                <TransformGroup>
                                    <ScaleTransform />
                                    <SkewTransform />
                                    <RotateTransform Angle="-90" />
                                    <TranslateTransform />
                                </TransformGroup>
                            </TextBlock.LayoutTransform>
                        </TextBlock>
                    </Button>
                </Grid>
            </Grid>
        </AdornerDecorator>
    </Grid>
    <UserControl.InputBindings>
        <KeyBinding Key="S"
                    Command="{Binding SaveCommand}"
                    Modifiers="Control" />
        <KeyBinding Key="F"
                    Command="{Binding MouseDoubleClickCommand}"
                    Modifiers="Control" />
    </UserControl.InputBindings>
</UserControl>